/*! For license information please see main.1e7338b6.js.LICENSE.txt */
!function(){var e={5122:function(e,t,n){"use strict";n.d(t,{Aq:function(){return V},Bo:function(){return b},Cl:function(){return L},Dv:function(){return R},Ee:function(){return j},Fv:function(){return z},H2:function(){return h},K8:function(){return s},L9:function(){return x},Lt:function(){return w},MQ:function(){return q},Oq:function(){return F},Q3:function(){return d},Qi:function(){return M},RC:function(){return C},S4:function(){return g},Sq:function(){return S},Sz:function(){return B},Xi:function(){return o},YA:function(){return O},_g:function(){return p},_o:function(){return _},bG:function(){return A},hf:function(){return i},kG:function(){return N},m4:function(){return E},oW:function(){return Z},pO:function(){return f},qS:function(){return a},qn:function(){return T},r:function(){return I},rz:function(){return m},sG:function(){return u},sT:function(){return P},uy:function(){return c},vQ:function(){return l},vV:function(){return D},vk:function(){return y},wm:function(){return k},x5:function(){return U},xi:function(){return v}});var r=n(3605);function i(){return{type:r.xv}}function a(e){return{type:r.CI,value:e}}function o(e){return{type:r.FL,value:e}}function u(e){return{type:r.d,value:e}}function s(){return{type:r.Hf}}function c(e){return{type:r.pr,msg:e}}function l(){return{type:r.Bj}}function f(e){return{type:r.ZS,payload:e}}function h(){return{type:r.z}}function d(){return{type:r.X5}}function p(e){return{type:r.N3,payload:e}}function v(){return{type:r.xl}}function y(e){return{type:r.V$,text:e}}function m(){return{type:r.c4}}function g(e){return{type:r.$N,msg:e}}function k(e){return{type:r.HR,text:e}}function b(e,t){return{type:r.CK,uid:e,link:t}}function _(e,t,n,i){return{type:r.wo,uid:e,link:t,messages:n,pageMessage:i}}function w(e){return{type:r.UZ,uid:e}}function E(e,t){return{type:r.yX,uid:e,messages:t}}function S(e){return{type:r.zS,uid:e}}function x(e){return{type:r.nF,uid:e}}function T(e){return{type:r.Am,uid:e}}function C(e,t){return{type:r.DF,uid:e,message:t}}function I(e,t){return{type:r.E5,uid:e,messages:t}}function N(e){return{type:r.Dn,uid:e}}function A(){return{type:r.ww}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:r.bD,page:e}}function R(e){return{type:r.At,payload:e}}function P(e,t){return{type:r.Go,payload:{message:e,page:t}}}function D(e){return{type:r.eh,value:e}}function L(e){return{type:r.cg,value:e}}function Z(){return{type:r.Fg}}function M(){return{type:r.F6}}function F(e){return{type:r.G5,status:e}}function U(e,t){return{type:r.nv,payload:{status:e,message:t}}}function j(){return{type:r.qh}}function V(){return{type:r.H7}}function z(e){return{type:r.lk,payload:e}}function q(){return{type:r.D_}}function B(){return{type:r.Ub}}},2470:function(e,t,n){"use strict";function r(){return function(e){return e.auth.error.isError}}function i(){return function(e){return e.auth.isAuth}}n.d(t,{$:function(){return r},F:function(){return i}})},3605:function(e,t,n){"use strict";n.d(t,{$N:function(){return g},Am:function(){return N},At:function(){return R},Bj:function(){return l},CI:function(){return a},CK:function(){return k},DF:function(){return A},D_:function(){return V},Dn:function(){return x},E5:function(){return S},F6:function(){return M},FL:function(){return o},Fg:function(){return Z},G5:function(){return F},Go:function(){return P},H7:function(){return z},HR:function(){return C},Hf:function(){return s},N3:function(){return p},UZ:function(){return _},Ub:function(){return q},V$:function(){return y},X5:function(){return d},ZS:function(){return f},bD:function(){return O},c4:function(){return m},cg:function(){return L},d:function(){return u},eh:function(){return D},lk:function(){return r},nF:function(){return I},nv:function(){return U},pr:function(){return c},qh:function(){return j},wo:function(){return E},ww:function(){return T},xl:function(){return v},xv:function(){return i},yX:function(){return w},z:function(){return h},zS:function(){return b}});var r="PROFILE::INITIALIZE_PROFILE",i="PROFILE::TOGGLE_PROFILE_EDIT",a="PROFILE::SET_NAME_PROFILE",o="PROFILE::SET_STATUS_PROFILE",u="PROFILE::SET_ABOUT_PROFILE",s="PROFILE::SAVE_PROFILE_WITH_SAGA",c="PROFILE::SET_ERROR_SAVE_PROFILE_DATA",l="CHATS::GET_CHATS_WITH_SAGA",f="CHATS::ADD_CHATS_TO_STORE",h="CHATS::SET_SUBSCRIBE_ACTIVE",d="CHATS::SET_CLOSED_SUBSCRIBE",p="CHATS::ADD_NEW_ELEMENT_TO_CHAT",v="CHATS::TOGGLE_NEW_CHAT",y="CHATS::CHANGE_NAME_CHAT",m="CHATS::ADD_CHAT_WITH_SAGA",g="SET::ADDED_CHAT_ERROR",k="MESSAGES::GET_MESSAGES_WITH_SAGA",b="MESSAGES::GET_OLD_MESSAGES_WITH_SAGA",_="MESSAGES::UPDATE_LAST_MESSAGES_WITH_SAGA",w="MESSAGES::UPDATES_LAST_MESSAGES_IN_STATE",E="MESSAGES::ADD_MESSAGES_TO_STORE",S="MESSAGES::ADD_OLD_MESSAGES_TO_STORE",x="MESSAGES::SEND_MESSAGE_WITH_SAGA",T="MESSAGES::SEND_MESSAGE",C="MESSAGES::INPUT_CHAT",I="MESSAGES::SUBSCRIBE_ON_NEW_MESSAGES_WITH_SAGA",N="MESSAGES::UNSUBSCRIBE_ON_NEW_MESSAGES",A="MESSAGES::ADD_NEW_MESSAGE_TO_STORE",O="CHARACTERS::GET_INIT_LIST",R="CHARACTERS::SET_LIST",P="CHARACTERS::SET_ERROR",D="AUTH::SET_EMAIL",L="AUTH::SET_PASS",Z="AUTH::REGISTRATION_USER",M="AUTH::AUTHORIZATION_USER",F="AUTH::SET_STATUS_AUTH",U="AUTH::SET_ERROR_AUTH",j="AUTH:CLEAR_FIELDS",V="AUTH::LOGOUT_AUTH_WITH_SAGA",z="AUTH::LOGAUT",q="AUTH::DELETE_DATA_AFTER_LOGOUT"},3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,y=1,m=0,g=0,k=0,b="";function _(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:y,length:o,return:""}}function w(e,t){return o(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function E(){return k=g>0?l(b,--g):0,y--,10===k&&(y=1,v--),k}function S(){return k=g<m?l(b,g++):0,y++,10===k&&(y=1,v++),k}function x(){return l(b,g)}function T(){return g}function C(e,t){return f(b,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return v=y=1,m=h(b=e),g=0,[]}function A(e){return b="",e}function O(e){return u(C(g-1,D(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(k=x())&&k<33;)S();return I(e)>2||I(k)>3?"":" "}function P(e,t){for(;--t&&S()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return C(e,T()+(t<6&&32==x()&&32==S()))}function D(e){for(;S();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&D(k);break;case 40:41===e&&D(e);break;case 92:S()}return g}function L(e,t){for(;S()&&e+k!==57&&(e+k!==84||47!==x()););return"/*"+C(t,g-1)+"*"+a(47===e?e:S())}function Z(e){for(;!I(x());)S();return C(e,g)}var M="-ms-",F="-moz-",U="-webkit-",j="comm",V="rule",z="decl",q="@keyframes";function B(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case z:return e.return=e.return||e.value;case j:return"";case q:return e.return=e.value+"{"+B(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=B(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return A(G("",null,null,null,[""],e=N(e),0,[0],e))}function G(e,t,n,r,i,o,u,f,d){for(var v=0,y=0,m=u,g=0,k=0,b=0,_=1,w=1,C=1,I=0,N="",A=i,D=o,M=r,F=N;w;)switch(b=I,I=S()){case 40:if(108!=b&&58==l(F,m-1)){-1!=c(F+=s(O(I),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:F+=O(I);break;case 9:case 10:case 13:case 32:F+=R(b);break;case 92:F+=P(T()-1,7);continue;case 47:switch(x()){case 42:case 47:p(Q(L(S(),T()),t,n),d);break;default:F+="/"}break;case 123*_:f[v++]=h(F)*C;case 125*_:case 59:case 0:switch(I){case 0:case 125:w=0;case 59+y:k>0&&h(F)-m&&p(k>32?$(F+";",r,n,m-1):$(s(F," ","")+";",r,n,m-2),d);break;case 59:F+=";";default:if(p(M=K(F,t,n,v,y,i,f,N,A=[],D=[],m),o),123===I)if(0===y)G(F,t,M,M,A,o,m,f,D);else switch(99===g&&110===l(F,3)?100:g){case 100:case 109:case 115:G(e,M,M,r&&p(K(e,M,M,0,0,i,f,N,i,A=[],m),D),i,D,m,f,r?A:D);break;default:G(F,M,M,M,[""],D,0,f,D)}}v=y=k=0,_=C=1,N=F="",m=u;break;case 58:m=1+h(F),k=b;default:if(_<1)if(123==I)--_;else if(125==I&&0==_++&&125==E())continue;switch(F+=a(I),I*_){case 38:C=y>0?1:(F+="\f",-1);break;case 44:f[v++]=(h(F)-1)*C,C=1;break;case 64:45===x()&&(F+=O(S())),g=x(),y=m=h(N=F+=Z(T())),I++;break;case 45:45===b&&2==h(F)&&(_=0)}}return o}function K(e,t,n,r,a,o,c,l,h,p,v){for(var y=a-1,m=0===a?o:[""],g=d(m),k=0,b=0,w=0;k<r;++k)for(var E=0,S=f(e,y+1,y=i(b=c[k])),x=e;E<g;++E)(x=u(b>0?m[E]+" "+S:s(S,/&\f/g,m[E])))&&(h[w++]=x);return _(e,t,n,0===a?V:l,h,p,v)}function Q(e,t,n){return _(e,t,n,j,a(k),f(e,2,-2),0)}function $(e,t,n,r){return _(e,t,n,z,f(e,0,r),f(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=x(),38===r&&12===i&&(t[n]=1),!I(i);)S();return C(e,g)},X=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===x()&&(t[n]=1),e[n]+=Y(g-1,t,n);break;case 2:e[n]+=O(r);break;case 4:if(44===r){e[++n]=58===x()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=S());return e}(N(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],a=X(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^l(e,0)?(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+F+e+M+e+e;case 6828:case 4268:return U+e+M+e+e;case 6165:return U+e+M+"flex-"+e+e;case 5187:return U+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return U+e+M+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return U+e+M+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+M+s(e,"shrink","negative")+e;case 5292:return U+e+M+s(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+s(e,"-grow","")+U+e+M+s(e,"grow","positive")+e;case 4554:return U+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":-webkit-")+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===l(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return U+e+M+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+M+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+M+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+M+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case q:return B([w(e,{value:s(e.value,"@","@-webkit-")})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return B([w(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return B([w(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[W,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ee,te].concat(i,f));o=function(e,t,n,r){c=n,B(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9886:function(e,t,n){"use strict";n.d(t,{T:function(){return u},w:function(){return o}});var r=n(2791),i=n(3361),a=(n(9140),n(2561),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));a.Provider;var o=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(a);return e(t,i,n)}))},u=(0,r.createContext)({})},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o},j:function(){return u}});var i=n(2791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()},u=a||i.useLayoutEffect},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},8074:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(3366),i=n(7462),a=n(2791),o=n(8182),u=n(2982),s=n(2466),c=n(114),l=["sx"];function f(e){var t,n=e.sx,a=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){c.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,r.Z)(e,l)),o=a.systemProps,f=a.otherProps;return t=Array.isArray(n)?[o].concat((0,u.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,s.P)(e)?(0,i.Z)({},o,e):o}:(0,i.Z)({},o,n),(0,i.Z)({},f,{sx:t})}var h=n(4419),d=n(9367),p=n(5873),v=n(9853),y=n(5878),m=n(1217);function g(e){return(0,m.Z)("MuiTypography",e)}(0,y.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var k=n(184),b=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],_=(0,d.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,v.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),w={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},E={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},S=a.forwardRef((function(e,t){var n=(0,p.Z)({props:e,name:"MuiTypography"}),a=function(e){return E[e]||e}(n.color),u=f((0,i.Z)({},n,{color:a})),s=u.align,c=void 0===s?"inherit":s,l=u.className,d=u.component,y=u.gutterBottom,m=void 0!==y&&y,S=u.noWrap,x=void 0!==S&&S,T=u.paragraph,C=void 0!==T&&T,I=u.variant,N=void 0===I?"body1":I,A=u.variantMapping,O=void 0===A?w:A,R=(0,r.Z)(u,b),P=(0,i.Z)({},u,{align:c,color:a,className:l,component:d,gutterBottom:m,noWrap:x,paragraph:C,variant:N,variantMapping:O}),D=d||(C?"p":O[N]||w[N])||"span",L=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,u={root:["root",a,"inherit"!==e.align&&"align".concat((0,v.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,h.Z)(u,g,o)}(P);return(0,k.jsx)(_,(0,i.Z)({as:D,ref:t,ownerState:P,className:(0,o.Z)(L.root,l)},R))}))},5419:function(e,t){"use strict";t.Z={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},1420:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(4942);function c(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,s.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,s.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var l=n(2065),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y=n(5419),m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,a)))}function E(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,E=void 0===c?.2:c,S=(0,i.Z)(e,k),x=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y.Z[200],light:y.Z[50],dark:y.Z[400]}:{main:y.Z[700],light:y.Z[400],dark:y.Z[800]}}(n),T=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(n),N=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),A=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function O(e){return(0,l.mi)(e,_.text.primary)>=s?_.text.primary:b.text.primary}var R=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,l=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return w(t,"light",s,E),w(t,"dark",l,E),t.contrastText||(t.contrastText=O(t.main)),t},P={dark:_,light:b};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},f),mode:n,primary:R({color:x,name:"primary"}),secondary:R({color:T,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:C,name:"error"}),warning:R({color:A,name:"warning"}),info:R({color:I,name:"info"}),success:R({color:N,name:"success"}),grey:h,contrastThreshold:s,getContrastText:O,augmentColor:R,tonalOffset:E},P[n]),S)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var x={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?T:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,_=n.pxToRem,w=(0,i.Z)(n,S);var E=c/14,C=_||function(e){return"".concat(e/k*E,"rem")},I=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:C(t),lineHeight:n},u===T?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},N={h1:I(f,96,1.167,-1.5),h2:I(f,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(v,14,1.75,.4,x),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,x)};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:C,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},N),w,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var N=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],A=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},R={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function P(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function L(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},R,e.duration);return(0,r.Z)({getAutoHeightDuration:D,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,A);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:P(o)," ").concat(s," ").concat("string"===typeof l?l:P(l))})).join(",")}},e,{easing:t,duration:n})}var Z={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},M=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,l=void 0===s?{}:s,f=e.transitions,h=void 0===f?{}:f,d=e.typography,p=void 0===d?{}:d,v=(0,i.Z)(e,M);if(e.vars)throw new Error((0,a.Z)(18));var y=E(l),m=(0,u.Z)(e),g=(0,o.Z)(m,{mixins:c(m.breakpoints,n),palette:y,shadows:N.slice(),typography:C(y,p),transitions:L(h),zIndex:(0,r.Z)({},Z)});g=(0,o.Z)(g,v);for(var k=arguments.length,b=new Array(k>1?k-1:0),_=1;_<k;_++)b[_-1]=arguments[_];return g=b.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var U=F()},9367:function(e,t,n){"use strict";n.d(t,{ZP:function(){return X},FO:function(){return Q},Dz:function(){return $}});var r=n(2982),i=n(885),a=n(3366),o=n(7462),u=n(2791),s=n(9797),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,s.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(9886),h=n(5438),d=n(9140),p=n(2561),v=l,y=function(e){return"theme"!==e},m=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?v:y},g=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},k=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,h.hC)(t,n,r);(0,p.L)((function(){return(0,h.My)(t,n,r)}));return null},b=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=g(t,n,a),l=c||m(s),p=!l("as");return function(){var v=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&y.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)y.push.apply(y,v);else{0,y.push(v[0][0]);for(var b=v.length,_=1;_<b;_++)y.push(v[_],v[0][_])}var w=(0,f.w)((function(e,t,n){var r=p&&e.as||s,a="",o=[],v=e;if(null==e.theme){for(var g in v={},e)v[g]=e[g];v.theme=(0,u.useContext)(f.T)}"string"===typeof e.className?a=(0,h.fp)(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var b=(0,d.O)(y.concat(o),t.registered,v);a+=t.key+"-"+b.name,void 0!==i&&(a+=" "+i);var _=p&&void 0===c?m(r):l,w={};for(var E in e)p&&"as"===E||_(E)&&(w[E]=e[E]);return w.className=a,w.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(k,{cache:t,serialized:b,isStringTag:"string"===typeof r}),(0,u.createElement)(r,w))}));return w.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=s,w.__emotion_styles=y,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:g(w,r,!0)})).apply(void 0,y)},w}},_=b.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){_[e]=_(e)}));var w=_;function E(e,t){return w(e,t)}var S=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},x=n(5080),T=n(7312),C=["variant"];function I(e){return 0===e.length}function N(e){var t=e.variant,n=(0,a.Z)(e,C),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?I(r)?e[t]:(0,T.Z)(e[t]):"".concat(I(r)?t:(0,T.Z)(t)).concat((0,T.Z)(e[t].toString()))})),r}var A=n(4942),O=n(8247),R=n(114),P=n(1184);function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function L(e,t){return"function"===typeof e?e(t):e}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.G$,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,A.Z)(i,e,n),(0,A.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,A.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=(0,P.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=L(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,O.Z)(s,n(e,a,u));else{var o=(0,P.k9)({theme:u},a,(function(t){return(0,A.Z)({},e,t)}));D(o,a)?s[e]=r({sx:a,theme:u}):s=(0,O.Z)(s,o)}else s=(0,O.Z)(s,n(e,a,u))})),(0,P.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Z.filterProps=["sx"];var M=Z,F=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],U=["theme"],j=["theme"];function V(e){return 0===Object.keys(e).length}function z(e){return"string"===typeof e&&e.charCodeAt(0)>96}var q=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},B=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=N(e.props);r[t]=e.style})),r},W=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[N(n.props)])})),s};function H(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var G=(0,x.Z)();var K=n(1420),Q=function(e){return H(e)&&"classes"!==e},$=H,Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?G:t,u=e.rootShouldForwardProp,s=void 0===u?H:u,c=e.slotShouldForwardProp,l=void 0===c?H:c,f=e.styleFunctionSx,h=void 0===f?M:f,d=function(e){var t=V(e.theme)?n:e.theme;return h((0,o.Z)({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u,c=t.name,f=t.slot,h=t.skipVariantsResolver,p=t.skipSx,v=t.overridesResolver,y=(0,a.Z)(t,F),m=void 0!==h?h:f&&"Root"!==f||!1,g=p||!1;var k=H;"Root"===f?k=s:f?k=l:z(e)&&(k=void 0);var b=E(e,(0,o.Z)({shouldForwardProp:k,label:u},y)),_=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var l=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,U);return e((0,o.Z)({theme:V(r)?n:r},i))}:e})):[],f=e;c&&v&&l.push((function(e){var t=V(e.theme)?n:e.theme,r=q(c,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),v(e,a)}return null})),c&&!m&&l.push((function(e){var t=V(e.theme)?n:e.theme;return W(e,B(c,t),t,c)})),g||l.push(d);var h=l.length-u.length;if(Array.isArray(e)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,a.Z)(t,j);return e((0,o.Z)({theme:V(r)?n:r},i))});var y=b.apply(void 0,[f].concat((0,r.Z)(l)));return y};return b.withConfig&&(_.withConfig=b.withConfig),_}}({defaultTheme:K.Z,rootShouldForwardProp:Q}),X=Y},5873:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5735);var i=n(886);function a(e){var t=e.props,n=e.name,a=e.defaultTheme,o=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:(0,i.Z)(a),name:n,props:t});return o}var o=n(1420);function u(e){return a({props:e.props,name:e.name,defaultTheme:o.Z})}},9853:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function y(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(s,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:y,only:function(e){return d.indexOf(e)+1<d.length?y(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):y(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var c={borderRadius:4},l=n(5682);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var h=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,l=e.spacing,d=e.shape,p=void 0===d?{}:d,v=(0,i.Z)(e,h),y=s(n),m=f(l),g=(0,a.Z)({breakpoints:y,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:m,shape:(0,r.Z)({},c,p)},v),k=arguments.length,b=new Array(k>1?k-1:0),_=1;_<k;_++)b[_-1]=arguments[_];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}},114:function(e,t,n){"use strict";n.d(t,{Gc:function(){return $},G$:function(){return Q}});var r=n(8529),i=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,i.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},o=n(5682),u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,r.Z)({prop:"border",themeKey:"borders",transform:s}),l=(0,r.Z)({prop:"borderTop",themeKey:"borders",transform:s}),f=(0,r.Z)({prop:"borderRight",themeKey:"borders",transform:s}),h=(0,r.Z)({prop:"borderBottom",themeKey:"borders",transform:s}),d=(0,r.Z)({prop:"borderLeft",themeKey:"borders",transform:s}),p=(0,r.Z)({prop:"borderColor",themeKey:"palette"}),v=(0,r.Z)({prop:"borderTopColor",themeKey:"palette"}),y=(0,r.Z)({prop:"borderRightColor",themeKey:"palette"}),m=(0,r.Z)({prop:"borderBottomColor",themeKey:"palette"}),g=(0,r.Z)({prop:"borderLeftColor",themeKey:"palette"}),k=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,o.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,o.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["borderRadius"];var b=a(c,l,f,h,d,p,v,y,m,g,k),_=a((0,r.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,r.Z)({prop:"display"}),(0,r.Z)({prop:"overflow"}),(0,r.Z)({prop:"textOverflow"}),(0,r.Z)({prop:"visibility"}),(0,r.Z)({prop:"whiteSpace"})),w=a((0,r.Z)({prop:"flexBasis"}),(0,r.Z)({prop:"flexDirection"}),(0,r.Z)({prop:"flexWrap"}),(0,r.Z)({prop:"justifyContent"}),(0,r.Z)({prop:"alignItems"}),(0,r.Z)({prop:"alignContent"}),(0,r.Z)({prop:"order"}),(0,r.Z)({prop:"flex"}),(0,r.Z)({prop:"flexGrow"}),(0,r.Z)({prop:"flexShrink"}),(0,r.Z)({prop:"alignSelf"}),(0,r.Z)({prop:"justifyItems"}),(0,r.Z)({prop:"justifySelf"})),E=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,o.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,o.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["gap"];var S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,o.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,o.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["columnGap"];var x=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,o.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,o.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["rowGap"];var T=a(E,S,x,(0,r.Z)({prop:"gridColumn"}),(0,r.Z)({prop:"gridRow"}),(0,r.Z)({prop:"gridAutoFlow"}),(0,r.Z)({prop:"gridAutoColumns"}),(0,r.Z)({prop:"gridAutoRows"}),(0,r.Z)({prop:"gridTemplateColumns"}),(0,r.Z)({prop:"gridTemplateRows"}),(0,r.Z)({prop:"gridTemplateAreas"}),(0,r.Z)({prop:"gridArea"})),C=a((0,r.Z)({prop:"position"}),(0,r.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,r.Z)({prop:"top"}),(0,r.Z)({prop:"right"}),(0,r.Z)({prop:"bottom"}),(0,r.Z)({prop:"left"}));function I(e,t){return"grey"===t?t:e}var N=a((0,r.Z)({prop:"color",themeKey:"palette",transform:I}),(0,r.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:I}),(0,r.Z)({prop:"backgroundColor",themeKey:"palette",transform:I})),A=(0,r.Z)({prop:"boxShadow",themeKey:"shadows"});function O(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var R=(0,r.Z)({prop:"width",transform:O}),P=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.VO[t]||O(t)}}))}return null};P.filterProps=["maxWidth"];var D=(0,r.Z)({prop:"minWidth",transform:O}),L=(0,r.Z)({prop:"height",transform:O}),Z=(0,r.Z)({prop:"maxHeight",transform:O}),M=(0,r.Z)({prop:"minHeight",transform:O}),F=((0,r.Z)({prop:"size",cssProperty:"width",transform:O}),(0,r.Z)({prop:"size",cssProperty:"height",transform:O}),a(R,P,D,L,Z,M,(0,r.Z)({prop:"boxSizing"}))),U=(0,r.Z)({prop:"fontFamily",themeKey:"typography"}),j=(0,r.Z)({prop:"fontSize",themeKey:"typography"}),V=(0,r.Z)({prop:"fontStyle",themeKey:"typography"}),z=(0,r.Z)({prop:"fontWeight",themeKey:"typography"}),q=(0,r.Z)({prop:"letterSpacing"}),B=(0,r.Z)({prop:"textTransform"}),W=(0,r.Z)({prop:"lineHeight"}),H=(0,r.Z)({prop:"textAlign"}),G=a((0,r.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),U,j,V,z,q,W,H,B),K={borders:b.filterProps,display:_.filterProps,flexbox:w.filterProps,grid:T.filterProps,positions:C.filterProps,palette:N.filterProps,shadows:A.filterProps,sizing:F.filterProps,spacing:o.ZP.filterProps,typography:G.filterProps},Q={borders:b,display:_,flexbox:w,grid:T,positions:C,palette:N,shadows:A,sizing:F,spacing:o.ZP,typography:G},$=Object.keys(K).reduce((function(e,t){return K[t].forEach((function(n){e[n]=Q[t]})),e}),{})},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return w},NA:function(){return y}});var r=n(885),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.D)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function y(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=y(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return m(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function _(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,_.propTypes={},_.filterProps=d;var w=_},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},886:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5080),i=n(2791);var a=i.createContext(null);function o(){return i.useContext(a)}function u(e){return 0===Object.keys(e).length}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||u(t)?e:t},c=(0,r.Z)();var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return s(e)}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},8278:function(e,t,n){"use strict";n.d(t,{Ep:function(){return g},RQ:function(){return Z},WK:function(){return q},X3:function(){return j},Zn:function(){return A},Zq:function(){return D},aU:function(){return r},cP:function(){return k},fp:function(){return w},kG:function(){return O},pC:function(){return L},q_:function(){return p},uX:function(){return V}});var r,i=n(3144),a=n(5671),o=n(136),u=n(7277),s=n(8664),c=n(885),l=n(2982);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var h,d="popstate";function p(e){return void 0===e&&(e={}),_((function(e,t){var n=k(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return m("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:g(t))}),(function(e,t){v("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function y(e){return{usr:e.state,key:e.key}}function m(e,t,n,r){return void 0===n&&(n=null),f({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:g(e);return new URL(n,t)}function _(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,h=r.Pop,p=null;function v(){h=r.Pop,p&&p({action:h,location:k.location})}var k={get action(){return h},get location(){return e(u,l)},listen:function(e){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(d,v),p=e,function(){u.removeEventListener(d,v),p=null}},createHref:function(e){return t(u,e)},encodeLocation:function(e){var t=b(g(e));return f({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){h=r.Push;var i=m(k.location,e,t);n&&n(i,e);var a=y(i),o=k.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&p&&p({action:h,location:k.location})},replace:function(e,t){h=r.Replace;var i=m(k.location,e,t);n&&n(i,e);var a=y(i),o=k.createHref(i);l.replaceState(a,"",o),c&&p&&p({action:h,location:k.location})},go:function(e){return l.go(e)}};return k}function w(e,t,n){void 0===n&&(n="/");var r=A(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],N(r));return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(O(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=Z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={}));var S=/^:\w+$/,x=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Z([i,l.pathname]),pathnameBase:M(Z([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Z([i,l.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,c.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function N(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function L(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=k(e):(O(!(i=f({},e)).pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),P("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:F(a),hash:U(u)}}(i,a),h=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!d||(l.pathname+="/"),l}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},M=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},F=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},U=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},j=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}((0,s.Z)(Error));var V=function(e,t){void 0===t&&(t=302);var n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);var r=new Headers(n.headers);return r.set("Location",e),new Response(null,f({},n,{headers:r}))},z=(0,i.Z)((function e(t,n,r){(0,a.Z)(this,e),this.status=t,this.statusText=n||"",this.data=r}));function q(e){return e instanceof z}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var B=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat((0,l.Z)(B)))},7472:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function w(e){return _(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var Z,M=Object.assign;function F(e){if(void 0===Z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Z=t&&t[1]||""}return"\n"+Z+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function ae(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function xe(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ze=!1,Me=null,Fe=!1,Ue=null,je={onError:function(e){Ze=!0,Me=e}};function Ve(e,t,n,r,i,a,o,u,s){Ze=!1,Me=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,Et,St,xt,Tt=!1,Ct=[],It=null,Nt=null,At=null,Ot=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Zt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Bt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Bt){var i=Qt(e,t,n,r);if(null===i)Br(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Zt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Zt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Zt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Zt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Zt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=Qt(e,t,n,r))&&Br(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=gi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),yn=an(M({},fn,{relatedTarget:0})),mn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Sn}var Tn=M({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Zn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Kn(e){Fr(e,0)}function Qn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function xr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=xr("animationend"),Cr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Ze){if(!Ze)throw Error(a(198));var l=Me;Ze=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Zr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=_e(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tr:case Cr:case Ir:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Kr(o,u,s,l,!1),null!==c&&null!==f&&Kr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Bn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Bn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(m=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Jt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],Ei=-1;function Si(e){return{current:e}}function xi(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ti(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Ni=Si(!1),Ai=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){xi(Ni),xi(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),Ti(Ii,e)):xi(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,ji=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Je,zi),i}finally{kt=t,ji=!1}}return null}var qi=[],Bi=0,Wi=null,Hi=0,Gi=[],Ki=0,Qi=null,$i=1,Yi="";function Xi(e,t){qi[Bi++]=Hi,qi[Bi++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Gi[Ki++]=$i,Gi[Ki++]=Yi,Gi[Ki++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Bi],qi[Bi]=null,Hi=qi[--Bi],qi[Bi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null,$i=Gi[--Ki],Gi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function _a(){ba=ka=ga=null}function wa(e){var t=ma.current;xi(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Is)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Zs|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Ri(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Ri(t)?Ai:Ii.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case w:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case w:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ja),Ti(Ja,t)}function io(){xi(Ja),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Ja,n))}function oo(e){eo.current===e&&(xi(Ja),xi(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,_o=0;function wo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Co(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Zs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Zs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Bo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Zo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Zo(t)&&Mo(e)}))}function Zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Co().memoizedState}function Vo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Bo(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Zs|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:xa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},uu={readContext:xa,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Jo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:xa,useCallback:$o,useContext:xa,useEffect:Bo,useImperativeHandle:Ko,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Yo,useReducer:No,useRef:jo,useState:function(){return No(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(Co(),yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:xa,useCallback:$o,useContext:xa,useEffect:Bo,useImperativeHandle:Ko,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=Co();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function _u(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function wu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,_u(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Bu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Bu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Cu(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ps,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ps,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ps,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ps,Rs),Rs|=r;return _u(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Ri(n)?Ai:Ii.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,_u(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bu(e,t,i))}function Iu(e,t,n,r,i){if(Ri(n)){var a=!0;Zi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=xa(c):c=Oi(t,c=Ri(n)?Ai:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ba(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=xa(s):s=Oi(t,s=Ri(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ba(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Bu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):_u(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,_u(e,t,n,r),t.child}var Ru,Pu,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Zc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Zu(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Zc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Zu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Ki++]=$i,Gi[Ki++]=Yi,Gi[Ki++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Zu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(_u(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Zs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Hu(t),null;case 3:return r=t.stateNode,io(),xi(Ni),xi(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),J(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(xi(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return wa(t.type._context),Hu(t),null;case 19:if(xi(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Ye()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ku(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ni),xi(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(uo),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sc(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Xu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?ws(i):null!==s?(s.return=o,Xu=s):ws(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Qu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function _s(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Es,Ss=Math.ceil,xs=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Is=0,Ns=null,As=null,Os=0,Rs=0,Ps=Si(0),Ds=0,Ls=null,Zs=0,Ms=0,Fs=0,Us=null,js=null,Vs=0,zs=1/0,qs=null,Bs=!1,Ws=null,Hs=null,Gs=!1,Ks=null,Qs=0,$s=0,Ys=null,Xs=-1,Js=0;function ec(){return 0!==(6&Is)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Os?Os&-Os:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));mt(e,n,r),0!==(2&Is)&&e===Ns||(e===Ns&&(0===(2&Is)&&(Ms|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Is&&0===(1&t.mode)&&(zs=Ye()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),oi((function(){0===(6&Is)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Is;Is|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,zs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}_a(),xs.current=o,Is=i,null!==As?t=0:(Ns=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Vs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,js,qs),t);break}_c(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,js,qs),r);break}_c(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,js,qs),rc(e,Ye()),null}function cc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(zs=Ye()+500,Ui&&zi())}}function lc(e){null!==Ks&&0===Ks.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Is=t))&&zi()}}function fc(){Rs=Ps.current,xi(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),xi(Ni),xi(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(uo);break;case 10:wa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Pc(e.current,null),Os=Rs=t,Ds=0,Ls=null,Fs=Ms=Zs=0,js=Us=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=As;try{if(_a(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ds=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Za(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Za(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=xs.current;return xs.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Zs)&&0===(268435455&Ms)||uc(Ns,Os)}function yc(e,t){var n=Is;Is|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(_a(),Is=n,xs.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ds}function mc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Qe();)kc(As)}function kc(e){var t=Es(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ts.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Rs)))return void(As=n)}else{if(null!==(n=Ku(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ks);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Is;Is|=4,Ts.current=null,function(e,t){if(ei=Bt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Bt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(_){Sc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Bt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Is=s,kt=u,Cs.transition=o}else e.current=n;if(Gs&&(Gs=!1,Ks=e,Qs=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Bs)throw Bs=!1,e=Ws,Ws=null,e;0!==(1&Qs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Ys?$s++:($s=0,Ys=e):$s=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function wc(){if(null!==Ks){var e=bt(Qs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ks)var r=!1;else{if(e=Ks,Ks=null,Qs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(w){Sc(s,s.return,w)}if(s===u){Xu=null;break e}var _=s.sibling;if(null!==_){_.return=s.return,Xu=_;break e}Xu=s.return}}if(Is=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ec(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Ye()-Vs?hc(e,0):Fs|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case x:return(e=Oc(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Zc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case I:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Zc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Bc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Zi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Bu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Bu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Zi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),_u(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=wu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Bu(e,t,n);break e}_u(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),_u(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):_u(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return _u(e,t,t.pendingProps,n),t.child;case 8:case 12:return _u(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Bu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}_u(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,_u(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Eu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qu(e,t),t.tag=1,Ri(r)?(e=!0,Zi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Bc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Bc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Bc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Is)&&(zs=Ye()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return kt},xt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,_i,Te,Ce,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},5048:function(e,t,n){"use strict";n.d(t,{zt:function(){return k},wU:function(){return C},I0:function(){return x},v9:function(){return v}});var r=n(7248),i=n(327),a=n(4164);var o=function(e){e()},u=function(){return o},s=n(2791),c=(0,s.createContext)(null);function l(){return(0,s.useContext)(c)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?l:function(){return(0,s.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var r=t(),i=r.store,a=r.subscription,o=r.getServerState,u=h(a.addNestedSub,i.getState,o||i.getState,e,n);return(0,s.useDebugValue)(u),u}}var v=p();n(2110),n(6900);var y={notify:function(){},get:function(){return[]}};function m(e,t){var n,r=y;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=y)},getListeners:function(){return r}};return o}var g=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?s.useLayoutEffect:s.useEffect;var k=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=(0,s.useMemo)((function(){var e=m(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),o=(0,s.useMemo)((function(){return t.getState()}),[t]);g((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,o]);var u=n||c;return s.createElement(u.Provider,{value:a},r)};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?l:function(){return(0,s.useContext)(e)};return function(){return t().store}}var _=b();function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?_:b(e);return function(){return t().dispatch}}var E,S,x=w();function T(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function C(e,t){if(T(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T(e[n[i]],t[n[i]]))return!1;return!0}E=i.useSyncExternalStoreWithSelector,h=E,function(e){e}(r.useSyncExternalStore),S=a.unstable_batchedUpdates,o=S},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},1087:function(e,t,n){"use strict";n.d(t,{OL:function(){return d},UT:function(){return f},rU:function(){return h}});var r=n(885),i=n(2791),a=n(7689),o=n(8278);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],l=["aria-current","caseSensitive","className","end","style","to","children"];function f(e){var t=e.basename,n=e.children,u=e.window,s=i.useRef();null==s.current&&(s.current=(0,o.q_)({window:u,v5Compat:!0}));var c=s.current,l=i.useState({action:c.action,location:c.location}),f=(0,r.Z)(l,2),h=f[0],d=f[1];return i.useLayoutEffect((function(){return c.listen(d)}),[c]),i.createElement(a.F0,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var h=i.forwardRef((function(e,t){var n=e.onClick,r=e.relative,l=e.reloadDocument,f=e.replace,h=e.state,d=e.target,p=e.to,v=e.preventScrollReset,y=s(e,c),m=(0,a.oQ)(p,{relative:r}),g=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,c=n.preventScrollReset,l=n.relative,f=(0,a.s0)(),h=(0,a.TH)(),d=(0,a.WU)(e,{relative:l});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==u?u:(0,o.Ep)(h)===(0,o.Ep)(d);f(e,{replace:n,state:s,preventScrollReset:c,relative:l})}}),[h,f,d,u,s,r,e,c,l])}(p,{replace:f,state:h,target:d,preventScrollReset:v,relative:r});return i.createElement("a",u({},y,{href:m,onClick:l?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:t,target:d}))}));var d=i.forwardRef((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.caseSensitive,c=void 0!==o&&o,f=e.className,d=void 0===f?"":f,p=e.end,v=void 0!==p&&p,y=e.style,m=e.to,g=e.children,k=s(e,l),b=(0,a.WU)(m,{relative:k.relative}),_=(0,a.TH)(),w=i.useContext(a.FR),E=b.pathname,S=_.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;c||(S=S.toLowerCase(),x=x?x.toLowerCase():null,E=E.toLowerCase());var T,C=S===E||!v&&S.startsWith(E)&&"/"===S.charAt(E.length),I=null!=x&&(x===E||!v&&x.startsWith(E)&&"/"===x.charAt(E.length)),N=C?r:void 0;T="function"===typeof d?d({isActive:C,isPending:I}):[d,C?"active":null,I?"pending":null].filter(Boolean).join(" ");var A="function"===typeof y?y({isActive:C,isPending:I}):y;return i.createElement(h,u({},k,{"aria-current":N,className:T,ref:t,style:A,to:m}),"function"===typeof g?g({isActive:C,isPending:I}):g)}));var p,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(p||(p={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},7689:function(e,t,n){"use strict";var r;n.d(t,{AW:function(){return B},F0:function(){return W},FR:function(){return _},Fg:function(){return z},TH:function(){return N},UO:function(){return R},WU:function(){return P},Z5:function(){return H},j3:function(){return q},oQ:function(){return C},s0:function(){return A}});var i=n(2982),a=n(5671),o=n(3144),u=n(136),s=n(7277),c=n(885),l=n(8278),f=n(2791);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var d="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},p=f.useState,v=f.useEffect,y=f.useLayoutEffect,m=f.useDebugValue;function g(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!d(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,(r||(r=n.t(f,2))).useSyncExternalStore;var k=f.createContext(null);var b=f.createContext(null);var _=f.createContext(null);var w=f.createContext(null);var E=f.createContext(null);var S=f.createContext(null);var x=f.createContext({outlet:null,matches:[]});var T=f.createContext(null);function C(e,t){var n=(void 0===t?{}:t).relative;I()||(0,l.kG)(!1);var r=f.useContext(E),i=r.basename,a=r.navigator,o=P(e,{relative:n}),u=o.hash,s=o.pathname,c=o.search,h=s;return"/"!==i&&(h="/"===s?i:(0,l.RQ)([i,s])),a.createHref({pathname:h,search:c,hash:u})}function I(){return null!=f.useContext(S)}function N(){return I()||(0,l.kG)(!1),f.useContext(S).location}function A(){I()||(0,l.kG)(!1);var e=f.useContext(E),t=e.basename,n=e.navigator,r=f.useContext(x).matches,i=N().pathname,a=JSON.stringify((0,l.Zq)(r).map((function(e){return e.pathnameBase}))),o=f.useRef(!1);return f.useEffect((function(){o.current=!0})),f.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var u=(0,l.pC)(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(u.pathname="/"===u.pathname?t:(0,l.RQ)([t,u.pathname])),(r.replace?n.replace:n.push)(u,r.state,r)}else n.go(e)}),[t,n,a,i])}var O=f.createContext(null);function R(){var e=f.useContext(x).matches,t=e[e.length-1];return t?t.params:{}}function P(e,t){var n=(void 0===t?{}:t).relative,r=f.useContext(x).matches,i=N().pathname,a=JSON.stringify((0,l.Zq)(r).map((function(e){return e.pathnameBase})));return f.useMemo((function(){return(0,l.pC)(e,JSON.parse(a),i,"path"===n)}),[e,a,i,n])}function D(){var e=function(){var e,t=f.useContext(T),n=j(Z.UseRouteError),r=f.useContext(x),i=r.matches[r.matches.length-1];if(t)return t;return r||(0,l.kG)(!1),!i.route.id&&(0,l.kG)(!1),null==(e=n.errors)?void 0:e[i.route.id]}(),t=(0,l.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unhandled Thrown Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,f.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",f.createElement("code",{style:a},"errorElement")," props on\xa0",f.createElement("code",{style:a},"<Route>")))}var L,Z,M=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?f.createElement(T.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(f.Component);function F(e){var t=e.routeContext,n=e.match,r=e.children,i=f.useContext(k);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),f.createElement(x.Provider,{value:t},r)}function U(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var a=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));a>=0||(0,l.kG)(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((function(e,a,o){var u=a.route.id?null==i?void 0:i[a.route.id]:null,s=n?a.route.errorElement||f.createElement(D,null):null,c=function(){return f.createElement(F,{match:a,routeContext:{outlet:e,matches:t.concat(r.slice(0,o+1))}},u?s:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?f.createElement(M,{location:n.location,component:s,error:u,children:c()}):c()}),null)}function j(e){var t=f.useContext(_);return t||(0,l.kG)(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(L||(L={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Z||(Z={}));var V;function z(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;I()||(0,l.kG)(!1);var a=f.useContext(_),o=A();return f.useEffect((function(){a&&"idle"!==a.navigation.state||o(t,{replace:n,state:r,relative:i})})),null}function q(e){return function(e){var t=f.useContext(x).outlet;return t?f.createElement(O.Provider,{value:e},t):t}(e.context)}function B(e){(0,l.kG)(!1)}function W(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,u=void 0===o?l.aU.Pop:o,s=e.navigator,c=e.static,h=void 0!==c&&c;I()&&(0,l.kG)(!1);var d=n.replace(/^\/*/,"/"),p=f.useMemo((function(){return{basename:d,navigator:s,static:h}}),[d,s,h]);"string"===typeof a&&(a=(0,l.cP)(a));var v=a,y=v.pathname,m=void 0===y?"/":y,g=v.search,k=void 0===g?"":g,b=v.hash,_=void 0===b?"":b,w=v.state,x=void 0===w?null:w,T=v.key,C=void 0===T?"default":T,N=f.useMemo((function(){var e=(0,l.Zn)(m,d);return null==e?null:{pathname:e,search:k,hash:_,state:x,key:C}}),[d,m,k,_,x,C]);return null==N?null:f.createElement(E.Provider,{value:p},f.createElement(S.Provider,{children:i,value:{location:N,navigationType:u}}))}function H(e){var t=e.children,n=e.location,r=f.useContext(b);return function(e,t){I()||(0,l.kG)(!1);var n,r=f.useContext(_),i=f.useContext(x).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,N());if(t){var c,d="string"===typeof t?(0,l.cP)(t):t;"/"===u||(null==(c=d.pathname)?void 0:c.startsWith(u))||(0,l.kG)(!1),n=d}else n=s;var p=n.pathname||"/",v="/"===u?p:p.slice(u.length)||"/",y=(0,l.fp)(e,{pathname:v}),m=U(y&&y.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:(0,l.RQ)([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:(0,l.RQ)([u,e.pathnameBase])})})),i,r||void 0);return t&&m?f.createElement(S.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:l.aU.Pop}},m):m}(r&&!t?r.router.routes:K(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(V||(V={}));var G=new Promise((function(){}));f.Component;function K(e,t){void 0===t&&(t=[]);var n=[];return f.Children.forEach(e,(function(e,r){if(f.isValidElement(e))if(e.type!==f.Fragment){e.type!==B&&(0,l.kG)(!1),e.props.index&&e.props.children&&(0,l.kG)(!1);var a=[].concat((0,i.Z)(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=K(e.props.children,a)),n.push(o)}else n.push.apply(n,K(e.props.children,t))})),n}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+I(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+I(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},3315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(2900))&&r.__esModule?r:{default:r}},2900:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},5752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(3315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,P(w);else{var t=r(l);null!==t&&D(_,t.startTime-e)}}function w(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(_,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,x=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?E():(S=!1,x=null)}}else S=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){m(A,0)};function P(e){x=e,S||(S=!0,E())}function D(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(T),T=-1):y=!0,D(_,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611),i=n(8814);function a(e,t,n){return a=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&(0,r.Z)(a,n.prototype),a},a.apply(null,arguments)}},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(8814),a=n(1002),o=n(7326);function u(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function s(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8664:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(9611);var a=n(5647);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return(0,a.Z)(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},o(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{31:"8ebbc4ee",55:"e47f4a96",87:"f0f1f09a",127:"786347d9",159:"ffb1d6cd",183:"0dbc58c3",215:"8e4debaa",262:"b43393ac",478:"071ebdca",661:"92d77890",787:"d4a11971"}[e]+".chunk.js"},n.miniCssF=function(e){return"static/css/"+e+"."+{31:"1b1bb776",55:"7031c963",127:"138bc4a6",159:"015ab1f3",262:"725dad00",478:"38e8ccc5",661:"b2e391f6"}[e]+".chunk.css"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="messenger2000:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/messenger/",function(){var e=function(e){return new Promise((function(t,r){var i=n.miniCssF(e),a=n.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(o=n[r]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var o;if((i=(o=a[r]).getAttribute("data-href"))===e||i===t)return o}}(i,a))return t();!function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(a){if(i.onerror=i.onload=null,"load"===a.type)n();else{var o=a&&("load"===a.type?"missing":a.type),u=a&&a.target&&a.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=o,s.request=u,i.parentNode.removeChild(i),r(s)}},i.href=t,document.head.appendChild(i)}(e,a,t,r)}))},t={179:0};n.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{31:1,55:1,127:1,159:1,262:1,478:1,661:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}(),function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmessenger2000=self.webpackChunkmessenger2000||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(1250),r=n(7689),i=n(184);function a(e){var t=e.auth,n=e.children;return t?n:(0,i.jsx)(r.Fg,{to:"/login",replace:"true"})}function o(e){var t=e.auth,n=e.children;return t?(0,i.jsx)(r.Fg,{to:"/chats"}):n}var u=n(8074),s="Home_home__NauRz",c="Home_logo__dsZjL",l=n(1087),f="HomeLogin_list__U7KDA",h="HomeLogin_listLink__1n1FL",d=function(){return(0,i.jsxs)("ul",{className:f,children:[(0,i.jsx)("li",{children:(0,i.jsx)(l.rU,{to:"/login",className:h,children:"Sign In"})}),(0,i.jsx)("li",{children:(0,i.jsx)(l.rU,{to:"/registration",className:h,children:"Sign Up"})})]})};function p(e){var t=e.isAuth;return(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)(u.Z,{className:c,variant:"h1",children:"Messenger 2000"}),!t&&(0,i.jsx)(d,{})]})}var v=n(5048),y=n(2470),m={app:"Menu_app__H7USE",menu:"Menu_menu__uXrPQ",list:"Menu_list__hfalk",main:"Menu_main__9iaaT",active:"Menu_active__zRgaG",link:"Menu_link__rFmCr",authButton:"Menu_authButton__DK6Zs"},g=n(8278),k=n(5122);function b(e){var t=e.isAuth,n=(0,v.I0)();return(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(l.rU,{className:m.authButton,onClick:function(e){e.preventDefault(),n((0,k.MQ)()),(0,g.uX)("/")},children:"logout"}):(0,i.jsx)(l.rU,{className:m.authButton,to:"/login",children:"login"})})}function _(e){var t=e.isAuth;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("nav",{className:m.menuNavigation,children:(0,i.jsxs)("ul",{className:m.list,children:[(0,i.jsx)("li",{children:(0,i.jsx)(l.OL,{className:function(e){return e.isActive?m.active:m.link},to:"/",children:"Home"})}),t&&(0,i.jsx)("li",{children:(0,i.jsx)(l.OL,{className:function(e){return e.isActive?m.active:m.link},to:"/profile",children:"Profile"})}),t&&(0,i.jsx)("li",{children:(0,i.jsx)(l.OL,{className:function(e){return e.isActive?m.active:m.link},to:"/chats",children:"Chats"})}),(0,i.jsx)("li",{children:(0,i.jsx)(l.OL,{className:function(e){return e.isActive?m.active:m.link},to:"/characters",children:"Characters"})})]})})})}function w(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.j3,{})})}function E(e){var t=e.isAuth;return(0,i.jsxs)("div",{className:m.app,children:[(0,i.jsxs)("header",{className:m.menu,children:[(0,i.jsx)(_,{isAuth:t}),(0,i.jsx)(b,{isAuth:t})]}),(0,i.jsx)("main",{className:m.main,children:(0,i.jsx)(w,{})})]})}var S=e.lazy((function(){return Promise.all([n.e(183),n.e(31)]).then(n.bind(n,8031))})),x=e.lazy((function(){return Promise.all([n.e(183),n.e(215),n.e(87),n.e(661)]).then(n.bind(n,6661))})),T=e.lazy((function(){return Promise.all([n.e(183),n.e(215),n.e(87),n.e(55)]).then(n.bind(n,1055))})),C=e.lazy((function(){return Promise.all([n.e(183),n.e(215),n.e(262)]).then(n.bind(n,8262))})),I=e.lazy((function(){return Promise.all([n.e(183),n.e(215),n.e(127)]).then(n.bind(n,4127))})),N=e.lazy((function(){return n.e(478).then(n.bind(n,4478))})),A=e.lazy((function(){return Promise.all([n.e(183),n.e(215),n.e(159)]).then(n.bind(n,5159))}));var O=function(){var t=(0,v.v9)((0,y.F)(),(function(e,t){return e.value!==t.value})),n=window.innerWidth;return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"box",children:(0,i.jsx)(r.Z5,{children:(0,i.jsxs)(r.AW,{element:(0,i.jsx)(E,{isAuth:t}),children:[(0,i.jsx)(r.AW,{index:!0,element:(0,i.jsx)(p,{isAuth:t})}),(0,i.jsx)(r.AW,{path:"registration",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(o,{auth:t,children:(0,i.jsx)(A,{})})})}),(0,i.jsx)(r.AW,{path:"login",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(o,{auth:t,children:(0,i.jsx)(A,{})})})}),(0,i.jsx)(r.AW,{path:"profile",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(a,{auth:t,children:(0,i.jsx)(I,{})})})}),n>600?(0,i.jsx)(r.AW,{path:"chats/",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(a,{auth:t,children:(0,i.jsx)(x,{})})}),children:(0,i.jsx)(r.AW,{path:":id",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(x,{})})})}):(0,i.jsx)(r.AW,{path:"/chats",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(a,{auth:t,children:(0,i.jsx)(T,{})})})}),n<600&&(0,i.jsx)(r.AW,{path:"chats/:id",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(a,{auth:t,children:(0,i.jsx)(C,{})})})}),(0,i.jsx)(r.AW,{path:"characters",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(S,{})})}),(0,i.jsx)(r.AW,{path:"*",element:(0,i.jsx)(e.Suspense,{children:(0,i.jsx)(N,{})})})]})})})})},R=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},P=n(4942);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var M="function"===typeof Symbol&&Symbol.observable||"@@observable",F=function(){return Math.random().toString(36).substring(7).split("").join(".")},U={INIT:"@@redux/INIT"+F(),REPLACE:"@@redux/REPLACE"+F(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+F()}};function j(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function V(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Z(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Z(1));return n(V)(e,t)}if("function"!==typeof e)throw new Error(Z(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Z(3));return a}function f(e){if("function"!==typeof e)throw new Error(Z(4));if(s)throw new Error(Z(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Z(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!j(e))throw new Error(Z(7));if("undefined"===typeof e.type)throw new Error(Z(8));if(s)throw new Error(Z(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Z(10));i=e,h({type:U.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Z(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[M]=function(){return this},e}return h({type:U.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[M]=p,r}function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var q=n(3605),B={email:"",name:"",uid:"",infoUser:{status:"",about:""},isEditProfile:!1,error:{isError:!1,msg:""}},W=n(2982),H={toggleNewChat:!1,nameNewChat:"",chatList:[],subscribeActived:!1,error:{isError:!1,msg:""}},G={textNewMessage:"",messageList:{}},K={info:{prev:"",next:""},list:[],err:{errMessage:null,errPage:null}},Q={email:"",pass:"",isAuth:!1,error:{isError:!1,message:""}},$=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:U.INIT}))throw new Error(Z(12));if("undefined"===typeof n(void 0,{type:U.PROBE_UNKNOWN_ACTION()}))throw new Error(Z(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Z(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.eh:return L(L({},e),{},{email:t.value});case q.cg:return L(L({},e),{},{pass:t.value});case q.G5:return L(L({},e),{},{isAuth:t.status});case q.nv:return L(L({},e),{},{error:{isError:t.payload.status,message:t.payload.message}});case q.qh:return{email:"",pass:"",isAuth:e.isAuth,error:{isError:!1,message:""}};case q.H7:return L(L({},e),{},{isAuth:!1});case q.Ub:return{email:"",pass:"",isAuth:!1,error:{isError:!1,message:""}};default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.lk:return L(L({},e),t.payload);case q.xv:return L(L({},e),{},{isEditProfile:!e.isEditProfile,error:{isError:!1,msg:""}});case q.CI:return L(L({},e),{},{name:t.value});case q.FL:return L(L({},e),{},{infoUser:L(L({},e.infoUser),{},{status:t.value})});case q.d:return L(L({},e),{},{infoUser:L(L({},e.infoUser),{},{about:t.value})});case q.pr:return L(L({},e),{},{isEditProfile:!1,error:{isError:!0,msg:t.msg}});case q.Ub:return{email:"",name:"",uid:"",infoUser:{status:"",about:""},isEditProfile:!1,error:{isError:!1,msg:""}};default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.xl:return L(L({},e),{},{toggleNewChat:!e.toggleNewChat,error:{isError:!1,msg:""}});case q.V$:return L(L({},e),{},{nameNewChat:t.text});case q.ZS:return L(L({},e),{},{chatList:(0,W.Z)(t.payload)});case q.z:return L(L({},e),{},{subscribeActived:!0});case q.X5:return L(L({},e),{},{subscribeActived:!1});case q.N3:if(e.chatList.find((function(e){return e.chatId===t.payload.chatId})))return e;var n=L(L({},t.payload),{},{linkToDialog:e.chatList.length>0?e.chatList[e.chatList.length-1].linkToDialog+1:0});return L(L({},e),{},{toggleNewChat:!1,chatList:[].concat((0,W.Z)(e.chatList),[n])});case q.$N:return L(L({},e),{},{error:{isError:!0,msg:t.msg}});case q.Ub:return{toggleNewChat:!1,nameNewChat:"",chatList:[],subscribeActived:!1,error:{isError:!1,msg:""}};default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.HR:return L(L({},e),{},{textNewMessage:t.text});case q.ww:return L(L({},e),{},{textNewMessage:""});case q.wo:var n,r;if(null!==(n=e.messageList[t.uid])&&void 0!==n&&null!==(r=n.messages)&&void 0!==r&&r.length)return e;var i={link:t.link,page:t.pageMessage,messages:t.messages,subscribe:!1};return L(L({},e),{},{messageList:L(L({},e.messageList),{},(0,P.Z)({},t.uid,i))});case q.yX:var a=e.messageList[t.uid].messages;return t.messages.forEach((function(e){var t=a.findIndex((function(t){return t.idMessage===e.idMessage}));-1===t&&a.push(e)})),a.length===e.messageList[t.uid].messages.length?e:(a.sort((function(e,t){return e.TimestampServer.getTime()-t.TimestampServer.getTime()})),L(L({},e),{},{messageList:L(L({},e.messageList),{},(0,P.Z)({},t.uid,L(L({},e.messageList[t.uid]),{},{messages:(0,W.Z)(a)})))}));case q.E5:var o=e.messageList[t.uid].messages;return o.unshift.apply(o,(0,W.Z)(t.messages)),L(L({},e),{},{messageList:L(L({},e.messageList),{},(0,P.Z)({},t.uid,L(L({},e.messageList[t.uid]),{},{page:e.messageList[t.uid].page+1,messages:(0,W.Z)(o)})))});case q.nF:return L(L({},e),{},{messageList:L(L({},e.messageList),{},(0,P.Z)({},t.uid,L(L({},e.messageList[t.uid]),{},{subscribe:!0})))});case q.Am:return L(L({},e),{},{messageList:L(L({},e.messageList),{},(0,P.Z)({},t.uid,L(L({},e.messageList[t.uid]),{},{subscribe:!1})))});case q.DF:if(e.messageList[t.uid].messages.find((function(e){return e.idMessage===t.message.idMessage})))return e;var u=e.messageList[t.uid].messages;return u.push(t.message),L(L({},e),{},{messageList:L(L({},e.messageList),{},(0,P.Z)({},t.uid,L(L({},e.messageList[t.uid]),{},{messages:(0,W.Z)(u)})))});case q.Ub:return{textNewMessage:"",messageList:{}};default:return e}},characters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.At:return L(L({},t.payload),{},{err:{errMessage:null,errPage:null}});case q.Go:return L(L({},e),{},{list:[],err:{errMessage:t.payload.message,errPage:t.payload.page}});default:return e}}}),Y=function(e){return"@@redux-saga/"+e},X=Y("CANCEL_PROMISE"),J=Y("CHANNEL_END"),ee=Y("IO"),te=Y("MATCH"),ne=Y("MULTICAST"),re=Y("SAGA_ACTION"),ie=Y("SELF_CANCELLATION"),ae=Y("TASK"),oe=Y("TASK_CANCEL"),ue=Y("TERMINATE"),se=Y("LOCATION"),ce=n(7462),le=n(3366),fe=function(e){return null===e||void 0===e},he=function(e){return null!==e&&void 0!==e},de=function(e){return"function"===typeof e},pe=function(e){return"string"===typeof e},ve=Array.isArray,ye=function(e){return e&&de(e.then)},me=function(e){return e&&de(e.next)&&de(e.throw)},ge=function e(t){return t&&(pe(t)||_e(t)||de(t)||ve(t)&&t.every(e))},ke=function(e){return e&&de(e.take)&&de(e.close)},be=function(e){return de(e)&&e.hasOwnProperty("toString")},_e=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var we=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,Math.min(2147483647,e),t)}));return r[X]=function(){clearTimeout(n)},r},Ee=function(e){return function(){return e}},Se=Ee(!0),xe=function(){};var Te=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Ce=function(e,t){(0,ce.Z)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Ie(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Ne(e){var t=!1;return function(){t||(t=!0,e())}}var Ae=function(e){throw e},Oe=function(e){return{value:e,done:!0}};function Re(e,t,n){void 0===t&&(t=Ae),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:Oe,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function Pe(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var De=function(e){return Array.apply(null,new Array(e))},Le=function(e){return function(t){return e(Object.defineProperty(t,re,{value:!0}))}},Ze=function(e){return e===ue},Me=function(e){return e===oe},Fe=function(e){return Ze(e)||Me(e)};function Ue(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=ve(e)?De(r):{},u={};return n.forEach((function(e){var n=function(n,u){i||(u||Fe(n)?(t.cancel(),t(n,u)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=xe,u[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return u[e].cancel()})))},u}function je(e){return{name:e.name||"anonymous",location:Ve(e)}}function Ve(e){return e[se]}var ze={isEmpty:Se,put:xe,take:xe};function qe(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},u=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},s=function(){for(var e=[];r;)e.push(u());return e};return{isEmpty:function(){return 0==r},put:function(u){var c;if(r<e)o(u);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=u,a=i=(i+1)%e;break;case 4:c=2*e,n=s(),r=n.length,i=n.length,a=0,n.length=c,e=c,o(u)}},take:u,flush:s}}var Be=function(){return ze},We=function(e){return qe(e,4)},He="TAKE",Ge="PUT",Ke="ALL",Qe="CALL",$e="FORK",Ye="CANCEL",Xe="SELECT",Je=function(e,t){var n;return(n={})[ee]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function et(e,t){return void 0===e&&(e="*"),ge(e)?(he(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Je(He,{pattern:e})):function(e){return ke(e)&&e[ne]}(e)&&he(t)&&ge(t)?Je(He,{channel:e,pattern:t}):ke(e)?(he(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Je(He,{channel:e})):void 0}function tt(e,t){return fe(t)&&(t=e,e=void 0),Je(Ge,{channel:e,action:t})}function nt(e){var t=Je(Ke,e);return t.combinator=!0,t}function rt(e,t){var n,r=null;return de(e)?n=e:(ve(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&pe(n)&&de(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function it(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Je(Qe,rt(e,n))}function at(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Je($e,rt(e,n))}function ot(e){return void 0===e&&(e=ie),Je(Ye,e)}function ut(e){void 0===e&&(e=Te);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Je(Xe,{selector:e,args:n})}var st=it.bind(null,we);function ct(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var lt=ct,ft=[],ht=0;function dt(e){try{yt(),e()}finally{mt()}}function pt(e){ft.push(e),ht||(yt(),gt())}function vt(e){try{return yt(),e()}finally{gt()}}function yt(){ht++}function mt(){ht--}function gt(){var e;for(mt();!ht&&void 0!==(e=ft.shift());)dt(e)}var kt=function(e){return function(t){return e.some((function(e){return St(e)(t)}))}},bt=function(e){return function(t){return e(t)}},_t=function(e){return function(t){return t.type===String(e)}},wt=function(e){return function(t){return t.type===e}},Et=function(){return Se};function St(e){var t="*"===e?Et:pe(e)?_t:ve(e)?kt:be(e)?_t:de(e)?bt:_e(e)?wt:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var xt={type:J},Tt=function(e){return e&&e.type===J};function Ct(e){void 0===e&&(e=We());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(xt):e.isEmpty()?(n.push(r),r.cancel=function(){Ie(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(xt):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(xt)}}}}}function It(e,t){void 0===t&&(t=Be());var n,r=!1,i=Ct(t),a=function(){r||(r=!0,de(n)&&n(),i.close())};return n=Ne(n=e((function(e){Tt(e)?a():i.put(e)}))),r&&n(),{take:i.take,flush:i.flush,close:a}}function Nt(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(xt)}))};return(e={})[ne]=!0,e.put=function(e){if(!t)if(Tt(e))a();else for(var i=n=r,o=0,u=i.length;o<u;o++){var s=i[o];s[te](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=Et),t?e(xt):(e[te]=n,i(),r.push(e),e.cancel=Ne((function(){i(),Ie(r,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[re]?t(e):pt((function(){t(e)}))},e}function At(e,t){var n=e[X];de(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Ot,Rt=0,Pt=function(){return++Rt};function Dt(e){e.isRunning()&&e.cancel()}var Lt=((Ot={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,u=function(e){e instanceof Error?n(e,!0):!Tt(e)||o?n(e):n(ue)};try{i.take(u,he(a)?St(a):null)}catch(s){return void n(s,!0)}n.cancel=u.cancel},Ot.PUT=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;pt((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(Fc){return void n(Fc,!0)}a&&ye(t)?At(t,n):n(t)}))},Ot.ALL=function(e,t,n,r){var i=r.digestEffect,a=Rt,o=Object.keys(t);if(0!==o.length){var u=Ue(t,n);o.forEach((function(e){i(t[e],a,u[e],e)}))}else n(ve(t)?[]:{})},Ot.RACE=function(e,t,n,r){var i=r.digestEffect,a=Rt,o=Object.keys(t),u=ve(t)?De(o.length):{},s={},c=!1;o.forEach((function(e){var t=function(t,r){c||(r||Fe(t)?(n.cancel(),n(t,r)):(n.cancel(),c=!0,u[e]=t,n(u)))};t.cancel=xe,s[e]=t})),n.cancel=function(){c||(c=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){c||i(t[e],a,s[e],e)}))},Ot.CALL=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=r.task;try{var s=a.apply(i,o);if(ye(s))return void At(s,n);if(me(s))return void Wt(e,s,u.context,Rt,je(a),!1,n);n(s)}catch(Fc){n(Fc,!0)}},Ot.CPS=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){fe(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(Fc){n(Fc,!0)}},Ot.FORK=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=t.detached,s=r.task,c=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(me(i))return i;var a=!1;return Re((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!ye(i)})}))}catch(o){return Re((function(){throw o}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:je(t)}(c,a);vt((function(){var t=Wt(e,c,s.context,Rt,l,u,void 0);u?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Ot.JOIN=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&Ie(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(ve(t)){if(0===t.length)return void n([]);var o=Ue(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},Ot.CANCEL=function(e,t,n,r){var i=r.task;t===ie?Dt(i):ve(t)?t.forEach(Dt):Dt(t),n()},Ot.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(Fc){n(Fc,!0)}},Ot.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=Ct(t.buffer),a=St(r),o=function t(n){Tt(n)||e.channel.take(t,a),i.put(n)},u=i.close;i.close=function(){o.cancel(),u()},e.channel.take(o,a),n(i)},Ot.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},Ot.FLUSH=function(e,t,n){t.flush(n)},Ot.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},Ot.SET_CONTEXT=function(e,t,n,r){var i=r.task;Ce(i.context,t),n()},Ot);function Zt(e,t){return e+"?"+t}function Mt(e){var t=e.name,n=e.location;return n?t+"  "+Zt(n.fileName,n.lineNumber):t}function Ft(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Ut=null,jt=[],Vt=function(e){e.crashedEffect=Ut,jt.push(e)},zt=function(){Ut=null,jt.length=0},qt=function(){var e=jt[0],t=jt.slice(1),n=e.crashedEffect?function(e){var t=Ve(e);return t?t.code+"  "+Zt(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Mt(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Mt(e.meta)})),[Ft(jt)]).join("\n")};function Bt(e,t,n,r,i,a,o){var u;void 0===o&&(o=xe);var s,c,l=0,f=null,h=[],d=Object.create(n),p=function(e,t,n){var r,i=[],a=!1;function o(e){t(),s(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,s){a||(Ie(i,t),t.cont=xe,s?o(u):(t===e&&(r=u),i.length||(a=!0,n(r))))}}function s(){a||(a=!0,i.forEach((function(e){e.cont=xe,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:s,abort:o,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,p.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(l=2,Vt({meta:i,cancelledTasks:h}),y.isRoot){var r=qt();zt(),e.onError(t,{sagaStack:r})}c=t,f&&f.reject(t)}else t===oe?l=1:1!==l&&(l=3),s=t,f&&f.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[ae]=!0,u.id=r,u.meta=i,u.isRoot=a,u.context=d,u.joiners=[],u.queue=p,u.cancel=function(){0===l&&(l=1,p.cancelAll(),v(oe,!1))},u.cont=o,u.end=v,u.setContext=function(e){Ce(d,e)},u.toPromise=function(){return f||(f=lt(),2===l?f.reject(c):0!==l&&f.resolve(s)),f.promise},u.isRunning=function(){return 0===l},u.isCancelled=function(){return 1===l||0===l&&1===t.status},u.isAborted=function(){return 2===l},u.result=function(){return s},u.error=function(){return c},u);return y}function Wt(e,t,n,r,i,a,o){var u=e.finalizeRunEffect((function(t,n,r){if(ye(t))At(t,r);else if(me(t))Wt(e,t,c.context,n,i,!1,r);else if(t&&t[ee]){(0,Lt[t.type])(e,t.payload,r,l)}else r(t)}));f.cancel=xe;var s={meta:i,cancel:function(){0===s.status&&(s.status=1,f(oe))},status:0},c=Bt(e,s,n,r,i,a,o),l={task:c,digestEffect:h};return o&&(o.cancel=c.cancel),f(),c;function f(e,n){try{var i;n?(i=t.throw(e),zt()):Me(e)?(s.status=1,f.cancel(),i=de(t.return)?t.return(oe):{done:!0,value:oe}):i=Ze(e)?de(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==s.status&&(s.status=3),s.cont(i.value)):h(i.value,r,f)}catch(Fc){if(1===s.status)throw Fc;s.status=2,s.cont(Fc,!0)}}function h(t,n,r,i){void 0===i&&(i="");var a,o=Pt();function s(n,i){a||(a=!0,r.cancel=xe,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){Ut=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),s.cancel=xe,r.cancel=function(){a||(a=!0,s.cancel(),s.cancel=xe,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},u(t,o,s)}}function Ht(e,t){var n=e.channel,r=void 0===n?Nt():n,i=e.dispatch,a=e.getState,o=e.context,u=void 0===o?{}:o,s=e.sagaMonitor,c=e.effectMiddlewares,l=e.onError,f=void 0===l?Pe:l;for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];var v=t.apply(void 0,d);var y,m=Pt();if(s&&(s.rootSagaStarted=s.rootSagaStarted||xe,s.effectTriggered=s.effectTriggered||xe,s.effectResolved=s.effectResolved||xe,s.effectRejected=s.effectRejected||xe,s.effectCancelled=s.effectCancelled||xe,s.actionDispatched=s.actionDispatched||xe,s.rootSagaStarted({effectId:m,saga:t,args:d})),c){var g=z.apply(void 0,c);y=function(e){return function(t,n,r){return g((function(t){return e(t,n,r)}))(t)}}}else y=Te;var k={channel:r,dispatch:Le(i),getState:a,sagaMonitor:s,onError:f,finalizeRunEffect:y};return vt((function(){var e=Wt(k,v,u,m,je(t),!0,void 0);return s&&s.effectResolved(m,e),e}))}var Gt=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,a=n.channel,o=void 0===a?Nt():a,u=n.sagaMonitor,s=(0,le.Z)(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,r=e.dispatch;return t=Ht.bind(null,(0,ce.Z)({},s,{context:i,channel:o,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return o.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){Ce(i,e)},c},Kt=n(5752),Qt="persist:",$t="persist/FLUSH",Yt="persist/REHYDRATE",Xt="persist/PAUSE",Jt="persist/PERSIST",en="persist/PURGE",tn="persist/REGISTER";function nn(e){return nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(n,!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===nn(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function un(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:Qt).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:sn;var s=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=u.setItem(o,t(l)).catch(y))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function y(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function sn(e){return JSON.stringify(e)}function cn(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:Qt).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:ln,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function ln(e){return JSON.parse(e)}function fn(e){0}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(n,!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(n,!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn={registry:[],bootstrapped:!1},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tn:return gn({},e,{registry:[].concat(yn(e.registry),[t.key])});case Yt:var n=e.registry.indexOf(t.key),r=yn(e.registry);return r.splice(n,1),gn({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var wn=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?on:e.stateReconciler),i=e.getStoredState||cn,a=void 0!==e.timeout?e.timeout:5e3,o=null,u=!1,s=!0,c=function(e){return e._persist.rehydrated&&o&&!s&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=vn(h,["_persist"]);if(f.type===Jt){var v=!1,y=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),s=!1,o||(o=un(e)),d)return dn({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){y(e)}),(function(e){y(void 0,e)}))}),(function(e){y(void 0,e)})),dn({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===en)return u=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:Qt).concat(e.key);return t.removeItem(n,fn)}(e)),dn({},t(p,f),{_persist:d});if(f.type===$t)return f.result(o&&o.flush()),dn({},t(p,f),{_persist:d});if(f.type===Xt)s=!0;else if(f.type===Yt){if(u)return dn({},p,{_persist:dn({},d,{rehydrated:!0})});if(f.key===e.key){var m=t(p,f),g=f.payload,k=dn({},!1!==r&&void 0!==g?r(g,l,m,e):m,{_persist:dn({},d,{rehydrated:!0})});return c(k)}}if(!d)return t(l,f);var b=t(p,f);return b===p?l:c(dn({},b,{_persist:d}))}}({key:"root",storage:Kt.Z},$),En=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z,Sn=Gt(),xn=V(wn,En(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Z(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=z.apply(void 0,a)(n.dispatch),L(L({},n),{},{dispatch:r})}}}(Sn))),Tn=function(e,t,n){var r=n||!1,i=V(_n,bn,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:tn,key:e})},o=function(t,n,a){var o={type:Yt,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&u.getState().bootstrapped&&(r(),r=!1)},u=gn({},i,{purge:function(){var t=[];return e.dispatch({type:en,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:$t,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Xt})},persist:function(){e.dispatch({type:Jt,register:a,rehydrate:o})}});return t&&t.manualPersist||u.persist(),u}(xn);function Cn(e){return Cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return!t||"object"!==Cn(t)&&"function"!==typeof t?Rn(e):t}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e,t){return Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pn(e,t)}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln=function(e){function t(){var e,n;In(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Dn(Rn(n=An(this,(e=On(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),Dn(Rn(n),"_unsubscribe",void 0),Dn(Rn(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&Nn(n.prototype,r),i&&Nn(n,i),t}(e.PureComponent);Dn(Ln,"defaultProps",{children:null,loading:null});var Zn=n(1002);function Mn(){Mn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new x(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(T([])));m&&m!==t&&n.call(m,a)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,Zn.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var Fn=function(e){return{done:!0,value:e}},Un={};function jn(e){return ke(e)?"channel":be(e)?String(e):de(e)?e.name:String(e)}function Vn(e,t,n){var r,i,a,o=t;function u(t,n){if(o===Un)return Fn(t);if(n&&!i)throw o=Un,n;r&&r(t);var u=n?e[i](n):e[o]();return o=u.nextState,a=u.effect,r=u.stateUpdater,i=u.errorState,o===Un?Fn(t):a}return Re(u,(function(e){return u(null,e)}),n)}function zn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o={done:!1,value:et(e)},u=function(e){return{done:!1,value:at.apply(void 0,[t].concat(r,[e]))}},s=function(e){return a=e};return Vn({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:u(a)}}},"q1","takeEvery("+jn(e)+", "+t.name+")")}function qn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,u={done:!1,value:et(e)},s=function(e){return{done:!1,value:at.apply(void 0,[t].concat(r,[e]))}},c=function(e){return{done:!1,value:ot(e)}},l=function(e){return a=e},f=function(e){return o=e};return Vn({q1:function(){return{nextState:"q2",effect:u,stateUpdater:f}},q2:function(){return a?{nextState:"q3",effect:c(a)}:{nextState:"q1",effect:s(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:l}}},"q1","takeLatest("+jn(e)+", "+t.name+")")}function Bn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return at.apply(void 0,[zn,e,t].concat(r))}function Wn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return at.apply(void 0,[qn,e,t].concat(r))}var Hn=n(1120);function Gn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,Hn.Z)(e)););return e}function Kn(){return Kn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Gn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Kn.apply(this,arguments)}var Qn=n(7326),$n=n(136),Yn=n(7277),Xn=n(181);function Jn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Xn.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var er=n(885);function tr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(Fc){return void n(Fc)}u.done?t(s):Promise.resolve(s).then(r,i)}function nr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tr(a,r,i,o,u,"next",e)}function u(e){tr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var rr=n(5671),ir=n(3144),ar=n(8664),or=!1,ur=!1,sr="${JSCORE_VERSION}",cr=function(e,t){if(!e)throw lr(t)},lr=function(e){return new Error("Firebase Database ("+sr+") INTERNAL ASSERT FAILED: "+e)},fr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},hr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},dr=function(e){var t=fr(e);return hr.encodeByteArray(t,!0)},pr=function(e){return dr(e).replace(/\./g,"")},vr=function(e){try{return hr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yr(e){return mr(void 0,e)}function mr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=mr(e[n],t[n]));return e}function gr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function br(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function _r(){return!0===or||!0===ur}var wr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Er=function(){try{return wr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/messenger",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&vr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Sr=function(e){var t,n;return null===(n=null===(t=Er())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},xr=function(e){var t=Sr(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Tr=function(){var e;return null===(e=Er())||void 0===e?void 0:e.config},Cr=function(e){var t;return null===(t=Er())||void 0===t?void 0:t["_".concat(e)]},Ir=function(){function e(){var t=this;(0,rr.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,ir.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Nr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pr(JSON.stringify({alg:"none",type:"JWT"})),pr(JSON.stringify(a)),""].join(".")}var Ar=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,Qn.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,Qn.Z)(a),Or.prototype.create),a}return(0,ir.Z)(n)}((0,ar.Z)(Error)),Or=function(){function e(t,n,r){(0,rr.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,ir.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Rr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ar(n,a,t);return o}}]),e}();function Rr(e,t){return e.replace(Pr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pr=/\{\$([^}]+)}/g;function Dr(e){return JSON.parse(e)}function Lr(e){return JSON.stringify(e)}var Zr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Dr(vr(a[0])||""),n=Dr(vr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ur(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Vr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(zr(u)&&zr(s)){if(!Vr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function zr(e){return null!==e&&"object"===typeof e}function qr(e){for(var t=[],n=function(){var e=(0,er.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Br(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,er.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Wr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Hr=function(){function e(){(0,rr.Z)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return(0,ir.Z)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Gr=function(){function e(t,n){var r=this;(0,rr.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,ir.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Jn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Kr),void 0===r.error&&(r.error=Kr),void 0===r.complete&&(r.complete=Kr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Kr(){}function Qr(e,t){return"".concat(e," failed: ").concat(t," argument ")}var $r=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Yr(e){return e&&e._delegate?e._delegate:e}var Xr=function(){function e(t,n,r){(0,rr.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,ir.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Jr="[DEFAULT]",ei=function(){function e(t,n){(0,rr.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,ir.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ir;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch(s){}var t,n=Jn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,er.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,W.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,W.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Jn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,er.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Jn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(vT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Jr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(vT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return this.component?this.component.multipleInstances?e:Jr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ti,ni,ri=function(){function e(t){(0,rr.Z)(this,e),this.name=t,this.providers=new Map}return(0,ir.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ei(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ii=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ni||(ni={}));var ai={debug:ni.DEBUG,verbose:ni.VERBOSE,info:ni.INFO,warn:ni.WARN,error:ni.ERROR,silent:ni.SILENT},oi=ni.INFO,ui=(ti={},(0,P.Z)(ti,ni.DEBUG,"log"),(0,P.Z)(ti,ni.VERBOSE,"log"),(0,P.Z)(ti,ni.INFO,"info"),(0,P.Z)(ti,ni.WARN,"warn"),(0,P.Z)(ti,ni.ERROR,"error"),ti),si=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ui[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ci=function(){function e(t){(0,rr.Z)(this,e),this.name=t,this._logLevel=oi,this._logHandler=si,this._userLogHandler=null,ii.push(this)}return(0,ir.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ni))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ai[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.DEBUG].concat(t)),this._logHandler.apply(this,[this,ni.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ni.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.INFO].concat(t)),this._logHandler.apply(this,[this,ni.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.WARN].concat(t)),this._logHandler.apply(this,[this,ni.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ni.ERROR].concat(t)),this._logHandler.apply(this,[this,ni.ERROR].concat(t))}}]),e}();var li,fi;var hi=new WeakMap,di=new WeakMap,pi=new WeakMap,vi=new WeakMap,yi=new WeakMap;var mi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return di.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function gi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fi||(fi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_i(this),n),bi(hi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bi(e.apply(_i(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_i(this),t].concat(r));return pi.set(a,t.sort?t.sort():[t]),bi(a)}}function ki(e){return"function"===typeof e?gi(e):(e instanceof IDBTransaction&&function(e){if(!di.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));di.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,li||(li=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,mi):e)}function bi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(bi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&hi.set(t,e)})).catch((function(){})),yi.set(t,e),t}(e);if(vi.has(e))return vi.get(e);var t=ki(e);return t!==e&&(vi.set(e,t),yi.set(t,e)),t}var _i=function(e){return yi.get(e)};var wi,Ei,Si=["get","getKey","getAll","getAllKeys","count"],xi=["put","add","delete","clear"],Ti=new Map;function Ci(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ti.get(t))return Ti.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Si.includes(n))){var a=function(){var e=nr(Mn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ti.set(t,a),a}}}mi=function(e){return L(L({},e),{},{get:function(t,n,r){return Ci(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ci(t,n)||e.has(t,n)}})}(mi);var Ii=function(){function e(t){(0,rr.Z)(this,e),this.container=t}return(0,ir.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ni="@firebase/app",Ai="0.8.4",Oi=new ci("@firebase/app"),Ri="[DEFAULT]",Pi=(wi={},(0,P.Z)(wi,Ni,"fire-core"),(0,P.Z)(wi,"@firebase/app-compat","fire-core-compat"),(0,P.Z)(wi,"@firebase/analytics","fire-analytics"),(0,P.Z)(wi,"@firebase/analytics-compat","fire-analytics-compat"),(0,P.Z)(wi,"@firebase/app-check","fire-app-check"),(0,P.Z)(wi,"@firebase/app-check-compat","fire-app-check-compat"),(0,P.Z)(wi,"@firebase/auth","fire-auth"),(0,P.Z)(wi,"@firebase/auth-compat","fire-auth-compat"),(0,P.Z)(wi,"@firebase/database","fire-rtdb"),(0,P.Z)(wi,"@firebase/database-compat","fire-rtdb-compat"),(0,P.Z)(wi,"@firebase/functions","fire-fn"),(0,P.Z)(wi,"@firebase/functions-compat","fire-fn-compat"),(0,P.Z)(wi,"@firebase/installations","fire-iid"),(0,P.Z)(wi,"@firebase/installations-compat","fire-iid-compat"),(0,P.Z)(wi,"@firebase/messaging","fire-fcm"),(0,P.Z)(wi,"@firebase/messaging-compat","fire-fcm-compat"),(0,P.Z)(wi,"@firebase/performance","fire-perf"),(0,P.Z)(wi,"@firebase/performance-compat","fire-perf-compat"),(0,P.Z)(wi,"@firebase/remote-config","fire-rc"),(0,P.Z)(wi,"@firebase/remote-config-compat","fire-rc-compat"),(0,P.Z)(wi,"@firebase/storage","fire-gcs"),(0,P.Z)(wi,"@firebase/storage-compat","fire-gcs-compat"),(0,P.Z)(wi,"@firebase/firestore","fire-fst"),(0,P.Z)(wi,"@firebase/firestore-compat","fire-fst-compat"),(0,P.Z)(wi,"fire-js","fire-js"),(0,P.Z)(wi,"firebase","fire-js-all"),wi),Di=new Map,Li=new Map;function Zi(e,t){try{e.container.addComponent(t)}catch(n){Oi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Mi(e){var t=e.name;if(Li.has(t))return Oi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Li.set(t,e);var n,r=Jn(Di.values());try{for(r.s();!(n=r.n()).done;){Zi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Fi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Ui=(Ei={},(0,P.Z)(Ei,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,P.Z)(Ei,"bad-app-name","Illegal App name: '{$appName}"),(0,P.Z)(Ei,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,P.Z)(Ei,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,P.Z)(Ei,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,P.Z)(Ei,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,P.Z)(Ei,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,P.Z)(Ei,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,P.Z)(Ei,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,P.Z)(Ei,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,P.Z)(Ei,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ei),ji=new Or("app","Firebase",Ui),Vi=function(){function e(t,n,r){var i=this;(0,rr.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",(function(){return i}),"PUBLIC"))}return(0,ir.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}]),e}(),zi="9.14.0";function qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Ri,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ji.create("bad-app-name",{appName:String(a)});if(n||(n=Tr()),!n)throw ji.create("no-options");var o=Di.get(a);if(o){if(Vr(n,o.options)&&Vr(i,o.config))return o;throw ji.create("duplicate-app",{appName:a})}var u,s=new ri(a),c=Jn(Li.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Vi(n,i,s);return Di.set(a,f),f}function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri,t=Di.get(e);if(!t&&e===Ri)return qi();if(!t)throw ji.create("no-app",{appName:e});return t}function Wi(e,t,n){var r,i=null!==(r=Pi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Oi.warn(u.join(" "))}Mi(new Xr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Hi="firebase-heartbeat-store",Gi=null;function Ki(){return Gi||(Gi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=bi(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(bi(u.result),e.oldVersion,e.newVersion,bi(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Hi)}}).catch((function(e){throw ji.create("idb-open",{originalErrorMessage:e.message})}))),Gi}function Qi(e){return $i.apply(this,arguments)}function $i(){return $i=nr(Mn().mark((function e(t){var n,r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ki();case 3:return r=e.sent,e.abrupt("return",r.transaction(Hi).objectStore(Hi).get(Ji(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ar?Oi.warn(e.t0.message):(i=ji.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Oi.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$i.apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=nr(Mn().mark((function e(t,n){var r,i,a,o,u;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ki();case 3:return i=e.sent,a=i.transaction(Hi,"readwrite"),o=a.objectStore(Hi),e.next=8,o.put(n,Ji(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ar?Oi.warn(e.t0.message):(u=ji.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Oi.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Xi.apply(this,arguments)}function Ji(e){return"".concat(e.name,"!").concat(e.options.appId)}var ea=function(){function e(t){var n=this;(0,rr.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ia(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,ir.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=nr(Mn().mark((function e(){var t,n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ta(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=nr(Mn().mark((function e(){var t,n,r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ta(),n=na(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=pr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ta(){return(new Date).toISOString().substring(0,10)}function na(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Jn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),aa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),aa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ra,ia=function(){function e(t){(0,rr.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,ir.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Fc){t(Fc)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Qi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Yi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,W.Z)(r.heartbeats),(0,W.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function aa(e){return pr(JSON.stringify({version:2,heartbeats:e})).length}ra="",Mi(new Xr("platform-logger",(function(e){return new Ii(e)}),"PRIVATE")),Mi(new Xr("heartbeat",(function(e){return new ea(e)}),"PRIVATE")),Wi(Ni,Ai,ra),Wi(Ni,Ai,"esm2017"),Wi("fire-js","");function oa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ua;Object.create;function sa(){return(0,P.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ca=sa,la=new Or("auth","Firebase",sa()),fa=new ci("@firebase/auth");function ha(e){if(fa.logLevel<=ni.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fa.error.apply(fa,["Auth (".concat(zi,"): ").concat(e)].concat(n))}}function da(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ya.apply(void 0,[e].concat(n))}function pa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ya.apply(void 0,[e].concat(n))}function va(e,t,n){var r=Object.assign(Object.assign({},ca()),(0,P.Z)({},t,n));return new Or("auth","Firebase",r).create(t,{appName:e.name})}function ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,W.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,W.Z)(o)))}return la.create.apply(la,[e].concat(n))}function ma(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ya.apply(void 0,[t].concat(r))}}function ga(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ha(t),new Error(t)}function ka(e,t){e||ga(t)}var ba=new Map;function _a(e){ka(e instanceof Function,"Expected a class definition");var t=ba.get(e);return t?(ka(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ba.set(e,t),t)}function wa(e,t){var n=Fi(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Vr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;da(r,"already-initialized")}return n.initialize({options:t})}function Ea(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Sa(){return"http:"===xa()||"https:"===xa()}function xa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ta(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Sa()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Ca=function(){function e(t,n){(0,rr.Z)(this,e),this.shortDelay=t,this.longDelay=n,ka(n>t,"Short delay should be less than long delay!"),this.isMobile=kr()||br()}return(0,ir.Z)(e,[{key:"get",value:function(){return Ta()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Ia(e,t){ka(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Na=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Aa=(ua={},(0,P.Z)(ua,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,P.Z)(ua,"MISSING_CUSTOM_TOKEN","internal-error"),(0,P.Z)(ua,"INVALID_IDENTIFIER","invalid-email"),(0,P.Z)(ua,"MISSING_CONTINUE_URI","internal-error"),(0,P.Z)(ua,"INVALID_PASSWORD","wrong-password"),(0,P.Z)(ua,"MISSING_PASSWORD","internal-error"),(0,P.Z)(ua,"EMAIL_EXISTS","email-already-in-use"),(0,P.Z)(ua,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,P.Z)(ua,"INVALID_IDP_RESPONSE","invalid-credential"),(0,P.Z)(ua,"INVALID_PENDING_TOKEN","invalid-credential"),(0,P.Z)(ua,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,P.Z)(ua,"MISSING_REQ_TYPE","internal-error"),(0,P.Z)(ua,"EMAIL_NOT_FOUND","user-not-found"),(0,P.Z)(ua,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,P.Z)(ua,"EXPIRED_OOB_CODE","expired-action-code"),(0,P.Z)(ua,"INVALID_OOB_CODE","invalid-action-code"),(0,P.Z)(ua,"MISSING_OOB_CODE","internal-error"),(0,P.Z)(ua,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,P.Z)(ua,"INVALID_ID_TOKEN","invalid-user-token"),(0,P.Z)(ua,"TOKEN_EXPIRED","user-token-expired"),(0,P.Z)(ua,"USER_NOT_FOUND","user-token-expired"),(0,P.Z)(ua,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,P.Z)(ua,"INVALID_CODE","invalid-verification-code"),(0,P.Z)(ua,"INVALID_SESSION_INFO","invalid-verification-id"),(0,P.Z)(ua,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,P.Z)(ua,"MISSING_SESSION_INFO","missing-verification-id"),(0,P.Z)(ua,"SESSION_EXPIRED","code-expired"),(0,P.Z)(ua,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,P.Z)(ua,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,P.Z)(ua,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,P.Z)(ua,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,P.Z)(ua,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,P.Z)(ua,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,P.Z)(ua,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,P.Z)(ua,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,P.Z)(ua,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,P.Z)(ua,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,P.Z)(ua,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ua),Oa=new Ca(3e4,6e4);function Ra(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Pa(e,t,n,r){return Da.apply(this,arguments)}function Da(){return Da=nr(Mn().mark((function e(t,n,r,i){var a,o=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",La(t,a,nr(Mn().mark((function e(){var a,o,u,s;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=qr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Na.fetch()(Ua(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t,n){return Za.apply(this,arguments)}function Za(){return Za=nr(Mn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Aa),n),e.prev=2,a=new ja(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Va(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,er.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Va(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Va(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Va(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw va(t,d,h);case 34:da(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ar)){e.next=41;break}throw e.t0;case 41:da(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Za.apply(this,arguments)}function Ma(e,t,n,r){return Fa.apply(this,arguments)}function Fa(){return Fa=nr(Mn().mark((function e(t,n,r,i){var a,o,u=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Pa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&da(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Ua(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ia(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ja=function(){function e(t){var n=this;(0,rr.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(pa(n.auth,"network-request-failed"))}),Oa.get())}))}return(0,ir.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Va(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=pa(e,t,r);return i.customData._tokenResponse=n,i}function za(e,t){return qa.apply(this,arguments)}function qa(){return qa=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ba(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ha(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ga(){return Ga=nr(Mn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Yr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ma((a=Qa(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ha(Ka(a.auth_time)),issuedAtTime:Ha(Ka(a.iat)),expirationTime:Ha(Ka(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ka(e){return 1e3*Number(e)}function Qa(e){var t,n=e.split("."),r=(0,er.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return ha("JWT malformed, contained fewer than 3 sections"),null;try{var u=vr(a);return u?JSON.parse(u):(ha("Failed to decode base64 JWT payload"),null)}catch(s){return ha("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function $a(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=nr(Mn().mark((function e(t,n){var r=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ar&&Xa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ya.apply(this,arguments)}function Xa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ja=function(){function e(t){(0,rr.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,ir.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(nr(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),eo=function(){function e(t,n){(0,rr.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,ir.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function to(e){return no.apply(this,arguments)}function no(){return no=nr(Mn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,$a(t,Ba(r,{idToken:i}));case 6:ma(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ao(o.providerUserInfo):[],s=io(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new eo(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(){return(ro=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yr(t),e.next=3,to(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,W.Z)(n),(0,W.Z)(t))}function ao(e){return e.map((function(e){var t=e.providerId,n=oa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=nr(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(t,{},nr(Mn().mark((function e(){var r,i,a,o,u,s;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ua(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Na.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}var so=function(){function e(){(0,rr.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,ir.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ma(e.idToken,"internal-error"),ma("undefined"!==typeof e.idToken,"internal-error"),ma("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Qa(e);return ma(t,"internal-error"),ma("undefined"!==typeof t.exp,"internal-error"),ma("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=nr(Mn().mark((function e(t){var n,r=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ma(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=nr(Mn().mark((function e(t,n){var r,i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ga("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ma("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ma("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ma("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function co(e,t){ma("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var lo=function(){function e(t){(0,rr.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=oa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ja(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,W.Z)(a.providerData):[],this.metadata=new eo(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,ir.Z)(e,[{key:"getIdToken",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ma(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ga.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ro.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ma(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ma(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=nr(Mn().mark((function e(t){var n,r,i=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,to(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,$a(this,za(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;ma(k&&E,t,"internal-error");var S=so.fromJSON(this.name,E);ma("string"===typeof k,t,"internal-error"),co(f,t.name),co(h,t.name),ma("boolean"===typeof b,t,"internal-error"),ma("boolean"===typeof _,t,"internal-error"),co(d,t.name),co(p,t.name),co(v,t.name),co(y,t.name),co(m,t.name),co(g,t.name);var x=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(x.providerData=w.map((function(e){return Object.assign({},e)}))),y&&(x._redirectEventId=y),x}},{key:"_fromIdTokenResponse",value:function(){var t=nr(Mn().mark((function t(n,r){var i,a,o,u=arguments;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new so).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,to(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fo=function(){function e(){(0,rr.Z)(this,e),this.type="NONE",this.storage={}}return(0,ir.Z)(e,[{key:"_isAvailable",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fo.type="NONE";var ho=fo;function po(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var vo=function(){function e(t,n,r){(0,rr.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=po(this.userKey,a.apiKey,o),this.fullPersistenceKey=po("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,ir.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?lo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=nr(Mn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_a(ho),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_a(ho),u=po(i,n.config.apiKey,n.name),s=null,c=Jn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=lo._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function yo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wo(t))return"Blackberry";if(Eo(t))return"Webos";if(go(t))return"Safari";if((t.includes("chrome/")||ko(t))&&!t.includes("edge/"))return"Chrome";if(_o(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/firefox\//i.test(e)}function go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/crios\//i.test(e)}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/iemobile/i.test(e)}function _o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/android/i.test(e)}function wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/blackberry/i.test(e)}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/webos/i.test(e)}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return So(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function To(){return function(){var e=gr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return So(e)||_o(e)||Eo(e)||wo(e)||/windows phone/i.test(e)||bo(e)}function Io(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yo(gr());break;case"Worker":t="".concat(yo(gr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(zi,"/").concat(r)}var No=function(){function e(t){(0,rr.Z)(this,e),this.auth=t,this.queue=[]}return(0,ir.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=nr(Mn().mark((function e(t){var n,r,i,a,o,u,s,c;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Jn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Jn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ao=function(){function e(t,n,r){(0,rr.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ro(this),this.idTokenSubscription=new Ro(this),this.beforeStateQueue=new No(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=la,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,ir.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_a(t)),this._initializationPromise=this.queue(nr(Mn().mark((function r(){var i,a;return Mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,vo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=nr(Mn().mark((function e(t){var n,r,i,a,o,u,s;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ma(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,to(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Yr(t):null)&&ma(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=nr(Mn().mark((function e(t){var n,r=this,i=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ma(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(nr(Mn().mark((function n(){return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_a(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Or("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=nr(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ma(n=t&&_a(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,vo.create(this,[_a(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=nr(Mn().mark((function e(t){var n=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ma(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ma(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Io(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=nr(Mn().mark((function e(){var t,n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,P.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oo(e){return Yr(e)}var Ro=function(){function e(t){var n=this;(0,rr.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Gr(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return(0,ir.Z)(e,[{key:"next",get:function(){return ma(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Po(e,t,n){var r=Oo(e);ma(r._canInitEmulator,r,"emulator-config-failed"),ma(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Do(t),o=function(e){var t=Do(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Lo(r.substr(a.length+1))}}var o=r.split(":"),u=(0,er.Z)(o,2);return{host:u[0],port:Lo(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Do(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Zo=function(){function e(t,n){(0,rr.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,ir.Z)(e,[{key:"toJSON",value:function(){return ga("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ga("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ga("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ga("not implemented")}}]),e}();function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t){return jo.apply(this,arguments)}function jo(){return jo=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:signInWithPassword",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:signInWithEmailLink",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function qo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:signInWithEmailLink",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}var Wo=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,rr.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,ir.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Uo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vo(t,{email:this._email,oobCode:this._password}));case 5:da(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:da(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Zo);function Ho(e,t){return Go.apply(this,arguments)}function Go(){return Go=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:signInWithIdp",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}var Ko=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){var e;return(0,rr.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,ir.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ho(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ho(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):da("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=oa(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Zo);function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:sendVerificationCode",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Yo(){return Yo=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:signInWithPhoneNumber",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Xo(){return Xo=nr(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(t,"POST","/v1/accounts:signInWithPhoneNumber",Ra(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Va(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}var Jo=(0,P.Z)({},"USER_NOT_FOUND","user-not-found");function eu(){return eu=nr(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ma(t,"POST","/v1/accounts:signInWithPhoneNumber",Ra(t,r),Jo));case 2:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}var tu=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,ir.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Yo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Xo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return eu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Zo);var nu=function(){function e(t){var n,r,i,a,o,u;(0,rr.Z)(this,e);var s=Br(Wr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ma(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,ir.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Br(Wr(e)).link,n=t?Br(Wr(t)).deep_link_id:null,r=Br(Wr(e)).deep_link_id;return(r?Br(Wr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(vT){return null}}}]),e}();var ru=function(){function e(){(0,rr.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,ir.Z)(e,null,[{key:"credential",value:function(e,t){return Wo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=nu.parseLink(t);return ma(n,"argument-error"),Wo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ru.PROVIDER_ID="password",ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var iu=function(){function e(t){(0,rr.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,ir.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),au=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){var e;return(0,rr.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,ir.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,W.Z)(this.scopes)}}]),n}(iu),ou=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.call(this,"facebook.com")}return(0,ir.Z)(n,null,[{key:"credential",value:function(e){return Ko._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vT){return null}}}]),n}(au);ou.FACEBOOK_SIGN_IN_METHOD="facebook.com",ou.PROVIDER_ID="facebook.com";var uu=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){var e;return(0,rr.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,ir.Z)(n,null,[{key:"credential",value:function(e,t){return Ko._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(vT){return null}}}]),n}(au);uu.GOOGLE_SIGN_IN_METHOD="google.com",uu.PROVIDER_ID="google.com";var su=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.call(this,"github.com")}return(0,ir.Z)(n,null,[{key:"credential",value:function(e){return Ko._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vT){return null}}}]),n}(au);su.GITHUB_SIGN_IN_METHOD="github.com",su.PROVIDER_ID="github.com";var cu=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.call(this,"twitter.com")}return(0,ir.Z)(n,null,[{key:"credential",value:function(e,t){return Ko._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(vT){return null}}}]),n}(au);function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:signUp",Ra(t,n)));case 1:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}cu.TWITTER_SIGN_IN_METHOD="twitter.com",cu.PROVIDER_ID="twitter.com";var hu=function(){function e(t){(0,rr.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,ir.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=nr(Mn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,lo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=du(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=nr(Mn().mark((function t(n,r,i){var a;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=du(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function du(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var pu=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a){var o,u;return(0,rr.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,Qn.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,ir.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ar);function vu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pu._fromErrorAndOperation(e,n,t,r);throw n}))}function yu(e,t){return mu.apply(this,arguments)}function mu(){return mu=nr(Mn().mark((function e(t,n){var r,i,a=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=$a,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",hu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return ku=nr(Mn().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,$a(t,vu(a,o,n,t),r);case 6:return ma((u=e.sent).idToken,a,"internal-error"),ma(s=Qa(u.idToken),a,"internal-error"),c=s.sub,ma(t.uid===c,a,"user-mismatch"),e.abrupt("return",hu._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&da(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ku.apply(this,arguments)}function bu(e,t){return _u.apply(this,arguments)}function _u(){return _u=nr(Mn().mark((function e(t,n){var r,i,a,o,u=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,vu(t,i,n);case 4:return a=e.sent,e.next=7,hu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function wu(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(Oo(t),n));case 1:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Su(e,t,n){return xu.apply(this,arguments)}function xu(){return xu=nr(Mn().mark((function e(t,n,r){var i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oo(t),e.next=3,lu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,hu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}function Tu(e,t,n){return wu(Yr(e),ru.credential(t,n))}function Cu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Nu(e,t){return Au.apply(this,arguments)}function Au(){return(Au=nr(Mn().mark((function e(t,n){var r,i,a,o,u,s,c;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Yr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,$a(a,Cu(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t,n,r){return Yr(e).onIdTokenChanged(t,n,r)}function Ru(e,t,n){return Yr(e).beforeAuthStateChanged(t,n)}function Pu(e){return Yr(e).signOut()}function Du(e,t){return Pa(e,"POST","/v2/accounts/mfaEnrollment:start",Ra(e,t))}new WeakMap;var Lu="__sak",Zu=function(){function e(t,n){(0,rr.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,ir.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Lu,"1"),this.storage.removeItem(Lu),Promise.resolve(!0)):Promise.resolve(!1)}catch(vT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Mu=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){var e;return(0,rr.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=gr();return go(e)||So(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Co(),e._shouldAllowMigration=!0,e}return(0,ir.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);To()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=nr(Mn().mark((function e(t,r){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn((0,Hn.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nr(Mn().mark((function e(t){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn((0,Hn.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn((0,Hn.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Zu);Mu.type="LOCAL";var Fu=Mu,Uu=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,ir.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Zu);Uu.type="SESSION";var ju=Uu;function Vu(e){return Promise.all(e.map(function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var zu=function(){function e(t){(0,rr.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,ir.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=nr(Mn().mark((function e(t){var n,r,i,a,o,u,s,c;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Vu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zu.receivers=[];var Bu=function(){function e(t){(0,rr.Z)(this,e),this.target=t,this.handlers=new Set}return(0,ir.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=nr(Mn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=qu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Wu(){return window}function Hu(){return"undefined"!==typeof Wu().WorkerGlobalScope&&"function"===typeof Wu().importScripts}function Gu(){return Ku.apply(this,arguments)}function Ku(){return(Ku=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $u="firebaseLocalStorageDb",Yu="firebaseLocalStorage",Xu="fbase_key",Ju=function(){function e(t){(0,rr.Z)(this,e),this.request=t}return(0,ir.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function es(e,t){return e.transaction([Yu],t?"readwrite":"readonly").objectStore(Yu)}function ts(){var e=indexedDB.deleteDatabase($u);return new Ju(e).toPromise()}function ns(){var e=indexedDB.open($u,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Yu,{keyPath:Xu})}catch(r){n(r)}})),e.addEventListener("success",nr(Mn().mark((function n(){var r;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Yu)){n.next=12;break}return r.close(),n.next=5,ts();case 5:return n.t0=t,n.next=8,ns();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=nr(Mn().mark((function e(t,n,r){var i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=es(t,!0).put((i={},(0,P.Z)(i,Xu,n),(0,P.Z)(i,"value",r),i)),e.abrupt("return",new Ju(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=es(t,!1).get(n),e.next=3,new Ju(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){var n=es(e,!0).delete(t);return new Ju(n).toPromise()}var ss=function(){function e(){(0,rr.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,ir.Z)(e,[{key:"_openDb",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ns();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=nr(Mn().mark((function e(){var t=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=zu._getInstance(Hu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=nr(Mn().mark((function e(n,r){var i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=nr(Mn().mark((function e(){var t,n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ns();case 5:return t=e.sent,e.next=8,rs(t,Lu,"1");case 8:return e.next=10,us(t,Lu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nr(Mn().mark((function e(t,n){var r=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return rs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return as(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nr(Mn().mark((function e(t){var n=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return us(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=nr(Mn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=es(e,!1).getAll();return new Ju(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Jn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(nr(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ss.type="LOCAL";var cs=ss;function ls(e,t){return Pa(e,"POST","/v2/accounts/mfaSignIn:start",Ra(e,t))}function fs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=pa("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}hs("rcb"),new Ca(3e4,6e4);var ds="recaptcha";function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return vs=nr(Mn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ma("string"===typeof a,t,"argument-error"),ma(r.type===ds,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ma("enroll"===u.type,t,"internal-error"),e.next=13,Du(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ma("signin"===u.type,t,"internal-error"),ma(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ls(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Qo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),vs.apply(this,arguments)}var ys=function(){function e(t){(0,rr.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Oo(t)}return(0,ir.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return ps(this.auth,e,Yr(t))}}],[{key:"credential",value:function(e,t){return tu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?tu._fromTokenResponse(n,r):null}}]),e}();function ms(e,t){return t?_a(t):(ma(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ys.PROVIDER_ID="phone",ys.PHONE_SIGN_IN_METHOD="phone";var gs=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,ir.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Ho(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ho(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ho(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Zo);function ks(e){return bu(e.auth,new gs(e),e.bypassAuthState)}function bs(e){var t=e.auth,n=e.user;return ma(n,t,"internal-error"),gu(n,new gs(e),e.bypassAuthState)}function _s(e){return ws.apply(this,arguments)}function ws(){return ws=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ma(r=t.user,n,"internal-error"),e.abrupt("return",yu(r,new gs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var Es=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,rr.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,ir.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=nr(Mn().mark((function t(n,r){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=nr(Mn().mark((function e(t){var n,r,i,a,o,u,s;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ks;case"linkViaPopup":case"linkViaRedirect":return _s;case"reauthViaPopup":case"reauthViaRedirect":return bs;default:da(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ss=new Ca(2e3,1e4);var xs=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a,o){var u;return(0,rr.Z)(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,Qn.Z)(u),u}return(0,ir.Z)(n,[{key:"executeNotNull",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ma(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nr(Mn().mark((function e(){var t,n=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ka(1===this.filter.length,"Popup operations only handle one event"),t=qu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(pa(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(pa(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(pa(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ss.get())}()}}]),n}(Es);xs.currentPopupAction=null;var Ts=new Map,Cs=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,rr.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,ir.Z)(n,[{key:"execute",value:function(){var e=nr(Mn().mark((function e(){var t,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ts.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Is(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Kn((0,Hn.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ts.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ts.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=nr(Mn().mark((function e(t){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Kn((0,Hn.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Kn((0,Hn.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Es);function Is(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=nr(Mn().mark((function e(t,n){var r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rs(n),i=Os(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function As(e,t){Ts.set(e._key(),t)}function Os(e){return _a(e._redirectPersistence)}function Rs(e){return po("pendingRedirect",e.config.apiKey,e.name)}function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=nr(Mn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Oo(t),a=ms(i,n),o=new Cs(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}var Ls=function(){function e(t){(0,rr.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,ir.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ms(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pa(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Zs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Zs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ms(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Fs(e){return Us.apply(this,arguments)}function Us(){return Us=nr(Mn().mark((function e(t){var n,r=arguments;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Pa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}var js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vs=/^https?/;function zs(){return zs=nr(Mn().mark((function e(t){var n,r,i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fs(t);case 4:n=e.sent,r=n.authorizedDomains,i=Jn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!qs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:da(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),zs.apply(this,arguments)}function qs(e){var t=Ea(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Vs.test(r))return!1;if(js.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Bs=new Ca(3e4,6e4);function Ws(){var e=Wu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,W.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Hs=null;function Gs(e){return Hs=Hs||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ws(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ws(),n(pa(e,"network-request-failed"))},timeout:Bs.get()})}if(null===(i=null===(r=Wu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Wu().gapi)||void 0===a?void 0:a.load)){var u=hs("iframefcb");return Wu()[u]=function(){gapi.load?o():n(pa(e,"network-request-failed"))},fs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Hs=null,e}))}(e),Hs}var Ks=new Ca(5e3,15e3),Qs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$s=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ys(e){var t=e.config;ma(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ia(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:zi},i=$s.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(qr(r).slice(1))}function Xs(e){return Js.apply(this,arguments)}function Js(){return Js=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(t);case 2:return n=e.sent,ma(r=Wu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ys(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qs,dontclear:!0},(function(e){return new Promise(function(){var n=nr(Mn().mark((function n(r,i){var a,o,u;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Wu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=pa(t,"network-request-failed"),o=Wu().setTimeout((function(){i(a)}),Ks.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var ec={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tc="_blank",nc="http://localhost",rc=function(){function e(t){(0,rr.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,ir.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ic(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},ec),{width:r.toString(),height:i.toString(),top:a,left:o}),c=gr().toLowerCase();n&&(u=ko(c)?tc:n),mo(c)&&(t=t||nc,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,er.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(xo(c)&&"_self"!==u)return ac(t||"",u),new rc(null);var f=window.open(t||"",u,l);ma(f,e,"popup-blocked");try{f.focus()}catch(h){}return new rc(f)}function ac(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var oc="__/auth/handler",uc="emulator/auth/handler";function sc(e,t,n,r,i,a){ma(e.config.authDomain,e,"auth-domain-config-required"),ma(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zi,eventId:i};if(t instanceof iu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ur(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,er.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof au){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(oc);return Ia(t,uc)}(e),"?").concat(qr(d).slice(1))}var cc="webStorageSupport",lc=function(){function e(){(0,rr.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ju,this._completeRedirectFn=Ps,this._overrideRedirectResult=As}return(0,ir.Z)(e,[{key:"_openPopup",value:function(){var e=nr(Mn().mark((function e(t,n,r,i){var a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ka(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=sc(t,n,r,Ea(),i),e.abrupt("return",ic(t,o,qu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nr(Mn().mark((function e(t,n,r,i){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=sc(t,n,r,Ea(),i),Wu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ka(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(t);case 2:return n=e.sent,r=new Ls(t),n.register("authEvent",(function(e){return ma(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(cc,{type:cc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),da(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zs.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Co()||go()||So()}}]),e}(),fc=lc,hc=function(){function e(t){(0,rr.Z)(this,e),this.factorId=t}return(0,ir.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ga("unexpected MultiFactorSessionType")}}}]),e}(),dc=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,ir.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Pa(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ra(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Pa(e,"POST","/v2/accounts/mfaSignIn:finalize",Ra(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(hc);(function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,null,[{key:"assertion",value:function(e){return dc._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var pc="@firebase/auth",vc="0.20.11",yc=function(){function e(t){(0,rr.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,ir.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ma(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var mc,gc=Cr("authIdTokenMaxAge")||300,kc=null,bc=function(e){return function(){var t=nr(Mn().mark((function t(n){var r,i,a;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>gc)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,kc!==a){t.next=12;break}return t.abrupt("return");case 12:return kc=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};mc="Browser",Mi(new Xr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ma(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ma(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:mc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Io(mc)},i=new Ao(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_a);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Mi(new Xr("auth-internal",(function(e){return function(e){return new yc(e)}(Oo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(pc,vc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(mc)),Wi(pc,vc,"esm2017");var _c="@firebase/database",wc="0.13.10",Ec="";var Sc=function(){function e(t){(0,rr.Z)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return(0,ir.Z)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Lr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Dr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),xc=function(){function e(){(0,rr.Z)(this,e),this.cache_={},this.isInMemoryStorage=!0}return(0,ir.Z)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Mr(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Tc=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sc(t)}}catch(n){}return new xc},Cc=Tc("localStorage"),Ic=Tc("sessionStorage"),Nc=new ci("@firebase/database"),Ac=function(){var e=1;return function(){return e++}}(),Oc=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,cr(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Hr;n.update(t);var r=n.digest();return hr.encodeByteArray(r)},Rc=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Lr(r):r,t+=" "}return t},Pc=null,Dc=!0,Lc=function(e,t){cr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Nc.logLevel=ni.VERBOSE,Pc=Nc.log.bind(Nc),t&&Ic.set("logging_enabled",!0)):"function"===typeof e?Pc=e:(Pc=null,Ic.remove("logging_enabled"))},Zc=function(){if(!0===Dc&&(Dc=!1,null===Pc&&!0===Ic.get("logging_enabled")&&Lc(!0)),Pc){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Rc.apply(null,t);Pc(r)}},Mc=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Zc.apply(void 0,[e].concat(n))}},Fc=function(){var e="FIREBASE INTERNAL ERROR: "+Rc.apply(void 0,arguments);Nc.error(e)},Uc=function(){var e="FIREBASE FATAL ERROR: ".concat(Rc.apply(void 0,arguments));throw Nc.error(e),new Error(e)},jc=function(){var e="FIREBASE WARNING: "+Rc.apply(void 0,arguments);Nc.warn(e)},Vc=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},zc="[MIN_NAME]",qc="[MAX_NAME]",Bc=function(e,t){if(e===t)return 0;if(e===zc||t===qc)return-1;if(t===zc||e===qc)return 1;var n=el(e),r=el(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Wc=function(e,t){return e===t?0:e<t?-1:1},Hc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Lr(t))},Gc=function e(t){if("object"!==typeof t||null===t)return Lr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Lr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Kc=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Qc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var $c=function(e){cr(!Vc(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Yc=new RegExp("^-?(0*)\\d{1,10}$"),Xc=-2147483648,Jc=2147483647,el=function(e){if(Yc.test(e)){var t=Number(e);if(t>=Xc&&t<=Jc)return t}return null},tl=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw jc("Exception was thrown by user callback.",e),t}),Math.floor(0))}},nl=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},rl=function(){function e(t,n){var r=this;(0,rr.Z)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return(0,ir.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){jc('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),il=function(){function e(t,n,r){var i=this;(0,rr.Z)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return(0,ir.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Zc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jc(e)}}]),e}(),al=function(){function e(t){(0,rr.Z)(this,e),this.accessToken=t}return(0,ir.Z)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();al.OWNER="owner";var ol="5",ul=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sl="websocket",cl="long_polling",ll=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];(0,rr.Z)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cc.get("host:"+t)||this._host}return(0,ir.Z)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cc.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function fl(e,t,n){var r;if(cr("string"===typeof t,"typeof type must == string"),cr("object"===typeof n,"typeof params must == object"),t===sl)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==cl)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Qc(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var hl=function(){function e(){(0,rr.Z)(this,e),this.counters_={}}return(0,ir.Z)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return yr(this.counters_)}}]),e}(),dl={},pl={};function vl(e){var t=e.toString();return dl[t]||(dl[t]=new hl),dl[t]}var yl=function(){function e(t){(0,rr.Z)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return(0,ir.Z)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&tl((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ml="start",gl="close",kl=function(){function e(t,n,r,i,a,o,u){var s=this;(0,rr.Z)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mc(t),this.stats_=vl(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),fl(n,cl,e)}}return(0,ir.Z)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new yl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(_r()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new bl((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ml)n.id=a,n.password=o;else{if(i!==gl)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ol,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ul.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Lr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=dr(t),r=Kc(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!_r()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Lr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!_r()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),bl=function(){function e(t,n,r,i){if((0,rr.Z)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,_r())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Ac(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){Zc("frame writing exception"),u.stack&&Zc(u.stack),Zc(u)}}}return(0,ir.Z)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;_r()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Zc("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Zc("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),_l=null;"undefined"!==typeof MozWebSocket?_l=MozWebSocket:"undefined"!==typeof WebSocket&&(_l=WebSocket);var wl=function(){function e(t,n,r,i,a,o,u){(0,rr.Z)(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mc(this.connId),this.stats_=vl(n),this.connURL=e.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return(0,ir.Z)(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cc.set("previous_websocket_failure",!0);try{var r;if(_r()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(ol,"/").concat(Ec,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/messenger",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new _l(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Cc.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Dr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(cr(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Lr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Kc(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=ol,!_r()&&"undefined"!==typeof location&&location.hostname&&ul.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),fl(e,sl,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==_l&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Cc.isInMemoryStorage||!0===Cc.get("previous_websocket_failure")}}]),e}();wl.responsesRequiredToBeHealthy=2,wl.healthyTimeout=3e4;var El=function(){function e(t){(0,rr.Z)(this,e),this.initTransports_(t)}return(0,ir.Z)(e,[{key:"initTransports_",value:function(t){var n=wl&&wl.isAvailable(),r=n&&!wl.previouslyFailed();if(t.webSocketOnly&&(n||jc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wl];else{var i,a=this.transports_=[],o=Jn(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[kl,wl]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();El.globalTransportInitialized_=!1;var Sl=function(){function e(t,n,r,i,a,o,u,s,c,l){(0,rr.Z)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mc("c:"+this.id+":"),this.transportManager_=new El(n),this.log_("Connection created"),this.start_()}return(0,ir.Z)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=nl((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Hc("t",e),n=Hc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Hc("t",e),n=Hc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Hc("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Fc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fc("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ol!==n&&jc("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),nl((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nl((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),xl=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Tl=function(){function e(t){(0,rr.Z)(this,e),this.allowedEvents_=t,this.listeners_={},cr(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return(0,ir.Z)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,W.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){cr(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Cl=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){var e;return(0,rr.Z)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||kr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,ir.Z)(n,[{key:"getInitialEvent",value:function(e){return cr("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Tl),Il=function(){function e(t,n){if((0,rr.Z)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return(0,ir.Z)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Nl(){return new Il("")}function Al(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ol(e){return e.pieces_.length-e.pieceNum_}function Rl(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Il(e.pieces_,t)}function Pl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ll(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Il(t,0)}function Zl(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Il)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Il(n,0)}function Ml(e){return e.pieceNum_>=e.pieces_.length}function Fl(e,t){var n=Al(e),r=Al(t);if(null===n)return t;if(n===r)return Fl(Rl(e),Rl(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ul(e,t){if(Ol(e)!==Ol(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function jl(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ol(e)>Ol(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Vl=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.errorPrefix_=n,this.parts_=Dl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=$r(this.parts_[r]);zl(this)}));function zl(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ql(e))}function ql(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Bl=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){var e,r,i;return(0,rr.Z)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return(0,ir.Z)(n,[{key:"getInitialEvent",value:function(e){return cr("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Tl),Wl=1e3,Hl=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a,o,u,s,c){var l;if((0,rr.Z)(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=u,l.appCheckTokenProvider_=s,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Mc("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Wl,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!_r())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Bl.getInstance().on("visible",l.onVisible_,(0,Qn.Z)(l)),-1===e.host.indexOf("fblocal")&&Cl.getInstance().on("online",l.onOnline_,(0,Qn.Z)(l)),l}return(0,ir.Z)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Lr(i)),cr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Ir,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),cr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),cr(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Zr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Zr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),cr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Lr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Fc("Unrecognized action received from server: "+Lr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;cr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wl),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=nr(Mn().mark((function e(){var t,r,i,a,o,u,s,c,l,f,h,d,p,v,y=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,c=function(){s?s.close():(u=!0,i())},l=function(e){cr(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=(0,er.Z)(h,2),p=d[0],v=d[1],u?Zc("getToken() completed but was canceled"):(Zc("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,s=new Sl(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){jc(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&jc(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Zc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Zc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ur(this.interruptReasons_)&&(this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Gc(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Il(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Zc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Zc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Jn(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Jn(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";_r()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ec.replace(/\./g,"-")]=1,kr()?e["framework.cordova"]=1:br()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Cl.getInstance().currentlyOnline();return Ur(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Mr(e,"w")){var n=Fr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();jc("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(xl);Hl.nextPersistentConnectionId_=0,Hl.nextConnectionId_=0;var Gl,Kl=function(){function e(t,n){(0,rr.Z)(this,e),this.name=t,this.node=n}return(0,ir.Z)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ql=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Kl(zc,e),r=new Kl(zc,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Kl.MIN}}]),e}(),$l=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"compare",value:function(e,t){return Bc(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw lr("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Kl.MIN}},{key:"maxPost",value:function(){return new Kl(qc,Gl)}},{key:"makePost",value:function(e,t){return cr("string"===typeof e,"KeyIndex indexValue must always be a string."),new Kl(e,Gl)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Gl},set:function(e){Gl=e}}]),n}(Ql),Yl=new $l,Xl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,rr.Z)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return(0,ir.Z)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Jl=function(){function e(t,n,r,i,a){(0,rr.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:nf.EMPTY_NODE,this.right=null!=a?a:nf.EMPTY_NODE}return(0,ir.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return nf.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return nf.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Jl.RED=!0,Jl.BLACK=!1;var ef,tf=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Jl(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),nf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;(0,rr.Z)(this,e),this.comparator_=t,this.root_=n}return(0,ir.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jl.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Xl(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Xl(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Xl(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Xl(this.root_,null,this.comparator_,!0,e)}}]),e}();function rf(e,t){return Bc(e.name,t.name)}function af(e,t){return Bc(e,t)}nf.EMPTY_NODE=new tf;var of,uf,sf,cf=function(e){return"number"===typeof e?"number:"+$c(e):"string:"+e},lf=function(e){if(e.isLeafNode()){var t=e.val();cr("string"===typeof t||"number"===typeof t||"object"===typeof t&&Mr(t,".sv"),"Priority must be a string or number.")}else cr(e===ef||e.isEmpty(),"priority of unexpected type.");cr(e===ef||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ff=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;(0,rr.Z)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,cr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),lf(this.priorityNode_)}return(0,ir.Z)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Ml(t)?this:".priority"===Al(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Al(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(cr(".priority"!==r||1===Ol(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rl(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+cf(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?$c(this.value_):this.value_,this.lazyHash_=Oc(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(cr(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return cr(i>=0,"Unknown leaf type: "+n),cr(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return of},set:function(e){of=e}}]),e}();ff.VALUE_TYPE_ORDER=["object","boolean","number","string"];var hf,df,pf=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Bc(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Kl.MIN}},{key:"maxPost",value:function(){return new Kl(qc,new ff("[PRIORITY-POST]",sf))}},{key:"makePost",value:function(e,t){var n=uf(e);return new Kl(t,new ff("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ql),vf=new pf,yf=Math.log(2),mf=function(){function e(t){(0,rr.Z)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/yf,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return(0,ir.Z)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),gf=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Jl(o,a.node,Jl.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new Jl(o,a.node,Jl.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new Jl(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,Jl.BLACK):(u(f,Jl.BLACK),u(f,Jl.RED))}return a}(new mf(e.length));return new nf(r||t,a)},kf={},bf=function(){function e(t,n){(0,rr.Z)(this,e),this.indexes_=t,this.indexSet_=n}return(0,ir.Z)(e,[{key:"get",value:function(e){var t=Fr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof nf?t:null}},{key:"hasIndex",value:function(e){return Mr(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){cr(t!==Yl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Kl.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?gf(i,t.getCompare()):kf;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(jr(this.indexes_,(function(e,i){var a=Fr(r.indexSet_,i);if(cr(a,"Missing index implementation for "+i),e===kf){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Kl.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),gf(o,a.getCompare())}return kf}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Kl(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(jr(this.indexes_,(function(e){if(e===kf)return e;var r=n.get(t.name);return r?e.remove(new Kl(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return cr(kf&&vf,"ChildrenNode.ts has not been loaded"),hf=hf||new e({".priority":kf},{".priority":vf})}}]),e}(),_f=function(){function e(t,n,r){(0,rr.Z)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lf(this.priorityNode_),this.children_.isEmpty()&&cr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return(0,ir.Z)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||df}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?df:t}},{key:"getChild",value:function(e){var t=Al(e);return null===t?this:this.getImmediateChild(t).getChild(Rl(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(cr(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Kl(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?df:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Al(e);if(null===n)return t;cr(".priority"!==Al(e)||1===Ol(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Rl(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(vf,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+cf(this.getPriority().val())+":"),this.forEachChild(vf,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Oc(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Kl(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Kl(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Kl(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Kl.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Kl.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wf?-1:0}},{key:"withIndex",value:function(t){if(t===Yl||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Yl||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(vf),r=t.getIterator(vf),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Yl?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return df||(df=new e(new nf(af),null,bf.Default))}}]),e}();_f.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var wf=new(function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.call(this,new nf(af),_f.EMPTY_NODE,bf.Default)}return(0,ir.Z)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return _f.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(_f));Object.defineProperties(Kl,{MIN:{value:new Kl(zc,_f.EMPTY_NODE)},MAX:{value:new Kl(qc,wf)}}),$l.__EMPTY_NODE=_f.EMPTY_NODE,ff.__childrenNodeConstructor=_f,ef=wf,function(e){sf=e}(wf);function Ef(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return _f.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),cr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ff(n,Ef(t))}if(e instanceof Array){var r=_f.EMPTY_NODE;return Qc(e,(function(t,n){if(Mr(e,t)&&"."!==t.substring(0,1)){var i=Ef(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Ef(t))}var i=[],a=!1,o=e;if(Qc(o,(function(e,t){if("."!==e.substring(0,1)){var n=Ef(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Kl(e,n)))}})),0===i.length)return _f.EMPTY_NODE;var u=gf(i,rf,(function(e){return e.name}),af);if(a){var s=gf(i,vf.getCompare());return new _f(u,Ef(t),new bf({".priority":s},{".priority":vf}))}return new _f(u,Ef(t),bf.Default)}!function(e){uf=e}(Ef);var Sf=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this)).indexPath_=e,cr(!Ml(e)&&".priority"!==Al(e),"Can't create PathIndex with empty path or .priority key"),r}return(0,ir.Z)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Bc(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ef(e),r=_f.EMPTY_NODE.updateChild(this.indexPath_,n);return new Kl(t,r)}},{key:"maxPost",value:function(){var e=_f.EMPTY_NODE.updateChild(this.indexPath_,wf);return new Kl(qc,e)}},{key:"toString",value:function(){return Dl(this.indexPath_,0).join("/")}}]),n}(Ql),xf=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Bc(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Kl.MIN}},{key:"maxPost",value:function(){return Kl.MAX}},{key:"makePost",value:function(e,t){var n=Ef(e);return new Kl(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ql),Tf=new xf,Cf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function If(e){return{type:"value",snapshotNode:e}}function Nf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Af(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Of(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Rf=function(){function e(t){(0,rr.Z)(this,e),this.index_=t}return(0,ir.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){cr(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Af(t,o)):cr(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Nf(t,n)):a.trackChildChange(Of(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(vf,(function(e,r){t.hasChild(e)||n.trackChildChange(Af(e,r))})),t.isLeafNode()||t.forEachChild(vf,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Of(t,r,i))}else n.trackChildChange(Nf(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?_f.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Pf=function(){function e(t){(0,rr.Z)(this,e),this.indexedFilter_=new Rf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return(0,ir.Z)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Kl(t,n))||(n=_f.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=_f.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(_f.EMPTY_NODE);var i=this;return t.forEachChild(vf,(function(e,t){i.matches(new Kl(e,t))||(r=r.updateImmediateChild(e,_f.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Df=function(){function e(t){(0,rr.Z)(this,e),this.rangedFilter_=new Pf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return(0,ir.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Kl(t,n))||(n=_f.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=_f.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=_f.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(_f.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,_f.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;cr(u.numChildren()===this.limit_,"");var s=new Kl(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Of(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Af(t,f));var p=u.updateImmediateChild(t,_f.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Nf(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(Af(c.name,c.node)),i.trackChildChange(Nf(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,_f.EMPTY_NODE)):e}}]),e}(),Lf=function(){function e(){(0,rr.Z)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vf}return(0,ir.Z)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return cr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return cr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zc}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return cr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return cr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qc}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return cr(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===vf}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Zf(e){var t,n={};return e.isDefault()||(e.index_===vf?t="$priority":e.index_===Tf?t="$value":e.index_===Yl?t="$key":(cr(e.index_ instanceof Sf,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Lr(t),e.startSet_&&(n.startAt=Lr(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Lr(e.indexStartName_))),e.endSet_&&(n.endAt=Lr(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Lr(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Mf(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==vf&&(t.i=e.index_.toString()),t}var Ff=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a){var o;return(0,rr.Z)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Mc("p:rest:"),o.listens_={},o}return(0,ir.Z)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=Zf(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Fr(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Zf(e._queryParams),r=e._path.toString(),i=new Ir;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=(0,er.Z)(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+qr(n);t.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Dr(c.responseText)}catch(n){jc("Failed to parse JSON response for "+s+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&jc("Got unsuccessful REST response for "+s+" Status: "+c.status),r(c.status);r=null}},c.open("GET",s,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(cr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(xl),Uf=function(){function e(){(0,rr.Z)(this,e),this.rootNode_=_f.EMPTY_NODE}return(0,ir.Z)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function jf(){return{value:null,children:new Map}}function Vf(e,t,n){if(Ml(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Al(t);e.children.has(r)||e.children.set(r,jf()),Vf(e.children.get(r),t=Rl(t),n)}}function zf(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){zf(r,new Il(t.toString()+"/"+e),n)}))}var qf,Bf=function(){function e(t){(0,rr.Z)(this,e),this.collection_=t,this.last_=null}return(0,ir.Z)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Qc(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Wf=function(){function e(t,n){(0,rr.Z)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Bf(t);var r=1e4+2e4*Math.random();nl(this.reportStats_.bind(this),Math.floor(r))}return(0,ir.Z)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Qc(t,(function(t,i){i>0&&Mr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),nl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Hf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(qf||(qf={}));var Gf,Kf=function(){function e(t,n,r){(0,rr.Z)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=qf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return(0,ir.Z)(e,[{key:"operationForChild",value:function(t){if(Ml(this.path)){if(null!=this.affectedTree.value)return cr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Il(t));return new e(Nl(),n,this.revert)}return cr(Al(this.path)===t,"operationForChild called for unrelated child."),new e(Rl(this.path),this.affectedTree,this.revert)}}]),e}(),Qf=function(){function e(t,n){(0,rr.Z)(this,e),this.source=t,this.path=n,this.type=qf.LISTEN_COMPLETE}return(0,ir.Z)(e,[{key:"operationForChild",value:function(t){return Ml(this.path)?new e(this.source,Nl()):new e(this.source,Rl(this.path))}}]),e}(),$f=function(){function e(t,n,r){(0,rr.Z)(this,e),this.source=t,this.path=n,this.snap=r,this.type=qf.OVERWRITE}return(0,ir.Z)(e,[{key:"operationForChild",value:function(t){return Ml(this.path)?new e(this.source,Nl(),this.snap.getImmediateChild(t)):new e(this.source,Rl(this.path),this.snap)}}]),e}(),Yf=function(){function e(t,n,r){(0,rr.Z)(this,e),this.source=t,this.path=n,this.children=r,this.type=qf.MERGE}return(0,ir.Z)(e,[{key:"operationForChild",value:function(t){if(Ml(this.path)){var n=this.children.subtree(new Il(t));return n.isEmpty()?null:n.value?new $f(this.source,Nl(),n.value):new e(this.source,Nl(),n)}return cr(Al(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Rl(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Xf=function(){function e(t,n,r){(0,rr.Z)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return(0,ir.Z)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Ml(e))return this.isFullyInitialized()&&!this.filtered_;var t=Al(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Jf=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function eh(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw lr("Should only compare child_ events.");var r=new Kl(t.childName,t.snapshotNode),i=new Kl(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function th(e,t){return{eventCache:e,serverCache:t}}function nh(e,t,n,r){return th(new Xf(t,n,r),e.serverCache)}function rh(e,t,n,r){return th(e.eventCache,new Xf(t,n,r))}function ih(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ah(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var oh=function(){return Gf||(Gf=new nf(Wc)),Gf},uh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oh();(0,rr.Z)(this,e),this.value=t,this.children=n}return(0,ir.Z)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Nl(),value:this.value};if(Ml(e))return null;var n=Al(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Rl(e),t);return null!=i?{path:Zl(new Il(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Ml(t))return this;var n=Al(t),r=this.children.get(n);return null!==r?r.subtree(Rl(t)):new e(null)}},{key:"set",value:function(t,n){if(Ml(t))return new e(n,this.children);var r=Al(t),i=(this.children.get(r)||new e(null)).set(Rl(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Ml(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Al(t),r=this.children.get(n);if(r){var i,a=r.remove(Rl(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Ml(e))return this.value;var t=Al(e),n=this.children.get(t);return n?n.get(Rl(e)):null}},{key:"setTree",value:function(t,n){if(Ml(t))return n;var r,i=Al(t),a=(this.children.get(i)||new e(null)).setTree(Rl(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Nl(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Zl(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Nl(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ml(e))return null;var i=Al(e),a=this.children.get(i);return a?a.findOnPath_(Rl(e),Zl(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Nl(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Ml(t))return this;this.value&&r(n,this.value);var i=Al(t),a=this.children.get(i);return a?a.foreachOnPath_(Rl(t),Zl(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Nl(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Zl(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Qc(t,(function(e,t){n=n.set(new Il(e),t)})),n}}]),e}(),sh=function(){function e(t){(0,rr.Z)(this,e),this.writeTree_=t}return(0,ir.Z)(e,null,[{key:"empty",value:function(){return new e(new uh(null))}}]),e}();function ch(e,t,n){if(Ml(t))return new sh(new uh(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Fl(i,t);return a=a.updateChild(o,n),new sh(e.writeTree_.set(i,a))}var u=new uh(n),s=e.writeTree_.setTree(t,u);return new sh(s)}function lh(e,t,n){var r=e;return Qc(n,(function(e,n){r=ch(r,Zl(t,e),n)})),r}function fh(e,t){if(Ml(t))return sh.empty();var n=e.writeTree_.setTree(t,new uh(null));return new sh(n)}function hh(e,t){return null!=dh(e,t)}function dh(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Fl(n.path,t)):null}function ph(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(vf,(function(e,n){t.push(new Kl(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Kl(e,n.value))})),t}function vh(e,t){if(Ml(t))return e;var n=dh(e,t);return new sh(null!=n?new uh(n):e.writeTree_.subtree(t))}function yh(e){return e.writeTree_.isEmpty()}function mh(e,t){return gh(Nl(),e.writeTree_,t)}function gh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(cr(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=gh(Zl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Zl(e,".priority"),r)),n}function kh(e,t){return Ph(t,e)}function bh(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function _h(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));cr(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&wh(u,r.path)?i=!1:jl(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Sh(e.allWrites,Eh,Nl()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=fh(e.visibleWrites,r.path):Qc(r.children,(function(t){e.visibleWrites=fh(e.visibleWrites,Zl(r.path,t))}));return!0}return!1}function wh(e,t){if(e.snap)return jl(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&jl(Zl(e.path,n),t))return!0;return!1}function Eh(e){return e.visible}function Sh(e,t,n){for(var r=sh.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)jl(n,o)?r=ch(r,u=Fl(n,o),a.snap):jl(o,n)&&(u=Fl(o,n),r=ch(r,Nl(),a.snap.getChild(u)));else{if(!a.children)throw lr("WriteRecord should have .snap or .children");if(jl(n,o))r=lh(r,u=Fl(n,o),a.children);else if(jl(o,n))if(Ml(u=Fl(o,n)))r=lh(r,Nl(),a.children);else{var s=Fr(a.children,Al(u));if(s){var c=s.getChild(Rl(u));r=ch(r,Nl(),c)}}}}}return r}function xh(e,t,n,r,i){if(r||i){var a=vh(e.visibleWrites,t);if(!i&&yh(a))return n;if(i||null!=n||hh(a,Nl())){return mh(Sh(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(jl(e.path,t)||jl(t,e.path))}),t),n||_f.EMPTY_NODE)}return null}var o=dh(e.visibleWrites,t);if(null!=o)return o;var u=vh(e.visibleWrites,t);return yh(u)?n:null!=n||hh(u,Nl())?mh(u,n||_f.EMPTY_NODE):null}function Th(e,t,n,r){return xh(e.writeTree,e.treePath,t,n,r)}function Ch(e,t){return function(e,t,n){var r=_f.EMPTY_NODE,i=dh(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(vf,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=vh(e.visibleWrites,t);return n.forEachChild(vf,(function(e,t){var n=mh(vh(a,new Il(e)),t);r=r.updateImmediateChild(e,n)})),ph(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ph(vh(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ih(e,t,n,r){return function(e,t,n,r,i){cr(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Zl(t,n);if(hh(e.visibleWrites,a))return null;var o=vh(e.visibleWrites,a);return yh(o)?i.getChild(n):mh(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Nh(e,t){return function(e,t){return dh(e.visibleWrites,t)}(e.writeTree,Zl(e.treePath,t))}function Ah(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=vh(e.visibleWrites,t),c=dh(s,Nl());if(null!=c)u=c;else{if(null==n)return[];u=mh(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Oh(e,t,n){return function(e,t,n,r){var i=Zl(t,n),a=dh(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?mh(vh(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Rh(e,t){return Ph(Zl(e.treePath,t),e.writeTree)}function Ph(e,t){return{treePath:e,writeTree:t}}var Dh=function(){function e(){(0,rr.Z)(this,e),this.changeMap=new Map}return(0,ir.Z)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;cr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),cr(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Of(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Af(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Nf(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw lr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Of(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Lh=new(function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Zh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,rr.Z)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return(0,ir.Z)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Xf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Oh(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ah(this.viewCache_),i=Ah(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Mh(e,t,n,r,i){var a,o,u=new Dh;if(n.type===qf.OVERWRITE){var s=n;s.source.fromUser?a=jh(e,t,s.path,s.snap,r,i,u):(cr(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Ml(s.path),a=Uh(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===qf.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=Zl(n,r);Vh(t,Al(c))&&(u=jh(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=Zl(n,r);Vh(t,Al(c))||(u=jh(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(cr(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=qh(e,t,c.path,c.children,r,i,o,u))}else if(n.type===qf.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Nh(r,n))return t;var u,s=new Zh(r,t,i),c=t.eventCache.getNode();if(Ml(n)||".priority"===Al(n)){var l;if(t.serverCache.isFullyInitialized())l=Th(r,ah(t));else{var f=t.serverCache.getNode();cr(f instanceof _f,"serverChildren would be complete if leaf node"),l=Ch(r,f)}u=e.filter.updateFullNode(c,l,a)}else{var h=Al(n),d=Oh(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Rl(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,_f.EMPTY_NODE,Rl(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Th(r,ah(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Nh(r,Nl()),nh(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=Nh(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Ml(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Uh(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Ml(n)){var c=new uh(null);return s.getNode().forEachChild(Yl,(function(e,t){c=c.set(new Il(e),t)})),qh(e,t,n,c,i,a,u,o)}return t}var l=new uh(null);return r.foreach((function(e,t){var r=Zl(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),qh(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==qf.LISTEN_COMPLETE)throw lr("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=rh(t,a.getNode(),a.isFullyInitialized()||Ml(n),a.isFiltered());return Fh(e,o,n,r,Lh,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ih(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(If(ih(t)))}}(t,a,f),{viewCache:a,changes:f}}function Fh(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=Nh(r,n))return t;if(Ml(n))if(cr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=ah(t),l=Ch(r,c instanceof _f?c:_f.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Th(r,ah(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Al(n);if(".priority"===h){cr(1===Ol(n),"Can't have a priority with additional path components");var d=s.getNode(),p=Ih(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,y=Rl(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var m=Ih(r,n,s.getNode(),u);v=null!=m?s.getNode().getImmediateChild(h).updateChild(y,m):s.getNode().getImmediateChild(h)}else v=Oh(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,y,i,a):s.getNode()}}return nh(t,o,s.isFullyInitialized()||Ml(n),e.filter.filtersNodes())}function Uh(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Ml(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Al(n);if(!c.isCompleteForPath(n)&&Ol(n)>1)return t;var d=Rl(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Lh,null)}var v=rh(t,s,c.isFullyInitialized()||Ml(n),l.filtersNodes());return Fh(e,v,n,i,new Zh(i,v,a),u)}function jh(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new Zh(i,t,a);if(Ml(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=nh(t,s,!0,e.filter.filtersNodes());else{var f=Al(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=nh(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Rl(n),p=c.getNode().getImmediateChild(f);if(Ml(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Pl(d)&&v.getChild(Ll(d)).isEmpty()?v:v.updateChild(d,r):_f.EMPTY_NODE}if(p.equals(h))u=t;else u=nh(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Vh(e,t){return e.eventCache.isCompleteForChild(t)}function zh(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function qh(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=Ml(n)?r:new uh(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=zh(0,t.serverCache.getNode().getImmediateChild(n),r);c=Uh(e,c,new Il(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!s){var f=zh(0,t.serverCache.getNode().getImmediateChild(n),r);c=Uh(e,c,new Il(n),f,i,a,o,u)}})),c}var Bh,Wh=function(){function e(t,n){(0,rr.Z)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Rf(i.getIndex()),o=(r=i).loadsAllData()?new Rf(r.getIndex()):r.hasLimit()?new Df(r):new Pf(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(_f.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(_f.EMPTY_NODE,s.getNode(),null),f=new Xf(c,u.isFullyInitialized(),a.filtersNodes()),h=new Xf(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=th(h,f),this.eventGenerator_=new Jf(this.query_)}return(0,ir.Z)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Hh(e,t){var n=ah(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ml(t)&&!n.getImmediateChild(Al(t)).isEmpty())?n.getChild(t):null}function Gh(e){return 0===e.eventRegistrations_.length}function Kh(e,t,n){var r=[];if(n){cr(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Qh(e,t,n,r){t.type===qf.MERGE&&null!==t.source.queryId&&(cr(ah(e.viewCache_),"We should always have a full cache before handling merges"),cr(ih(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Mh(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,cr(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),cr(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),cr(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,$h(e,u.changes,u.viewCache.eventCache.getNode(),null)}function $h(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),eh(e,i,"child_removed",t,r,n),eh(e,i,"child_added",t,r,n),eh(e,i,"child_moved",a,r,n),eh(e,i,"child_changed",t,r,n),eh(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Yh,Xh=(0,ir.Z)((function e(){(0,rr.Z)(this,e),this.views=new Map}));function Jh(e){return 0===e.views.size}function ed(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return cr(null!=a,"SyncTree gave us an op for an invalid query."),Qh(a,t,n,r)}var o,u=[],s=Jn(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(Qh(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function td(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=Th(n,i?r:null),s=!1;u?s=!0:r instanceof _f?(u=Ch(n,r),s=!1):(u=_f.EMPTY_NODE,s=!1);var c=th(new Xf(u,s,!1),new Xf(r,i,!1));return new Wh(t,c)}return o}function nd(e,t,n,r,i,a){var o=td(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vf,(function(e,t){r.push(Nf(e,t))})),n.isFullyInitialized()&&r.push(If(n.getNode())),$h(e,r,n.getNode(),t)}(o,n)}function rd(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=sd(e);if("default"===i){var s,c=Jn(e.views.entries());try{for(c.s();!(s=c.n()).done;){var l=(0,er.Z)(s.value,2),f=l[0],h=l[1];o=o.concat(Kh(h,n,r)),Gh(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){c.e(p)}finally{c.f()}}else{var d=e.views.get(i);d&&(o=o.concat(Kh(d,n,r)),Gh(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return u&&!sd(e)&&a.push(new(cr(Bh,"Reference.ts has not been loaded"),Bh)(t._repo,t._path)),{removed:a,events:o}}function id(e){var t,n=[],r=Jn(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function ad(e,t){var n,r=null,i=Jn(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Hh(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function od(e,t){if(t._queryParams.loadsAllData())return cd(e);var n=t._queryIdentifier;return e.views.get(n)}function ud(e,t){return null!=od(e,t)}function sd(e){return null!=cd(e)}function cd(e){var t,n=Jn(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var ld=1,fd=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.listenProvider_=t,this.syncPointTree_=new uh(null),this.pendingWriteTree_={visibleWrites:sh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function hd(e,t,n,r,i){return function(e,t,n,r,i){cr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ch(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?bd(e,new $f({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function dd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=bh(e.pendingWriteTree_,t),i=_h(e.pendingWriteTree_,t);if(i){var a=new uh(null);return null!=r.snap?a=a.set(Nl(),!0):Qc(r.children,(function(e){a=a.set(new Il(e),!0)})),bd(e,new Kf(r.path,a,n))}return[]}function pd(e,t,n){return bd(e,new $f({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function vd(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||ud(o,t))){var s=rd(o,t,n,r);Jh(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=s.removed;if(u=s.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return sd(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=Nd(h),p=0;p<d.length;++p){var v=d[p],y=v.query,m=Ed(e,v);e.listenProvider_.startListening(Ad(y),Sd(e,y),m.hashFn,m.onComplete)}}if(!f&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(Ad(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(xd(t));e.listenProvider_.stopListening(Ad(t),n)}))}Od(e,c)}return u}function yd(e,t,n,r){var i=Td(e,r);if(null!=i){var a=Cd(i),o=a.path,u=a.queryId,s=Fl(o,t);return Id(e,o,new $f(Hf(u),s,n))}return[]}function md(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Fl(e,i);a=a||ad(t,n),o=o||sd(t)}));var u,s=e.syncPointTree_.get(i);if(s?(o=o||sd(s),a=a||ad(s,Nl())):(s=new Xh,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)u=!0;else{u=!1,a=_f.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=ad(t,Nl());n&&(a=a.updateImmediateChild(e,n))}))}var l=ud(s,t);if(!l&&!t._queryParams.loadsAllData()){var f=xd(t);cr(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=Rd();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=kh(e.pendingWriteTree_,i),p=nd(s,t,n,d,a,u);if(!l&&!o&&!r){var v=od(s,t);p=p.concat(Pd(e,t,v))}return p}function gd(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=ad(n,Fl(e,t));if(r)return r}));return xh(r,t,i,n,!0)}function kd(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Fl(e,n);r=r||ad(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||ad(i,Nl()):(i=new Xh,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Xf(r,!0,!1):null;return function(e){return ih(e.viewCache_)}(td(i,t,kh(e.pendingWriteTree_,t._path),a?o.getNode():_f.EMPTY_NODE,a))}function bd(e,t){return _d(t,e.syncPointTree_,null,kh(e.pendingWriteTree_,Nl()))}function _d(e,t,n,r){if(Ml(e.path))return wd(e,t,n,r);var i=t.get(Nl());null==n&&null!=i&&(n=ad(i,Nl()));var a=[],o=Al(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=Rh(r,o);a=a.concat(_d(u,s,c,l))}return i&&(a=a.concat(ed(i,e,r,n))),a}function wd(e,t,n,r){var i=t.get(Nl());null==n&&null!=i&&(n=ad(i,Nl()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=Rh(r,t),s=e.operationForChild(t);s&&(a=a.concat(wd(s,i,o,u)))})),i&&(a=a.concat(ed(i,e,r,n))),a}function Ed(e,t){var n=t.query,r=Sd(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||_f.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Td(e,n);if(r){var i=Cd(r),a=i.path,o=i.queryId,u=Fl(a,t);return Id(e,a,new Qf(Hf(o),u))}return[]}(e,n._path,r):function(e,t){return bd(e,new Qf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return vd(e,n,null,i)}}}function Sd(e,t){var n=xd(t);return e.queryToTagMap.get(n)}function xd(e){return e._path.toString()+"$"+e._queryIdentifier}function Td(e,t){return e.tagToQueryMap.get(t)}function Cd(e){var t=e.indexOf("$");return cr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Il(e.substr(0,t))}}function Id(e,t,n){var r=e.syncPointTree_.get(t);return cr(r,"Missing sync point for query tag that we're tracking"),ed(r,n,kh(e.pendingWriteTree_,t),null)}function Nd(e){return e.fold((function(e,t,n){if(t&&sd(t))return[cd(t)];var r=[];return t&&(r=id(t)),Qc(n,(function(e,t){r=r.concat(t)})),r}))}function Ad(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(cr(Yh,"Reference.ts has not been loaded"),Yh)(e._repo,e._path):e}function Od(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=xd(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Rd(){return ld++}function Pd(e,t,n){var r=t._path,i=Sd(e,t),a=Ed(e,n),o=e.listenProvider_.startListening(Ad(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)cr(!sd(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!Ml(e)&&t&&sd(t))return[cd(t).query];var r=[];return t&&(r=r.concat(id(t).map((function(e){return e.query})))),Qc(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(Ad(l),Sd(e,l))}return o}var Dd=function(){function e(t){(0,rr.Z)(this,e),this.node_=t}return(0,ir.Z)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Ld=function(){function e(t,n){(0,rr.Z)(this,e),this.syncTree_=t,this.path_=n}return(0,ir.Z)(e,[{key:"getImmediateChild",value:function(t){var n=Zl(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return gd(this.syncTree_,this.path_)}}]),e}(),Zd=function(e,t,n){return e&&"object"===typeof e?(cr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Md(e[".sv"],t,n):"object"===typeof e[".sv"]?Fd(e[".sv"],t):void cr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Md=function(e,t,n){if("timestamp"===e)return n.timestamp;cr(!1,"Unexpected server value: "+e)},Fd=function(e,t,n){e.hasOwnProperty("increment")||cr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&cr(!1,"Unexpected increment value: "+r);var i=t.node();if(cr(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ud=function(e,t,n,r){return Vd(t,new Ld(n,e),r)},jd=function(e,t,n){return Vd(e,new Dd(t),n)};function Vd(e,t,n){var r,i=e.getPriority().val(),a=Zd(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Zd(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ff(u,Ef(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ff(a))),s.forEachChild(vf,(function(e,i){var a=Vd(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var zd=(0,ir.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};(0,rr.Z)(this,e),this.name=t,this.parent=n,this.node=r}));function qd(e,t){for(var n=t instanceof Il?t:new Il(t),r=e,i=Al(n);null!==i;){var a=Fr(r.node.children,i)||{children:{},childCount:0};r=new zd(i,r,a),i=Al(n=Rl(n))}return r}function Bd(e){return e.node.value}function Wd(e,t){e.node.value=t,$d(e)}function Hd(e){return e.node.childCount>0}function Gd(e,t){Qc(e.node.children,(function(n,r){t(new zd(n,e,r))}))}function Kd(e,t,n,r){n&&!r&&t(e),Gd(e,(function(e){Kd(e,t,!0,r)})),n&&r&&t(e)}function Qd(e){return new Il(null===e.parent?e.name:Qd(e.parent)+"/"+e.name)}function $d(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Bd(e)&&!Hd(e)}(n),i=Mr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$d(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,$d(e))}(e.parent,e.name,e)}var Yd=/[\[\].#$\/\u0000-\u001F\u007F]/,Xd=/[\[\].#$\u0000-\u001F\u007F]/,Jd=10485760,ep=function(e){return"string"===typeof e&&0!==e.length&&!Yd.test(e)},tp=function(e){return"string"===typeof e&&0!==e.length&&!Xd.test(e)},np=function(e,t,n,r){r&&void 0===t||rp(Qr(e,"value"),t,n)},rp=function e(t,n,r){var i=r instanceof Il?new Vl(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ql(i));if("function"===typeof n)throw new Error(t+"contains a function "+ql(i)+" with contents = "+n.toString());if(Vc(n))throw new Error(t+"contains "+n.toString()+" "+ql(i));if("string"===typeof n&&n.length>Jd/3&&$r(n)>Jd)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+ql(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Qc(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ep(n)))throw new Error(t+" contains an invalid key ("+n+") "+ql(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=$r(s),zl(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=$r(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+ql(i)+" in addition to actual children.")}},ip=function(e,t,n,r){if((!r||void 0!==n)&&!tp(n))throw new Error(Qr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ap=function(e,t){if(".info"===Al(t))throw new Error(e+" failed = Can't modify data under /.info/")},op=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ep(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tp(e)}(n))throw new Error(Qr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},up=(0,ir.Z)((function e(){(0,rr.Z)(this,e),this.eventLists_=[],this.recursionDepth_=0}));function sp(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Ul(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function cp(e,t,n){sp(e,n),lp(e,(function(e){return jl(e,t)||jl(t,e)}))}function lp(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(fp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function fp(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Pc&&Zc("event: "+n.toString()),tl(r)}}}var hp="repo_interrupt",dp=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new up,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jf(),this.transactionQueueTree_=new zd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return(0,ir.Z)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function pp(e,t,n){if(e.stats_=vl(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ff(e.repoInfo_,(function(t,n,r,i){mp(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return gp(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Lr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Hl(e.repoInfo_,t,(function(t,n,r,i){mp(e,t,n,r,i)}),(function(t){gp(e,t)}),(function(t){!function(e,t){Qc(t,(function(t,n){kp(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return pl[n]||(pl[n]=t()),pl[n]}(e.repoInfo_,(function(){return new Wf(e.stats_,e.server_)})),e.infoData_=new Uf,e.infoSyncTree_=new fd({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=pd(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),kp(e,"connected",!1),e.serverSyncTree_=new fd({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);cp(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function vp(e){var t=e.infoData_.getNode(new Il(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yp(e){return(t=(t={timestamp:vp(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function mp(e,t,n,r,i){e.dataUpdateCount++;var a=new Il(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=jr(n,(function(e){return Ef(e)}));o=function(e,t,n,r){var i=Td(e,r);if(i){var a=Cd(i),o=a.path,u=a.queryId,s=Fl(o,t),c=uh.fromObject(n);return Id(e,o,new Yf(Hf(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=Ef(n);o=yd(e.serverSyncTree_,a,s,i)}else if(r){var c=jr(n,(function(e){return Ef(e)}));o=function(e,t,n){var r=uh.fromObject(n);return bd(e,new Yf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Ef(n);o=pd(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Ip(e,a)),cp(e.eventQueue_,f,o)}function gp(e,t){kp(e,"connected",t),!1===t&&function(e){Ep(e,"onDisconnectEvents");var t=yp(e),n=jf();zf(e.onDisconnect_,Nl(),(function(r,i){var a=Ud(r,i,e.serverSyncTree_,t);Vf(n,r,a)}));var r=[];zf(n,Nl(),(function(t,n){r=r.concat(pd(e.serverSyncTree_,t,n));var i=Pp(e,t);Ip(e,i)})),e.onDisconnect_=jf(),cp(e.eventQueue_,Nl(),r)}(e)}function kp(e,t,n){var r=new Il("/.info/"+t),i=Ef(n);e.infoData_.updateSnapshot(r,i);var a=pd(e.infoSyncTree_,r,i);cp(e.eventQueue_,r,a)}function bp(e){return e.nextWriteId_++}function _p(e,t,n,r,i){Ep(e,"set",{path:t.toString(),value:n,priority:r});var a=yp(e),o=Ef(n,r),u=gd(e.serverSyncTree_,t),s=jd(o,u,a),c=bp(e),l=hd(e.serverSyncTree_,t,s,c,!0);sp(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||jc("set at "+t+" failed: "+n);var o=dd(e.serverSyncTree_,c,!a);cp(e.eventQueue_,t,o),Sp(e,i,n,r)}));var f=Pp(e,t);Ip(e,f),cp(e.eventQueue_,f,[])}function wp(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hp)}function Ep(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Zc.apply(void 0,[t].concat(r))}function Sp(e,t,n,r){t&&tl((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function xp(e,t,n){return gd(e.serverSyncTree_,t,n)||_f.EMPTY_NODE}function Tp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Rp(e,t),Bd(t)){var n=Ap(e,t);cr(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Cp(e,Qd(t),n)}else Hd(t)&&Gd(t,(function(t){Tp(e,t)}))}function Cp(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=xp(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];cr(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=Fl(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Ep(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(dd(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Rp(e,qd(e.transactionQueueTree_,t)),Tp(e,e.transactionQueueTree_),cp(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)tl(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{jc("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Ip(e,t)}}),o)}function Ip(e,t){var n=Np(e,t),r=Qd(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s=t[a],c=Fl(n,s.path),l=!1,f=void 0;if(cr(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(dd(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(dd(e.serverSyncTree_,s.currentWriteId,!0));else{var h=xp(e,s.path,o);s.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){rp("transaction failed: Data returned ",d,s.path);var p=Ef(d);"object"===typeof d&&null!=d&&Mr(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,y=yp(e),m=jd(p,h,y);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=bp(e),o.splice(o.indexOf(v),1),i=(i=i.concat(hd(e.serverSyncTree_,s.path,m,s.currentWriteId,s.applyLocally))).concat(dd(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(dd(e.serverSyncTree_,s.currentWriteId,!0))}cp(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)u(s);Rp(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)tl(r[c]);Tp(e,e.transactionQueueTree_)}(e,Ap(e,n),r),r}function Np(e,t){var n,r=e.transactionQueueTree_;for(n=Al(t);null!==n&&void 0===Bd(r);)r=qd(r,n),n=Al(t=Rl(t));return r}function Ap(e,t){var n=[];return Op(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Op(e,t,n){var r=Bd(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Gd(t,(function(t){Op(e,t,n)}))}function Rp(e,t){var n=Bd(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Wd(t,n.length>0?n:void 0)}Gd(t,(function(t){Rp(e,t)}))}function Pp(e,t){var n=Qd(Np(e,t)),r=qd(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Dp(e,t)})),Dp(e,r),Kd(r,(function(t){Dp(e,t)})),n}function Dp(e,t){var n=Bd(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(cr(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(cr(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dd(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Wd(t,void 0):n.length=a+1,cp(e.eventQueue_,Qd(t),i);for(var u=0;u<r.length;u++)tl(r[u])}}var Lp=function(e,t){var n=Zp(e),r=n.namespace;"firebase.com"===n.domain&&Uc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Uc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ll(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Il(n.pathString)}},Zp=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Jn(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):jc("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Mp=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return(0,ir.Z)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Lr(this.snapshot.exportVal())}}]),e}(),Fp=function(){function e(t,n,r){(0,rr.Z)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return(0,ir.Z)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Up=function(){function e(t,n){(0,rr.Z)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return(0,ir.Z)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return cr(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),jp=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return(0,ir.Z)(e,[{key:"key",get:function(){return Ml(this._path)?null:Pl(this._path)}},{key:"ref",get:function(){return new Vp(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Mf(this._queryParams),t=Gc(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Mf(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Yr(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ul(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Vp=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){return(0,rr.Z)(this,n),t.call(this,e,r,new Lf,!1)}return(0,ir.Z)(n,[{key:"parent",get:function(){var e=Ll(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(jp),zp=function(){function e(t,n,r){(0,rr.Z)(this,e),this._node=t,this.ref=n,this._index=r}return(0,ir.Z)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Il(t),r=Bp(this.ref,t);return new e(this._node.getChild(n),r,vf)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Bp(n.ref,r),vf))}))}},{key:"hasChild",value:function(e){var t=new Il(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function qp(e,t){return(e=Yr(e))._checkNotDeleted("ref"),void 0!==t?Bp(e._root,t):e._root}function Bp(e,t){var n,r,i,a;return null===Al((e=Yr(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ip(n,r,i,a)):ip("child","path",t,!1),new Vp(e._repo,Zl(e._path,t))}function Wp(e,t){e=Yr(e),ap("set",e._path),np("set",t,e._path,!1);var n=new Ir;return _p(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Hp(e){e=Yr(e);var t=new Up((function(){})),n=new Gp(t);return function(e,t,n){var r=kd(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Ef(r).withIndex(t._queryParams.getIndex());if(md(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=pd(e.serverSyncTree_,t._path,a);else{var o=Sd(e.serverSyncTree_,t);i=yd(e.serverSyncTree_,t._path,a,o)}return cp(e.eventQueue_,t._path,i),vd(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Ep(e,"get for query "+Lr(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new zp(t,new Vp(e._repo,e._path),e._queryParams.getIndex())}))}var Gp=function(){function e(t){(0,rr.Z)(this,e),this.callbackContext=t}return(0,ir.Z)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Mp("value",this,new zp(e.snapshotNode,new Vp(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Fp(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}();function Kp(e){for(var t=Yr(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){cr(!Bh,"__referenceConstructor has already been defined"),Bh=e}(Vp),function(e){cr(!Yh,"__referenceConstructor has already been defined"),Yh=e}(Vp);var Qp={},$p=!1;function Yp(e,t,n,r){e.repoInfo_=new ll("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Xp(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Uc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zc("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=Lp(a,i),s=u.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/messenger",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(s.namespace),s=(u=Lp(a,i)).repoInfo):o=!u.repoInfo.secure;var l=i&&o?new al(al.OWNER):new il(e.name,e.options,t);op("Invalid Firebase Database URL",u),Ml(u.path)||Uc("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Qp[t.name];i||(i={},Qp[t.name]=i);var a=i[e.toURLString()];a&&Uc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new dp(e,$p,n,r),i[e.toURLString()]=a,a}(s,e,l,new rl(e.name,n));return new Jp(f,e)}var Jp=function(){function e(t,n){(0,rr.Z)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return(0,ir.Z)(e,[{key:"_repo",get:function(){return this._instanceStarted||(pp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Vp(this._repo,Nl())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Qp[t];n&&n[e.key]===e||Uc("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),wp(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Uc("Cannot call "+e+" on a deleted database.")}}]),e}();function ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi(),t=arguments.length>1?arguments[1]:void 0,n=Fi(e,"database").getImmediate({identifier:t}),r=xr("database");return r&&tv.apply(void 0,[n].concat((0,W.Z)(r))),n}function tv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Yr(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Uc("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Uc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new al(al.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Nr(r.mockUserToken,e.app.options.projectId);a=new al(o)}Yp(i,t,n,a)}Hl.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Hl.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Ec=e}(zi),Mi(new Xr("database",(function(e,t){var n=t.instanceIdentifier;return Xp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Wi(_c,wc,e),Wi(_c,wc,"esm2017")}();var nv,rv=n(5647),iv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},av={},ov=ov||{},uv=iv||self;function sv(){}function cv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fv="closure_uid_"+(1e9*Math.random()>>>0),hv=0;function dv(e,t,n){return e.call.apply(e.bind,arguments)}function pv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vv(e,t,n){return(vv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dv:pv).apply(null,arguments)}function yv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gv(){this.s=this.s,this.o=this.o}gv.prototype.s=!1,gv.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,fv)&&e[fv]||(e[fv]=++hv))},gv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function bv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _v(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(cv(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function wv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wv.prototype.h=function(){this.defaultPrevented=!0};var Ev=function(){if(!uv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{uv.addEventListener("test",sv,t),uv.removeEventListener("test",sv,t)}catch(n){}return e}();function Sv(e){return/^[\s\xa0]*$/.test(e)}var xv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tv(e,t){return e<t?-1:e>t?1:0}function Cv(){var e=uv.navigator;return e&&(e=e.userAgent)?e:""}function Iv(e){return-1!=Cv().indexOf(e)}function Nv(e){return Nv[" "](e),e}Nv[" "]=sv;var Av,Ov=Iv("Opera"),Rv=Iv("Trident")||Iv("MSIE"),Pv=Iv("Edge"),Dv=Pv||Rv,Lv=Iv("Gecko")&&!(-1!=Cv().toLowerCase().indexOf("webkit")&&!Iv("Edge"))&&!(Iv("Trident")||Iv("MSIE"))&&!Iv("Edge"),Zv=-1!=Cv().toLowerCase().indexOf("webkit")&&!Iv("Edge");function Mv(){var e=uv.document;return e?e.documentMode:void 0}e:{var Fv="",Uv=function(){var e=Cv();return Lv?/rv:([^\);]+)(\)|;)/.exec(e):Pv?/Edge\/([\d\.]+)/.exec(e):Rv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zv?/WebKit\/(\S+)/.exec(e):Ov?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Uv&&(Fv=Uv?Uv[1]:""),Rv){var jv=Mv();if(null!=jv&&jv>parseFloat(Fv)){Av=String(jv);break e}}Av=Fv}var Vv,zv={};function qv(){return function(e){var t=zv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=xv(String(Av)).split("."),n=xv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Tv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Tv(0==a[2].length,0==o[2].length)||Tv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(uv.document&&Rv){var Bv=Mv();Vv=Bv||(parseInt(Av,10)||void 0)}else Vv=void 0;var Wv=Vv;function Hv(e,t){if(wv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Lv){e:{try{Nv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hv.X.h.call(this)}}mv(Hv,wv);var Gv={2:"touch",3:"pen",4:"mouse"};Hv.prototype.h=function(){Hv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Kv="closure_listenable_"+(1e6*Math.random()|0),Qv=0;function $v(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Qv,this.ba=this.ea=!1}function Yv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Xv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jv(e){var t={};for(var n in e)t[n]=e[n];return t}var ey="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ty(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ey.length;a++)n=ey[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ny(e){this.src=e,this.g={},this.h=0}function ry(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=kv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Yv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function iy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ny.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=iy(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new $v(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ay="closure_lm_"+(1e6*Math.random()|0),oy={};function uy(e,t,n,r,i){if(r&&r.once)return cy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)uy(e,t[a],n,r,i);return null}return n=yy(n),e&&e[Kv]?e.N(t,n,lv(r)?!!r.capture:!!r,i):sy(e,t,n,!1,r,i)}function sy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lv(i)?!!i.capture:!!i,u=py(e);if(u||(e[ay]=u=new ny(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=dy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ev||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cy(e,t[a],n,r,i);return null}return n=yy(n),e&&e[Kv]?e.O(t,n,lv(r)?!!r.capture:!!r,i):sy(e,t,n,!0,r,i)}function ly(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ly(e,t[a],n,r,i);else r=lv(r)?!!r.capture:!!r,n=yy(n),e&&e[Kv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=iy(a=e.g[t],n,r,i))&&(Yv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=py(e))&&(t=e.g[t.toString()],e=-1,t&&(e=iy(t,n,r,i)),(n=-1<e?t[e]:null)&&fy(n))}function fy(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Kv])ry(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=py(t))?(ry(n,e),0==n.h&&(n.src=null,t[ay]=null)):Yv(e)}}}function hy(e){return e in oy?oy[e]:oy[e]="on"+e}function dy(e,t){if(e.ba)e=!0;else{t=new Hv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&fy(e),e=n.call(r,t)}return e}function py(e){return(e=e[ay])instanceof ny?e:null}var vy="__closure_events_fn_"+(1e9*Math.random()>>>0);function yy(e){return"function"===typeof e?e:(e[vy]||(e[vy]=function(t){return e.handleEvent(t)}),e[vy])}function my(){gv.call(this),this.i=new ny(this),this.P=this,this.I=null}function gy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wv(t,e);else if(t instanceof wv)t.target=t.target||e;else{var i=t;ty(t=new wv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ky(o,r,!0,t)&&i}if(i=ky(o=t.g=e,r,!0,t)&&i,i=ky(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ky(o=t.g=n[a],r,!1,t)&&i}function ky(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&ry(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}mv(my,gv),my.prototype[Kv]=!0,my.prototype.removeEventListener=function(e,t,n,r){ly(this,e,t,n,r)},my.prototype.M=function(){if(my.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yv(n[r]);delete t.g[e],t.h--}}this.I=null},my.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},my.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var by=uv.JSON.stringify;function _y(){var e=Ny,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wy,Ey=function(){function e(){(0,rr.Z)(this,e),this.h=this.g=null}return(0,ir.Z)(e,[{key:"add",value:function(e,t){var n=Sy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Sy=new(function(){function e(t,n){(0,rr.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,ir.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xy}),(function(e){return e.reset()})),xy=function(){function e(){(0,rr.Z)(this,e),this.next=this.g=this.h=null}return(0,ir.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ty(e){uv.setTimeout((function(){throw e}),0)}function Cy(e,t){wy||function(){var e=uv.Promise.resolve(void 0);wy=function(){e.then(Ay)}}(),Iy||(wy(),Iy=!0),Ny.add(e,t)}var Iy=!1,Ny=new Ey;function Ay(){for(var e;e=_y();){try{e.h.call(e.g)}catch(n){Ty(n)}var t=Sy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Iy=!1}function Oy(e,t){my.call(this),this.h=e||1,this.g=t||uv,this.j=vv(this.lb,this),this.l=Date.now()}function Ry(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Py(e,t,n){if("function"===typeof e)n&&(e=vv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vv(e.handleEvent,e)}return 2147483647<Number(t)?-1:uv.setTimeout(e,t||0)}function Dy(e){e.g=Py((function(){e.g=null,e.i&&(e.i=!1,Dy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}mv(Oy,my),(nv=Oy.prototype).ca=!1,nv.R=null,nv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gy(this,"tick"),this.ca&&(Ry(this),this.start()))}},nv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nv.M=function(){Oy.X.M.call(this),Ry(this),delete this.g};var Ly=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,ir.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Dy(this)}},{key:"M",value:function(){Kn((0,Hn.Z)(n.prototype),"M",this).call(this),this.g&&(uv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gv);function Zy(e){gv.call(this),this.h=e,this.g={}}mv(Zy,gv);var My=[];function Fy(e,t,n,r){Array.isArray(n)||(n&&(My[0]=n.toString()),n=My);for(var i=0;i<n.length;i++){var a=uy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Uy(e){Xv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fy(e)}),e),e.g={}}function jy(){this.g=!0}function Vy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return by(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Zy.prototype.M=function(){Zy.X.M.call(this),Uy(this)},Zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jy.prototype.Aa=function(){this.g=!1},jy.prototype.info=function(){};var zy={},qy=null;function By(){return qy=qy||new my}function Wy(e){wv.call(this,zy.Pa,e)}function Hy(e){var t=By();gy(t,new Wy(t))}function Gy(e,t){wv.call(this,zy.STAT_EVENT,e),this.stat=t}function Ky(e){var t=By();gy(t,new Gy(t,e))}function Qy(e,t){wv.call(this,zy.Qa,e),this.size=t}function $y(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return uv.setTimeout((function(){e()}),t)}zy.Pa="serverreachability",mv(Wy,wv),zy.STAT_EVENT="statevent",mv(Gy,wv),zy.Qa="timingevent",mv(Qy,wv);var Yy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Jy(){}function em(e){return e.h||(e.h=e.i())}function tm(){}Jy.prototype.h=null;var nm,rm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function im(){wv.call(this,"d")}function am(){wv.call(this,"c")}function om(){}function um(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Zy(this),this.O=cm,e=Dv?125:void 0,this.T=new Oy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new sm}function sm(){this.i=null,this.g="",this.h=!1}mv(im,wv),mv(am,wv),mv(om,Jy),om.prototype.g=function(){return new XMLHttpRequest},om.prototype.i=function(){return{}},nm=new om;var cm=45e3,lm={},fm={};function hm(e,t,n){e.K=1,e.v=Om(Tm(t)),e.s=n,e.P=!0,dm(e,null)}function dm(e,t){e.F=Date.now(),mm(e),e.A=Tm(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Bm(n.i,"t",r),e.C=0,n=e.l.H,e.h=new sm,e.g=Wg(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ly(vv(e.La,e,e.g),e.N)),Fy(e.S,e.g,"readystatechange",e.ib),t=e.H?Jv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Hy(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function pm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function vm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ym(e,n))==fm){4==t&&(e.o=4,Ky(14),i=!1),Vy(e.j,e.m,null,"[Incomplete Response]");break}if(r==lm){e.o=4,Ky(15),Vy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vy(e.j,e.m,r,null),wm(e,r)}pm(e)&&r!=fm&&r!=lm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ky(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mg(t),t.K=!0,Ky(11))):(Vy(e.j,e.m,n,"[Invalid Chunked Response]"),_m(e),bm(e))}function ym(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fm:(n=Number(t.substring(n,r)),isNaN(n)?lm:(r+=1)+n>t.length?fm:(t=t.substr(r,n),e.C=r+n,t))}function mm(e){e.V=Date.now()+e.O,gm(e,e.O)}function gm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$y(vv(e.gb,e),t)}function km(e){e.B&&(uv.clearTimeout(e.B),e.B=null)}function bm(e){0==e.l.G||e.I||jg(e.l,e)}function _m(e){km(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ry(e.T),Uy(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Xm(n.h,e)))if(!e.J&&Xm(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ug(n),Ng(n)}Zg(n),Ky(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=$y(vv(n.cb,n),6e3));if(1>=Ym(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else zg(n,11)}else if((e.J||n.g==e)&&Ug(n),!Sv(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Jm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Am(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Bg(r,r.H?r.ka:null,r.V),d.J){eg(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(km(p),mm(p)),r.g=d}else Lg(r);0<n.i.length&&Og(n)}else"stop"!=a[0]&&"close"!=a[0]||zg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?zg(n,7):Ig(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Hy()}catch(a){}}function Em(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(cv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(cv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(nv=um.prototype).setTimeout=function(e){this.O=e},nv.ib=function(e){e=e.target;var t=this.L;t&&3==wg(e)?t.l():this.La(e)},nv.La=function(e){try{if(e==this.g)e:{var t=wg(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Dv||this.g&&(this.h.h||this.g.fa()||Eg(this.g)))){this.I||4!=t||7==n||Hy(),km(this);var r=this.g.aa();this.Y=r;t:if(pm(this)){var i=Eg(this.g);e="";var a=i.length,o=4==wg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_m(this),bm(this);var u="";break t}this.h.i=new uv.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sv(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ky(12),_m(this),bm(this);break e}Vy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wm(this,r)}this.P?(vm(this,t,u),Dv&&this.i&&3==t&&(Fy(this.S,this.T,"tick",this.hb),this.T.start())):(Vy(this.j,this.m,u,null),wm(this,u)),4==t&&_m(this),this.i&&!this.I&&(4==t?jg(this.l,this):(this.i=!1,mm(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ky(12)):(this.o=0,Ky(13)),_m(this),bm(this)}}}catch(t){}},nv.hb=function(){if(this.g){var e=wg(this.g),t=this.g.fa();this.C<t.length&&(km(this),vm(this,e,t),this.i&&4!=e&&mm(this))}},nv.cancel=function(){this.I=!0,_m(this)},nv.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Hy(),Ky(17)),_m(this),this.o=2,bm(this)):gm(this,this.V-e)};var Sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xm(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xm){this.h=void 0!==t?t:e.h,Cm(this,e.j),this.s=e.s,this.g=e.g,Im(this,e.m),this.l=e.l,t=e.i;var n=new jm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nm(this,n),this.o=e.o}else e&&(n=String(e).match(Sm))?(this.h=!!t,Cm(this,n[1]||"",!0),this.s=Rm(n[2]||""),this.g=Rm(n[3]||"",!0),Im(this,n[4]),this.l=Rm(n[5]||"",!0),Nm(this,n[6]||"",!0),this.o=Rm(n[7]||"")):(this.h=!!t,this.i=new jm(null,this.h))}function Tm(e){return new xm(e)}function Cm(e,t,n){e.j=n?Rm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Im(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nm(e,t,n){t instanceof jm?(e.i=t,function(e,t){t&&!e.j&&(Vm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zm(this,t),Bm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Pm(t,Fm)),e.i=new jm(t,e.h))}function Am(e,t,n){e.i.set(t,n)}function Om(e){return Am(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Dm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Dm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pm(t,Lm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pm(t,Lm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pm(n,"/"==n.charAt(0)?Mm:Zm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pm(n,Um)),e.join("")};var Lm=/[#\/\?@]/g,Zm=/[#\?:]/g,Mm=/[#\?]/g,Fm=/[#\?@]/g,Um=/#/g;function jm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zm(e,t){Vm(e),t=Wm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qm(e,t){return Vm(e),t=Wm(e,t),e.g.has(t)}function Bm(e,t,n){zm(e,t),0<n.length&&(e.i=null,e.g.set(Wm(e,t),bv(n)),e.h+=n.length)}function Wm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(nv=jm.prototype).add=function(e,t){Vm(this),this.i=null,e=Wm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},nv.forEach=function(e,t){Vm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},nv.oa=function(){Vm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},nv.W=function(e){Vm(this);var t=[];if("string"===typeof e)qm(this,e)&&(t=t.concat(this.g.get(Wm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},nv.set=function(e,t){return Vm(this),this.i=null,qm(this,e=Wm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nv.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},nv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Hm=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.h=t,this.g=n}));function Gm(e){this.l=e||Qm,uv.PerformanceNavigationTiming?e=0<(e=uv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(uv.g&&uv.g.Ga&&uv.g.Ga()&&uv.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Km,Qm=10;function $m(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ym(e){return e.h?1:e.g?e.g.size:0}function Xm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jm(e,t){e.g?e.g.add(t):e.h=t}function eg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Jn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return bv(e.i)}function ng(){}function rg(){this.g=new ng}function ig(e,t,n){var r=n||"";try{Em(e,(function(e,n){var i=e;lv(e)&&(i=by(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ag(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function og(e){this.l=e.ac||null,this.j=e.jb||!1}function ug(e,t){my.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gm.prototype.cancel=function(){if(this.i=tg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Jn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ng.prototype.stringify=function(e){return uv.JSON.stringify(e,void 0)},ng.prototype.parse=function(e){return uv.JSON.parse(e,void 0)},mv(og,Jy),og.prototype.g=function(){return new ug(this.l,this.j)},og.prototype.i=(Km={},function(){return Km}),mv(ug,my);var sg=0;function cg(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function lg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fg(e)}function fg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nv=ug.prototype).open=function(e,t){if(this.readyState!=sg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fg(this)},nv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||uv).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},nv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lg(this)),this.readyState=sg},nv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fg(this)),this.g&&(this.readyState=3,fg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof uv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cg(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},nv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?lg(this):fg(this),3==this.readyState&&cg(this)}},nv.Va=function(e){this.g&&(this.response=this.responseText=e,lg(this))},nv.Ua=function(e){this.g&&(this.response=e,lg(this))},nv.ga=function(){this.g&&lg(this)},nv.setRequestHeader=function(e,t){this.v.append(e,t)},nv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hg=uv.JSON.parse;function dg(e){my.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pg,this.K=this.L=!1}mv(dg,my);var pg="",vg=/^https?$/i,yg=["POST","PUT"];function mg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gg(e),bg(e)}function gg(e){e.D||(e.D=!0,gy(e,"complete"),gy(e,"error"))}function kg(e){if(e.h&&"undefined"!=typeof ov&&(!e.C[1]||4!=wg(e)||2!=e.aa()))if(e.v&&4==wg(e))Py(e.Ha,0,e);else if(gy(e,"readystatechange"),4==wg(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Sm)[1]||null;if(!a&&uv.self&&uv.self.location){var o=uv.self.location.protocol;a=o.substr(0,o.length-1)}i=!vg.test(a?a.toLowerCase():"")}t=i}if(t)gy(e,"complete"),gy(e,"success");else{e.m=6;try{var u=2<wg(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",gg(e)}}finally{bg(e)}}}function bg(e,t){if(e.g){_g(e);var n=e.g,r=e.C[0]?sv:null;e.g=null,e.C=null,t||gy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _g(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(uv.clearTimeout(e.A),e.A=null)}function wg(e){return e.g?e.g.readyState:0}function Eg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case pg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(uk){return null}}function Sg(e){var t="";return Xv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function xg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Am(e,t,n))}function Tg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cg(e){this.Ca=0,this.i=[],this.j=new jy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Tg("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Tg("baseRetryDelayMs",5e3,e),this.bb=Tg("retryDelaySeedMs",1e4,e),this.$a=Tg("forwardChannelMaxRetries",2,e),this.ta=Tg("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Gm(e&&e.concurrentRequestLimit),this.Fa=new rg,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ig(e){if(Ag(e),3==e.G){var t=e.U++,n=Tm(e.F);Am(n,"SID",e.I),Am(n,"RID",t),Am(n,"TYPE","terminate"),Pg(e,n),(t=new um(e,e.j,t,void 0)).K=2,t.v=Om(Tm(n)),n=!1,uv.navigator&&uv.navigator.sendBeacon&&(n=uv.navigator.sendBeacon(t.v.toString(),"")),!n&&uv.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wg(t.l,null),t.g.da(t.v)),t.F=Date.now(),mm(t)}qg(e)}function Ng(e){e.g&&(Mg(e),e.g.cancel(),e.g=null)}function Ag(e){Ng(e),e.u&&(uv.clearTimeout(e.u),e.u=null),Ug(e),e.h.cancel(),e.m&&("number"===typeof e.m&&uv.clearTimeout(e.m),e.m=null)}function Og(e){$m(e.h)||e.m||(e.m=!0,Cy(e.Ja,e),e.C=0)}function Rg(e,t){var n;n=t?t.m:e.U++;var r=Tm(e.F);Am(r,"SID",e.I),Am(r,"RID",n),Am(r,"AID",e.T),Pg(e,r),e.o&&e.s&&xg(r,e.o,e.s),n=new um(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Dg(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Jm(e.h,n),hm(n,r,t)}function Pg(e,t){e.ia&&Xv(e.ia,(function(e,n){Am(t,n,e)})),e.l&&Em({},(function(e,n){Am(t,n,e)}))}function Dg(e,t,n){n=Math.min(e.i.length,n);var r=e.l?vv(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ig(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Lg(e){e.g||e.u||(e.Z=1,Cy(e.Ia,e),e.A=0)}function Zg(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=$y(vv(e.Ia,e),Vg(e,e.A)),e.A++,!0)}function Mg(e){null!=e.B&&(uv.clearTimeout(e.B),e.B=null)}function Fg(e){e.g=new um(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Tm(e.sa);Am(t,"RID","rpc"),Am(t,"SID",e.I),Am(t,"CI",e.L?"0":"1"),Am(t,"AID",e.T),Am(t,"TYPE","xmlhttp"),Pg(e,t),e.o&&e.s&&xg(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Om(Tm(t)),n.s=null,n.P=!0,dm(n,e)}function Ug(e){null!=e.v&&(uv.clearTimeout(e.v),e.v=null)}function jg(e,t){var n=null;if(e.g==t){Ug(e),Mg(e),e.g=null;var r=2}else{if(!Xm(e.h,t))return;n=t.D,eg(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;gy(r=By(),new Qy(r,n)),Og(e)}else Lg(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Ym(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=$y(vv(e.Ja,e,t),Vg(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:zg(e,5);break;case 4:zg(e,10);break;case 3:zg(e,6);break;default:zg(e,2)}}function Vg(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function zg(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=vv(e.kb,e);n||(n=new xm("//www.google.com/images/cleardot.gif"),uv.location&&"http"==uv.location.protocol||Cm(n,"https"),Om(n)),function(e,t){var n=new jy;if(uv.Image){var r=new Image;r.onload=yv(ag,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yv(ag,n,r,"TestLoadImage: error",!1,t),r.onabort=yv(ag,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yv(ag,n,r,"TestLoadImage: timeout",!1,t),uv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ky(2);e.G=0,e.l&&e.l.va(t),qg(e),Ag(e)}function qg(e){if(e.G=0,e.la=[],e.l){var t=tg(e.h);0==t.length&&0==e.i.length||(_v(e.la,t),_v(e.la,e.i),e.h.i.length=0,bv(e.i),e.i.length=0),e.l.ua()}}function Bg(e,t,n){var r=n instanceof xm?Tm(n):new xm(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Im(r,r.m);else{var i=uv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new xm(null,void 0);r&&Cm(a,r),t&&(a.g=t),i&&Im(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Am(r,n,t),Am(r,"VER",e.ma),Pg(e,r),r}function Wg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new dg(new og({jb:!0})):new dg(e.ra)).Ka(e.H),t}function Hg(){}function Gg(){if(Rv&&!(10<=Number(Wv)))throw Error("Environmental error: no available transport.")}function Kg(e,t){my.call(this),this.g=new Cg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Sv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yg(this)}function Qg(e){im.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $g(){am.call(this),this.status=1}function Yg(e){this.g=e}(nv=dg.prototype).Ka=function(e){this.L=e},nv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nm.g(),this.C=this.u?em(this.u):em(nm),this.g.onreadystatechange=vv(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void mg(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Jn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=uv.FormData&&e instanceof uv.FormData,!(0<=kv(yg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Jn(n);try{for(c.s();!(s=c.n()).done;){var l=(0,er.Z)(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_g(this),0<this.B&&((this.K=function(e){return Rv&&qv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vv(this.qa,this)):this.A=Py(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){mg(this,u)}},nv.qa=function(){"undefined"!=typeof ov&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gy(this,"timeout"),this.abort(8))},nv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gy(this,"complete"),gy(this,"abort"),bg(this))},nv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bg(this,!0)),dg.X.M.call(this)},nv.Ha=function(){this.s||(this.F||this.v||this.l?kg(this):this.fb())},nv.fb=function(){kg(this)},nv.aa=function(){try{return 2<wg(this)?this.g.status:-1}catch(Km){return-1}},nv.fa=function(){try{return this.g?this.g.responseText:""}catch(Km){return""}},nv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hg(t)}},nv.Ea=function(){return this.m},nv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(nv=Cg.prototype).ma=8,nv.G=1,nv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new um(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ty(n=Jv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Dg(this,t,r),Am(i=Tm(this.F),"RID",e),Am(i,"CVER",22),this.D&&Am(i,"X-HTTP-Session-Id",this.D),Pg(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Sg(n)))+"&"+r:this.o&&xg(i,this.o,n)),Jm(this.h,t),this.Ya&&Am(i,"TYPE","init"),this.O?(Am(i,"$req",r),Am(i,"SID","null"),t.Z=!0,hm(t,i,null)):hm(t,i,r),this.G=2}}else 3==this.G&&(e?Rg(this,e):0==this.i.length||$m(this.h)||Rg(this))},nv.Ia=function(){if(this.u=null,Fg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=$y(vv(this.eb,this),e)}},nv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ky(10),Ng(this),Fg(this))},nv.cb=function(){null!=this.v&&(this.v=null,Ng(this),Zg(this),Ky(19))},nv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ky(2)):(this.j.info("Failed to ping google.com"),Ky(1))},(nv=Hg.prototype).xa=function(){},nv.wa=function(){},nv.va=function(){},nv.ua=function(){},nv.Ra=function(){},Gg.prototype.g=function(e,t){return new Kg(e,t)},mv(Kg,my),Kg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ky(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Bg(e,null,e.V),Og(e)},Kg.prototype.close=function(){Ig(this.g)},Kg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=by(e),e=n);t.i.push(new Hm(t.ab++,e)),3==t.G&&Og(t)},Kg.prototype.M=function(){this.g.l=null,delete this.j,Ig(this.g),delete this.g,Kg.X.M.call(this)},mv(Qg,im),mv($g,am),mv(Yg,Hg),Yg.prototype.xa=function(){gy(this.g,"a")},Yg.prototype.wa=function(e){gy(this.g,new Qg(e))},Yg.prototype.va=function(e){gy(this.g,new $g)},Yg.prototype.ua=function(){gy(this.g,"b")},Gg.prototype.createWebChannel=Gg.prototype.g,Kg.prototype.send=Kg.prototype.u,Kg.prototype.open=Kg.prototype.m,Kg.prototype.close=Kg.prototype.close,Yy.NO_ERROR=0,Yy.TIMEOUT=8,Yy.HTTP_ERROR=6,Xy.COMPLETE="complete",tm.EventType=rm,rm.OPEN="a",rm.CLOSE="b",rm.ERROR="c",rm.MESSAGE="d",my.prototype.listen=my.prototype.N,dg.prototype.listenOnce=dg.prototype.O,dg.prototype.getLastError=dg.prototype.Oa,dg.prototype.getLastErrorCode=dg.prototype.Ea,dg.prototype.getStatus=dg.prototype.aa,dg.prototype.getResponseJson=dg.prototype.Sa,dg.prototype.getResponseText=dg.prototype.fa,dg.prototype.send=dg.prototype.da,dg.prototype.setWithCredentials=dg.prototype.Ka;var Xg=av.createWebChannelTransport=function(){return new Gg},Jg=av.getStatEventTarget=function(){return By()},ek=av.ErrorCode=Yy,tk=av.EventType=Xy,nk=av.Event=zy,rk=av.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ik=av.FetchXmlHttpFactory=og,ak=av.WebChannel=tm,ok=av.XhrIo=dg,uk="@firebase/firestore",sk=function(){function e(t){(0,rr.Z)(this,e),this.uid=t}return(0,ir.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sk.UNAUTHENTICATED=new sk(null),sk.GOOGLE_CREDENTIALS=new sk("google-credentials-uid"),sk.FIRST_PARTY=new sk("first-party-uid"),sk.MOCK_USER=new sk("mock-user");var ck="9.14.0",lk=new ci("@firebase/firestore");function fk(){return lk.logLevel}function hk(e){if(lk.logLevel<=ni.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vk);lk.debug.apply(lk,["Firestore (".concat(ck,"): ").concat(e)].concat((0,W.Z)(i)))}}function dk(e){if(lk.logLevel<=ni.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vk);lk.error.apply(lk,["Firestore (".concat(ck,"): ").concat(e)].concat((0,W.Z)(i)))}}function pk(e){if(lk.logLevel<=ni.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vk);lk.warn.apply(lk,["Firestore (".concat(ck,"): ").concat(e)].concat((0,W.Z)(i)))}}function vk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ck,") INTERNAL ASSERTION FAILED: ")+e;throw dk(t),new Error(t)}function mk(e,t){e||yk()}function gk(e,t){return e}var kk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bk=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,ir.Z)(n)}(Ar),_k=(0,ir.Z)((function e(){var t=this;(0,rr.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wk=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ek=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Sk=function(){function e(t){(0,rr.Z)(this,e),this.token=t,this.changeListener=null}return(0,ir.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),xk=function(){function e(t){(0,rr.Z)(this,e),this.t=t,this.currentUser=sk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,ir.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _k;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _k,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){hk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(hk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _k)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mk("string"==typeof n.accessToken),new wk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mk(null===e||"string"==typeof e),new sk(e)}}]),e}(),Tk=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=sk.FIRST_PARTY,this.p=new Map}return(0,ir.Z)(e,[{key:"I",value:function(){return this.g?this.g():(mk(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ck=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return(0,ir.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Tk(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ik=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nk=function(){function e(t){(0,rr.Z)(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return(0,ir.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,hk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):hk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(mk("string"==typeof t.token),e.A=t.token,new Ik(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ak(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ok=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ak(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Rk(e,t){return e<t?-1:e>t?1:0}function Pk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Dk=function(){function e(t,n){if((0,rr.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new bk(kk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bk(kk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new bk(kk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bk(kk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,ir.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Rk(this.nanoseconds,e.nanoseconds):Rk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lk=function(){function e(t){(0,rr.Z)(this,e),this.timestamp=t}return(0,ir.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Dk(0,0))}},{key:"max",value:function(){return new e(new Dk(253402300799,999999999))}}]),e}(),Zk=function(){function e(t,n,r){(0,rr.Z)(this,e),void 0===n?n=0:n>t.length&&yk(),void 0===r?r=t.length-n:r>t.length-n&&yk(),this.segments=t,this.offset=n,this.len=r}return(0,ir.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mk=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new bk(kk.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,W.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zk),Fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uk=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new bk(kk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new bk(kk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new bk(kk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new bk(kk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Zk),jk=function(){function e(t){(0,rr.Z)(this,e),this.path=t}return(0,ir.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mk.fromString(t))}},{key:"fromName",value:function(t){return new e(Mk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mk.emptyPath())}},{key:"comparator",value:function(e,t){return Mk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mk(t.slice()))}}]),e}(),Vk=(0,ir.Z)((function e(t,n,r,i){(0,rr.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Vk.UNKNOWN_ID=-1;function zk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lk.fromTimestamp(1e9===r?new Dk(n+1,0):new Dk(n,r));return new Bk(i,jk.empty(),t)}function qk(e){return new Bk(e.readTime,e.key,-1)}var Bk=function(){function e(t,n,r){(0,rr.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,ir.Z)(e,null,[{key:"min",value:function(){return new e(Lk.min(),jk.empty(),-1)}},{key:"max",value:function(){return new e(Lk.max(),jk.empty(),-1)}}]),e}();function Wk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jk.comparator(e.documentKey,t.documentKey))?n:Rk(e.largestBatchId,t.largestBatchId)}var Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gk=function(){function e(){(0,rr.Z)(this,e),this.onCommittedListeners=[]}return(0,ir.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Kk(e){return Qk.apply(this,arguments)}function Qk(){return Qk=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===kk.FAILED_PRECONDITION&&t.message===Hk){e.next=2;break}throw t;case 2:hk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}var $k=function(){function e(t){var n=this;(0,rr.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,ir.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&yk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Jn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Yk(e){return"IndexedDbTransactionError"===e.name}var Xk=function(){function e(t,n){var r=this;(0,rr.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return(0,ir.Z)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Jk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Xk.at=-1;var nb=function(){function e(t,n){(0,rr.Z)(this,e),this.comparator=t,this.root=n||ib.EMPTY}return(0,ir.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ib.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ib.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rb(this.root,e,this.comparator,!0)}}]),e}(),rb=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,ir.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ib=function(){function e(t,n,r,i,a){(0,rr.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,ir.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw yk();if(this.right.isRed())throw yk();var e=this.left.check();if(e!==this.right.check())throw yk();return e+(this.isRed()?0:1)}}]),e}();ib.EMPTY=null,ib.RED=!0,ib.BLACK=!1,ib.EMPTY=new(function(){function e(){(0,rr.Z)(this,e),this.size=0}return(0,ir.Z)(e,[{key:"key",get:function(){throw yk()}},{key:"value",get:function(){throw yk()}},{key:"color",get:function(){throw yk()}},{key:"left",get:function(){throw yk()}},{key:"right",get:function(){throw yk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ib(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ab=function(){function e(t){(0,rr.Z)(this,e),this.comparator=t,this.data=new nb(this.comparator)}return(0,ir.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ob(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ob(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ob=function(){function e(t){(0,rr.Z)(this,e),this.iter=t}return(0,ir.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ub=function(){function e(t){(0,rr.Z)(this,e),this.fields=t,t.sort(Uk.comparator)}return(0,ir.Z)(e,[{key:"unionWith",value:function(t){var n,r=new ab(Uk.comparator),i=Jn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Jn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Jn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Pk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var sb=function(e){function t(e){(0,rr.Z)(this,t),this.binaryString=e}return(0,ir.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Rk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);sb.EMPTY_BYTE_STRING=new sb("");var cb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lb(e){if(mk(!!e),"string"==typeof e){var t=0,n=cb.exec(e);if(mk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fb(e.seconds),nanos:fb(e.nanos)}}function fb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hb(e){return"string"==typeof e?sb.fromBase64String(e):sb.fromUint8Array(e)}function db(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pb(e){var t=e.mapValue.fields.__previous_value__;return db(t)?pb(t):t}function vb(e){var t=lb(e.mapValue.fields.__local_write_time__.timestampValue);return new Dk(t.seconds,t.nanos)}var yb=(0,ir.Z)((function e(t,n,r,i,a,o,u,s){(0,rr.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),mb=function(){function e(t,n){(0,rr.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,ir.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gb(e){return null==e}function kb(e){return 0===e&&1/e==-1/0}function bb(e){return"number"==typeof e&&Number.isInteger(e)&&!kb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _b={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?db(e)?4:Zb(e)?9007199254740991:10:yk()}function Eb(e,t){if(e===t)return!0;var n=wb(e);if(n!==wb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vb(e).isEqual(vb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lb(e.timestampValue),r=lb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hb(e.bytesValue).isEqual(hb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fb(e.geoPointValue.latitude)===fb(t.geoPointValue.latitude)&&fb(e.geoPointValue.longitude)===fb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fb(e.integerValue)===fb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fb(e.doubleValue),r=fb(t.doubleValue);return n===r?kb(n)===kb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pk(e.arrayValue.values||[],t.arrayValue.values||[],Eb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jk(n)!==Jk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eb(n[i],r[i])))return!1;return!0}(e,t);default:return yk()}}function Sb(e,t){return void 0!==(e.values||[]).find((function(e){return Eb(e,t)}))}function xb(e,t){if(e===t)return 0;var n=wb(e),r=wb(t);if(n!==r)return Rk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fb(e.integerValue||e.doubleValue),r=fb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tb(e.timestampValue,t.timestampValue);case 4:return Tb(vb(e),vb(t));case 5:return Rk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hb(e),r=hb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Rk(n[i],r[i]);if(0!==a)return a}return Rk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rk(fb(e.latitude),fb(t.latitude));return 0!==n?n:Rk(fb(e.longitude),fb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xb(n[i],r[i]);if(a)return a}return Rk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_b.mapValue&&t===_b.mapValue)return 0;if(e===_b.mapValue)return 1;if(t===_b.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Rk(r[o],a[o]);if(0!==u)return u;var s=xb(n[r[o]],i[a[o]]);if(0!==s)return s}return Rk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw yk()}}function Tb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rk(e,t);var n=lb(e),r=lb(t),i=Rk(n.seconds,r.seconds);return 0!==i?i:Rk(n.nanos,r.nanos)}function Cb(e){return Ib(e)}function Ib(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,jk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Jn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ib(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Jn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ib(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):yk();var t,n}function Nb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ab(e){return!!e&&"integerValue"in e}function Ob(e){return!!e&&"arrayValue"in e}function Rb(e){return!!e&&"nullValue"in e}function Pb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Db(e){return!!e&&"mapValue"in e}function Lb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return eb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Lb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Mb=function(){function e(t){(0,rr.Z)(this,e),this.value=t}return(0,ir.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Db(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lb(t)}},{key:"setAll",value:function(e){var t=this,n=Uk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Lb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Db(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Eb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Db(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){eb(t,(function(t,n){return e[t]=n}));var r,i=Jn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Lb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fb(e){var t=[];return eb(e.fields,(function(e,n){var r=new Uk([e]);if(Db(n)){var i=Fb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Jn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ub(t)}var Ub=function(){function e(t,n,r,i,a,o){(0,rr.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,ir.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Mb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Mb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lk.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lk.min(),Lk.min(),Mb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lk.min(),Mb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lk.min(),Mb.empty(),2)}}]),e}(),jb=(0,ir.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,rr.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Vb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jb(e,t,n,r,i,a,o)}function zb(e){var t=gk(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Cb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Cb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Cb(e)})).join(",")),t.ht=n}return t.ht}function qb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!n_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Eb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!i_(e.startAt,t.startAt)&&i_(e.endAt,t.endAt)}function Bb(e){return jk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Wb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,ir.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(xb(t,this.value)):null!==t&&wb(this.value)===wb(t)&&this.ft(xb(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yk()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Hb(e,t,r):"array-contains"===t?new $b(e,r):"in"===t?new Yb(e,r):"not-in"===t?new Xb(e,r):"array-contains-any"===t?new Jb(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Gb(e,n):new Kb(e,n)}}]),n}(function(){return(0,ir.Z)((function e(){(0,rr.Z)(this,e)}))}()),Hb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this,e,r,i)).key=jk.fromName(i.referenceValue),a}return(0,ir.Z)(n,[{key:"matches",value:function(e){var t=jk.comparator(e.key,this.key);return this.ft(t)}}]),n}(Wb),Gb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this,e,"in",r)).keys=Qb("in",r),i}return(0,ir.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wb),Kb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=Qb("not-in",r),i}return(0,ir.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wb);function Qb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jk.fromName(e.referenceValue)}))}var $b=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){return(0,rr.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,ir.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ob(t)&&Sb(t.arrayValue,this.value)}}]),n}(Wb),Yb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){return(0,rr.Z)(this,n),t.call(this,e,"in",r)}return(0,ir.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Sb(this.value.arrayValue,t)}}]),n}(Wb),Xb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){return(0,rr.Z)(this,n),t.call(this,e,"not-in",r)}return(0,ir.Z)(n,[{key:"matches",value:function(e){if(Sb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Sb(this.value.arrayValue,t)}}]),n}(Wb),Jb=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){return(0,rr.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,ir.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ob(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Sb(t.value.arrayValue,e)}))}}]),n}(Wb),e_=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.position=t,this.inclusive=n})),t_=(0,ir.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,rr.Z)(this,e),this.field=t,this.dir=n}));function n_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function r_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jk.comparator(jk.fromName(o.referenceValue),n.key):xb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function i_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Eb(e.position[n],t.position[n]))return!1;return!0}var a_=(0,ir.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,rr.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function o_(e,t,n,r,i,a,o,u){return new a_(e,t,n,r,i,a,o,u)}function u_(e){return new a_(e)}function s_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function c_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function l_(e){var t,n=Jn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function f_(e){return null!==e.collectionGroup}function h_(e){var t=gk(e);if(null===t._t){t._t=[];var n=l_(t),r=c_(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new t_(n)),t._t.push(new t_(Uk.keyField(),"asc"));else{var i,a=!1,o=Jn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new t_(Uk.keyField(),s))}}}return t._t}function d_(e){var t=gk(e);if(!t.wt)if("F"===t.limitType)t.wt=Vb(t.path,t.collectionGroup,h_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Jn(h_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new t_(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new e_(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new e_(t.startAt.position,t.startAt.inclusive):null;t.wt=Vb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function p_(e,t,n){return new a_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function v_(e,t){return qb(d_(e),d_(t))&&e.limitType===t.limitType}function y_(e){return"".concat(zb(d_(e)),"|lt:").concat(e.limitType)}function m_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Cb(t.value));var t})).join(", "),"]")),gb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Cb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Cb(e)})).join(",")),"Target(".concat(t,")")}(d_(e)),"; limitType=").concat(e.limitType,")")}function g_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Jn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Jn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=r_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,h_(e),t))&&!(e.endAt&&!function(e,t,n){var r=r_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,h_(e),t))}(e,t)}function k_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function b_(e){return function(t,n){var r,i=!1,a=Jn(h_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=__(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function __(e,t,n){var r=e.field.isKeyField()?jk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xb(r,i):yk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yk()}}function w_(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kb(t)?"-0":t}}function E_(e){return{integerValue:""+e}}function S_(e,t){return bb(t)?E_(t):w_(e,t)}var x_=(0,ir.Z)((function e(){(0,rr.Z)(this,e),this._=void 0}));function T_(e,t,n){return e instanceof N_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof A_?O_(e,t):e instanceof R_?P_(e,t):function(e,t){var n=I_(e,t),r=L_(n)+L_(e.yt);return Ab(n)&&Ab(e.yt)?E_(r):w_(e.It,r)}(e,t)}function C_(e,t,n){return e instanceof A_?O_(e,t):e instanceof R_?P_(e,t):n}function I_(e,t){return e instanceof D_?Ab(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var N_=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n)}(x_),A_=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,ir.Z)(n)}(x_);function O_(e,t){var n,r=Z_(t),i=Jn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Eb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var R_=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,ir.Z)(n)}(x_);function P_(e,t){var n,r=Z_(t),i=Jn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Eb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var D_=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this)).It=e,i.yt=r,i}return(0,ir.Z)(n)}(x_);function L_(e){return fb(e.integerValue||e.doubleValue)}function Z_(e){return Ob(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var M_=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.field=t,this.transform=n}));var F_=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.version=t,this.transformResults=n})),U_=function(){function e(t,n){(0,rr.Z)(this,e),this.updateTime=t,this.exists=n}return(0,ir.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function j_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var V_=(0,ir.Z)((function e(){(0,rr.Z)(this,e)}));function z_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ew(e.key,U_.none()):new G_(e.key,e.data,U_.none());var n,r=e.data,i=Mb.empty(),a=new ab(Uk.comparator),o=Jn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new K_(e.key,i,new ub(a.toArray()),U_.none())}function q_(e,t,n){e instanceof G_?function(e,t,n){var r=e.value.clone(),i=$_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof K_?function(e,t,n){if(j_(e.precondition,t)){var r=$_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Q_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function B_(e,t,n,r){return e instanceof G_?function(e,t,n,r){if(!j_(e.precondition,t))return n;var i=e.value.clone(),a=Y_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof K_?function(e,t,n,r){if(!j_(e.precondition,t))return n;var i=Y_(e.fieldTransforms,r,t),a=t.data;return a.setAll(Q_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return j_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function W_(e,t){var n,r=null,i=Jn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=I_(a.transform,o||null);null!=u&&(null===r&&(r=Mb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function H_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof A_&&t instanceof A_||e instanceof R_&&t instanceof R_?Pk(e.elements,t.elements,Eb):e instanceof D_&&t instanceof D_?Eb(e.yt,t.yt):e instanceof N_&&t instanceof N_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var G_=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,rr.Z)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,ir.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(V_),K_=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,rr.Z)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,ir.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(V_);function Q_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $_(e,t,n){var r=new Map;mk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,C_(o,u,n[i]))}return r}function Y_(e,t,n){var r,i=new Map,a=Jn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,T_(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var X_,J_,ew=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,ir.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(V_),tw=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,ir.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(V_),nw=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.count=t}));function rw(e){switch(e){default:return yk();case kk.CANCELLED:case kk.UNKNOWN:case kk.DEADLINE_EXCEEDED:case kk.RESOURCE_EXHAUSTED:case kk.INTERNAL:case kk.UNAVAILABLE:case kk.UNAUTHENTICATED:return!1;case kk.INVALID_ARGUMENT:case kk.NOT_FOUND:case kk.ALREADY_EXISTS:case kk.PERMISSION_DENIED:case kk.FAILED_PRECONDITION:case kk.ABORTED:case kk.OUT_OF_RANGE:case kk.UNIMPLEMENTED:case kk.DATA_LOSS:return!0}}function iw(e){if(void 0===e)return dk("GRPC error has no .code"),kk.UNKNOWN;switch(e){case X_.OK:return kk.OK;case X_.CANCELLED:return kk.CANCELLED;case X_.UNKNOWN:return kk.UNKNOWN;case X_.DEADLINE_EXCEEDED:return kk.DEADLINE_EXCEEDED;case X_.RESOURCE_EXHAUSTED:return kk.RESOURCE_EXHAUSTED;case X_.INTERNAL:return kk.INTERNAL;case X_.UNAVAILABLE:return kk.UNAVAILABLE;case X_.UNAUTHENTICATED:return kk.UNAUTHENTICATED;case X_.INVALID_ARGUMENT:return kk.INVALID_ARGUMENT;case X_.NOT_FOUND:return kk.NOT_FOUND;case X_.ALREADY_EXISTS:return kk.ALREADY_EXISTS;case X_.PERMISSION_DENIED:return kk.PERMISSION_DENIED;case X_.FAILED_PRECONDITION:return kk.FAILED_PRECONDITION;case X_.ABORTED:return kk.ABORTED;case X_.OUT_OF_RANGE:return kk.OUT_OF_RANGE;case X_.UNIMPLEMENTED:return kk.UNIMPLEMENTED;case X_.DATA_LOSS:return kk.DATA_LOSS;default:return yk()}}(J_=X_||(X_={}))[J_.OK=0]="OK",J_[J_.CANCELLED=1]="CANCELLED",J_[J_.UNKNOWN=2]="UNKNOWN",J_[J_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J_[J_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J_[J_.NOT_FOUND=5]="NOT_FOUND",J_[J_.ALREADY_EXISTS=6]="ALREADY_EXISTS",J_[J_.PERMISSION_DENIED=7]="PERMISSION_DENIED",J_[J_.UNAUTHENTICATED=16]="UNAUTHENTICATED",J_[J_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J_[J_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J_[J_.ABORTED=10]="ABORTED",J_[J_.OUT_OF_RANGE=11]="OUT_OF_RANGE",J_[J_.UNIMPLEMENTED=12]="UNIMPLEMENTED",J_[J_.INTERNAL=13]="INTERNAL",J_[J_.UNAVAILABLE=14]="UNAVAILABLE",J_[J_.DATA_LOSS=15]="DATA_LOSS";var aw=function(){function e(t,n){(0,rr.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,ir.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Jn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,er.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){eb(this.inner,(function(t,n){var r,i=Jn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,er.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return tb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ow=new nb(jk.comparator);function uw(){return ow}var sw=new nb(jk.comparator);function cw(){for(var e=sw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function lw(e){var t=sw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function fw(){return dw()}function hw(){return dw()}function dw(){return new aw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var pw=new nb(jk.comparator),vw=new ab(jk.comparator);function yw(){for(var e=vw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var mw=new ab(Rk);function gw(){return mw}var kw=function(){function e(t,n,r,i,a){(0,rr.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,ir.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,bw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lk.min(),i,gw(),uw(),yw())}}]),e}(),bw=function(){function e(t,n,r,i,a){(0,rr.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,ir.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,yw(),yw(),yw())}}]),e}(),_w=(0,ir.Z)((function e(t,n,r,i){(0,rr.Z)(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),ww=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.targetId=t,this.At=n})),Ew=(0,ir.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,rr.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Sw=function(){function e(){(0,rr.Z)(this,e),this.Rt=0,this.bt=Cw(),this.Pt=sb.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return(0,ir.Z)(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=yw(),t=yw(),n=yw();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yk()}})),new bw(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Cw()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),xw=function(){function e(t){(0,rr.Z)(this,e),this.Bt=t,this.Lt=new Map,this.Ut=uw(),this.qt=Tw(),this.Kt=new ab(Rk)}return(0,ir.Z)(e,[{key:"Gt",value:function(e){var t,n=Jn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Jn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:yk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Bb(i))if(0===n){var a=new jk(i.path);this.jt(t,a,Ub.newNoDocument(a,Lk.min()))}else mk(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Bb(a.target)){var o=new jk(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Ub.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=yw();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new kw(e,n,this.Kt,this.Ut,r);return this.Ut=uw(),this.qt=Tw(),this.Kt=new ab(Rk),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Sw,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new ab(Rk),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||hk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Sw),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Tw(){return new nb(jk.comparator)}function Cw(){return new nb(jk.comparator)}var Iw={asc:"ASCENDING",desc:"DESCENDING"},Nw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aw=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.databaseId=t,this.gt=n}));function Ow(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rw(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Pw(e,t){return Ow(e,t.toTimestamp())}function Dw(e){return mk(!!e),Lk.fromTimestamp(function(e){var t=lb(e);return new Dk(t.seconds,t.nanos)}(e))}function Lw(e,t){return function(e){return new Mk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zw(e){var t=Mk.fromString(e);return mk(nE(t)),t}function Mw(e,t){return Lw(e.databaseId,t.path)}function Fw(e,t){var n=Zw(t);if(n.get(1)!==e.databaseId.projectId)throw new bk(kk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bk(kk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jk(zw(n))}function Uw(e,t){return Lw(e.databaseId,t)}function jw(e){var t=Zw(e);return 4===t.length?Mk.emptyPath():zw(t)}function Vw(e){return new Mk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zw(e){return mk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qw(e,t,n){return{name:Mw(e,t),fields:n.value.mapValue.fields}}function Bw(e,t){var n;if(t instanceof G_)n={update:qw(e,t.key,t.value)};else if(t instanceof ew)n={delete:Mw(e,t.key)};else if(t instanceof K_)n={update:qw(e,t.key,t.data),updateMask:tE(t.fieldMask)};else{if(!(t instanceof tw))return yk();n={verify:Mw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof N_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof A_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof R_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof D_)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw yk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yk()}(e,t.precondition)),n}function Ww(e,t){return{documents:[Uw(e,t.path)]}}function Hw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Uw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Uw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Pb(e.value))return{unaryFilter:{field:Yw(e.field),op:"IS_NAN"}};if(Rb(e.value))return{unaryFilter:{field:Yw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pb(e.value))return{unaryFilter:{field:Yw(e.field),op:"IS_NOT_NAN"}};if(Rb(e.value))return{unaryFilter:{field:Yw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yw(e.field),op:$w(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Yw(e.field),direction:Qw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||gb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Gw(e){var t=jw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Kw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new t_(Xw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new e_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new e_(n,t)}(n.endAt)),o_(t,i,u,o,s,"F",c,l)}function Kw(e){return e?void 0!==e.unaryFilter?[eE(e)]:void 0!==e.fieldFilter?[Jw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Kw(e)})).reduce((function(e,t){return e.concat(t)})):yk():[]}function Qw(e){return Iw[e]}function $w(e){return Nw[e]}function Yw(e){return{fieldPath:e.canonicalString()}}function Xw(e){return Uk.fromServerFormat(e.fieldPath)}function Jw(e){return Wb.create(Xw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yk()}}(e.fieldFilter.op),e.fieldFilter.value)}function eE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Xw(e.unaryFilter.field);return Wb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Xw(e.unaryFilter.field);return Wb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xw(e.unaryFilter.field);return Wb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xw(e.unaryFilter.field);return Wb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yk()}}function tE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function nE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var rE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),iE=([].concat((0,W.Z)(rE),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),aE=iE;[].concat(aE,["indexConfiguration","indexState","indexEntries"]);var oE=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,ir.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&q_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Jn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=B_(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Jn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=B_(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=hw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=z_(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Lk.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),yw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Pk(this.mutations,e.mutations,(function(e,t){return H_(e,t)}))&&Pk(this.baseMutations,e.baseMutations,(function(e,t){return H_(e,t)}))}}]),e}(),uE=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,ir.Z)(e,null,[{key:"from",value:function(t,n,r){mk(t.mutations.length===r.length);for(var i=pw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),sE=function(){function e(t,n){(0,rr.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,ir.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),cE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sb.EMPTY_BYTE_STRING;(0,rr.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return(0,ir.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),lE=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.re=t}));function fE(e){var t=Gw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?p_(t,t.limit,"L"):t}var hE=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(fb(e.integerValue));else if("doubleValue"in e){var n=fb(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),kb(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(hb(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Zb(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):yk()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Jn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),jk.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();hE.Te=new hE;var dE=function(){function e(){(0,rr.Z)(this,e),this.Ye=new pE}return(0,ir.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),$k.resolve()}},{key:"getCollectionParents",value:function(e,t){return $k.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $k.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $k.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return $k.resolve(null)}},{key:"getIndexType",value:function(e,t){return $k.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return $k.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $k.resolve(null)}},{key:"getMinOffset",value:function(e,t){return $k.resolve(Bk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return $k.resolve(Bk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return $k.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $k.resolve()}}]),e}(),pE=function(){function e(){(0,rr.Z)(this,e),this.index={}}return(0,ir.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ab(Mk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ab(Mk.comparator)).toArray()}}]),e}();new Uint8Array(0);var vE=function(){function e(t,n,r){(0,rr.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,ir.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();vE.DEFAULT_COLLECTION_PERCENTILE=10,vE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vE.DEFAULT=new vE(41943040,vE.DEFAULT_COLLECTION_PERCENTILE,vE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vE.DISABLED=new vE(-1,0,0);var yE=function(){function e(t){(0,rr.Z)(this,e),this.bn=t}return(0,ir.Z)(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var mE=function(){function e(){(0,rr.Z)(this,e),this.changes=new aw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,ir.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ub.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$k.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var gE=(0,ir.Z)((function e(t,n){(0,rr.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),kE=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,ir.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&B_(r.mutation,e,ub.empty(),Dk.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,yw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yw(),i=fw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=cw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=fw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,yw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=uw(),a=dw(),o=dw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof K_)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),B_(o.mutation,t,o.mutation.getFieldMask(),Dk.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new gE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=dw(),i=new nb((function(e,t){return e-t})),a=yw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Jn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ub.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||yw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=hw();c.forEach((function(e){if(!a.has(e)){var n=z_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return $k.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return jk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):$k.resolve(fw()),u=-1,s=a;return o.next((function(t){return $k.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?$k.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,yw())})).next((function(e){return{batchId:u,changes:lw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new jk(t)).next((function(e){var t=cw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cw();return this.indexManager.getCollectionParents(e,i).next((function(o){return $k.forEach(o,(function(o){var u=function(e,t){return new a_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Ub.newInvalidDocument(n)))}));var n=cw();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&B_(a.mutation,i,ub.empty(),Dk.now()),g_(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):$k.resolve(Ub.newInvalidDocument(t))}}]),e}(),bE=function(){function e(t){(0,rr.Z)(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return(0,ir.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return $k.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Dw(n.createTime)}),$k.resolve()}},{key:"getNamedQuery",value:function(e,t){return $k.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:fE(e.bundledQuery),readTime:Dw(e.readTime)}}(t)),$k.resolve()}}]),e}(),_E=function(){function e(){(0,rr.Z)(this,e),this.overlays=new nb(jk.comparator),this.es=new Map}return(0,ir.Z)(e,[{key:"getOverlay",value:function(e,t){return $k.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=fw();return $k.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),$k.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),$k.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=fw(),i=t.length+1,a=new jk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return $k.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new nb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=fw(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=fw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return $k.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new sE(t,n));var a=this.es.get(t);void 0===a&&(a=yw(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),wE=function(){function e(){(0,rr.Z)(this,e),this.ns=new ab(EE.ss),this.rs=new ab(EE.os)}return(0,ir.Z)(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new EE(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new EE(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new jk(new Mk([])),r=new EE(n,e),i=new EE(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new jk(new Mk([])),n=new EE(t,e),r=new EE(t,e+1),i=yw();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new EE(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),EE=function(){function e(t,n){(0,rr.Z)(this,e),this.key=t,this._s=n}return(0,ir.Z)(e,null,[{key:"ss",value:function(e,t){return jk.comparator(e.key,t.key)||Rk(e._s,t._s)}},{key:"os",value:function(e,t){return Rk(e._s,t._s)||jk.comparator(e.key,t.key)}}]),e}(),SE=function(){function e(t,n){(0,rr.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ab(EE.ss)}return(0,ir.Z)(e,[{key:"checkEmpty",value:function(e){return $k.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new oE(i,t,n,r);this.mutationQueue.push(a);var o,u=Jn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new EE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $k.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $k.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return $k.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $k.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return $k.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new EE(t,0),i=new EE(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),$k.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ab(Rk);return t.forEach((function(e){var t=new EE(e,0),i=new EE(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),$k.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jk.isDocumentKey(i)||(i=i.child(""));var a=new EE(new jk(i),0),o=new ab(Rk);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),$k.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mk(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return $k.forEach(t.mutations,(function(i){var a=new EE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new EE(t,0),r=this.gs.firstAfterOrEqual(n);return $k.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,$k.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),xE=function(){function e(t){(0,rr.Z)(this,e),this.Es=t,this.docs=new nb(jk.comparator),this.size=0}return(0,ir.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $k.resolve(n?n.document.mutableCopy():Ub.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=uw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ub.newInvalidDocument(e))})),$k.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=uw(),i=new jk(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Wk(qk(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return $k.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){yk()}},{key:"As",value:function(e,t){return $k.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new TE(this)}},{key:"getSize",value:function(e){return $k.resolve(this.size)}}]),e}(),TE=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this)).Yn=e,r}return(0,ir.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),$k.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(mE),CE=function(){function e(t){(0,rr.Z)(this,e),this.persistence=t,this.Rs=new aw((function(e){return zb(e)}),qb),this.lastRemoteSnapshotVersion=Lk.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wE,this.targetCount=0,this.vs=yE.Pn()}return(0,ir.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),$k.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $k.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $k.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),$k.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),$k.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new yE(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,$k.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),$k.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,$k.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$k.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $k.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return $k.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),$k.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$k.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),$k.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return $k.resolve(n)}},{key:"containsKey",value:function(e,t){return $k.resolve(this.Ps.containsKey(t))}}]),e}(),IE=function(){function e(t,n){var r=this;(0,rr.Z)(this,e),this.Vs={},this.overlays={},this.Ss=new Xk(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new CE(this),this.indexManager=new dE,this.remoteDocumentCache=new xE((function(e){return r.referenceDelegate.xs(e)})),this.It=new lE(n),this.Ns=new bE(this.It)}return(0,ir.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _E,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new SE(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;hk("MemoryPersistence","Starting transaction:",e);var i=new NE(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return $k.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),NE=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,ir.Z)(n)}(Gk),AE=function(){function e(t){(0,rr.Z)(this,e),this.persistence=t,this.Fs=new wE,this.$s=null}return(0,ir.Z)(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw yk()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),$k.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),$k.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),$k.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $k.forEach(this.Ls,(function(r){var i=jk.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Lk.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return $k.or([function(){return $k.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var OE=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return(0,ir.Z)(e,null,[{key:"Ci",value:function(t,n){var r,i=yw(),a=yw(),o=Jn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RE=function(){function e(){(0,rr.Z)(this,e),this.xi=!1}return(0,ir.Z)(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(s_(t))return $k.resolve(null);var r=d_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=p_(t,null,"F"),r=d_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=yw.apply(void 0,(0,W.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,p_(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return s_(t)||r.isEqual(Lk.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(fk()<=ni.DEBUG&&hk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),m_(t)),i.Bi(e,o,t,zk(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new ab(b_(e));return t.forEach((function(t,r){g_(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return fk()<=ni.DEBUG&&hk("QueryEngine","Using full collection scan to execute query:",m_(t)),this.Ni.getDocumentsMatchingQuery(e,t,Bk.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),PE=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new nb(Rk),this.qi=new aw((function(e){return zb(e)}),qb),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return(0,ir.Z)(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function DE(e,t,n,r){return new PE(e,t,n,r)}function LE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=nr(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=yw(),s=Jn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Jn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Jn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Jn(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function ME(e,t){var n=gk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$k.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=yw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function FE(e){var t=gk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function UE(e,t){var n=gk(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(sb.EMPTY_BYTE_STRING,Lk.min()).withLastLimboFreeSnapshotVersion(Lk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=uw(),s=yw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jE(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Lk.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return $k.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function jE(e,t,n){var r=yw(),i=yw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=uw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lk.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function VE(e,t){var n=gk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function zE(e,t){var n=gk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,$k.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new cE(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function qE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=nr(Mn().mark((function e(t,n,r){var i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gk(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Yk(e.t1)){e.next=12;break}throw e.t1;case 12:hk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),BE.apply(this,arguments)}function WE(e,t,n){var r=gk(e),i=Lk.min(),a=yw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gk(e),i=r.qi.get(n);return void 0!==i?$k.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,d_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Lk.min(),n?a:yw())})).next((function(e){return HE(r,k_(t),e),{documents:e,Hi:a}}))}))}function HE(e,t,n){var r=e.Ki.get(t)||Lk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var GE=function(){function e(){(0,rr.Z)(this,e),this.activeTargetIds=gw()}return(0,ir.Z)(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),KE=function(){function e(){(0,rr.Z)(this,e),this.Lr=new GE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,ir.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new GE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),QE=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$E=function(){function e(){var t=this;(0,rr.Z)(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return(0,ir.Z)(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){hk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Jn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){hk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Jn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),YE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},XE=function(){function e(t){(0,rr.Z)(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return(0,ir.Z)(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),JE=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,ir.Z)(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ok;o.setWithCredentials(!0),o.listenOnce(tk.COMPLETE,(function(){var t;try{switch(o.getLastErrorCode()){case ek.NO_ERROR:var n=o.getResponseJson();hk("Connection","XHR received:",JSON.stringify(n)),i(n);break;case ek.TIMEOUT:hk("Connection",'RPC "'+e+'" timed out'),a(new bk(kk.DEADLINE_EXCEEDED,"Request time out"));break;case ek.HTTP_ERROR:var r=o.getStatus();if(hk("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),r>0){var u=o.getResponseJson();Array.isArray(u)&&(u=u[0]);var s=null===(t=u)||void 0===t?void 0:t.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(kk).indexOf(t)>=0?t:kk.UNKNOWN}(s.status);a(new bk(c,s.message))}else a(new bk(kk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new bk(kk.UNAVAILABLE,"Connection failed."));break;default:yk()}}finally{hk("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xg(),a=Jg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ik({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");hk("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new XE({Hr:function(e){l?hk("Connection","Not sending because WebChannel is closed:",e):(c||(hk("Connection","Opening WebChannel transport."),s.open(),c=!0),hk("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ak.EventType.OPEN,(function(){l||hk("Connection","WebChannel transport opened.")})),h(s,ak.EventType.CLOSE,(function(){l||(l=!0,hk("Connection","WebChannel transport closed"),f.io())})),h(s,ak.EventType.ERROR,(function(e){l||(l=!0,pk("Connection","WebChannel transport errored:",e),f.io(new bk(kk.UNAVAILABLE,"The operation could not be completed")))})),h(s,ak.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];mk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=X_[e];if(void 0!==t)return iw(t)}(a),u=i.message;void 0===o&&(o=kk.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new bk(o,u)),s.close()}else hk("Connection","WebChannel received:",n),f.ro(n)}})),h(a,nk.STAT_EVENT,(function(e){e.stat===rk.PROXY?hk("Connection","Detected buffering proxy"):e.stat===rk.NOPROXY&&hk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){(0,rr.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,ir.Z)(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);hk("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return hk("RestConnection","Received: ",e),e}),(function(t){throw pk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ck,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=YE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function eS(){return"undefined"!=typeof document?document:null}function tS(e){return new Aw(e,!0)}var nS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,rr.Z)(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return(0,ir.Z)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&hk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),rS=function(){function e(t,n,r,i,a,o,u,s){(0,rr.Z)(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new nS(t,n)}return(0,ir.Z)(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===kk.RESOURCE_EXHAUSTED?(dk(n.toString()),dk("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===kk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,er.Z)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new bk(kk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(nr(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return hk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(hk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),iS=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a,o,u){var s;return(0,rr.Z)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return(0,ir.Z)(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(mk(void 0===t||"string"==typeof t),sb.fromBase64String(t||"")):(mk(void 0===t||t instanceof Uint8Array),sb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?kk.UNKNOWN:iw(e.code);return new bk(t,e.message||"")}(o);n=new Ew(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Fw(e,s.document.name),l=Dw(s.document.updateTime),f=new Mb({mapValue:{fields:s.document.fields}}),h=Ub.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new _w(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Fw(e,v.document),m=v.readTime?Dw(v.readTime):Lk.min(),g=Ub.newNoDocument(y,m),k=v.removedTargetIds||[];n=new _w([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=Fw(e,b.document),w=b.removedTargetIds||[];n=new _w([],w,_,null)}else{if(!("filter"in t))return yk();t.filter;var E=t.filter;E.targetId;var S=E.count||0,x=new nw(S),T=E.targetId;n=new ww(T,x)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Lk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lk.min():t.readTime?Dw(t.readTime):Lk.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Vw(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Bb(r)?{documents:Ww(e,r)}:{query:Hw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Rw(e,t.resumeToken):t.snapshotVersion.compareTo(Lk.min())>0&&(n.readTime=Ow(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Vw(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(rS),aS=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a,o,u){var s;return(0,rr.Z)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return(0,ir.Z)(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Kn((0,Hn.Z)(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(mk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(mk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Dw(e.updateTime):Dw(t);return n.isEqual(Lk.min())&&(n=Dw(t)),new F_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Dw(e.commitTime);return this.listener.Zo(n,t)}return mk(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Vw(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Bw(t.It,e)}))};this.Bo(n)}}]),n}(rS),oS=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a){var o;return(0,rr.Z)(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return(0,ir.Z)(n,[{key:"su",value:function(){if(this.nu)throw new bk(kk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,er.Z)(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bk(kk.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,er.Z)(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kk.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new bk(kk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return(0,ir.Z)((function e(){(0,rr.Z)(this,e)}))}());function uS(){return uS=nr(Mn().mark((function e(t,n){var r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gk(t),i=function(e,t){var n=Hw(e,t);return{structuredAggregationQuery:{aggregations:[{count:{},alias:"count_alias"}],structuredQuery:n.structuredQuery},parent:n.parent}}(r.It,d_(n)),a=i.parent,r.connection.co||delete i.parent,e.next=4,r._o("RunAggregationQuery",a,i,1);case 4:return e.abrupt("return",e.sent.filter((function(e){return!!e.result})).map((function(e){return e.result.aggregateFields})));case 5:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}var sS=function(){function e(t,n){(0,rr.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return(0,ir.Z)(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(dk(t),this.ou=!1):hk("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),cS=(0,ir.Z)((function e(t,n,r,i,a){var o=this;(0,rr.Z)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=bS(o),!e.t0){e.next=5;break}return hk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gk(t))._u.add(4),e.next=4,hS(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,lS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new sS(r,i)}));function lS(e){return fS.apply(this,arguments)}function fS(){return fS=nr(Mn().mark((function e(t){var n,r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bS(t)){e.next=18;break}n=Jn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),fS.apply(this,arguments)}function hS(e){return dS.apply(this,arguments)}function dS(){return dS=nr(Mn().mark((function e(t){var n,r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),dS.apply(this,arguments)}function pS(e,t){var n=gk(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),kS(n)?gS(n):QS(n).ko()&&yS(n,t))}function vS(e,t){var n=gk(e),r=QS(n);n.du.delete(t),r.ko()&&mS(n,t),0===n.du.size&&(r.ko()?r.Fo():bS(n)&&n.gu.set("Unknown"))}function yS(e,t){e.yu.Mt(t.targetId),QS(e).zo(t)}function mS(e,t){e.yu.Mt(t),QS(e).Ho(t)}function gS(e){e.yu=new xw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),QS(e).start(),e.gu.uu()}function kS(e){return bS(e)&&!QS(e).No()&&e.du.size>0}function bS(e){return 0===gk(e)._u.size}function _S(e){e.yu=void 0}function wS(e){return ES.apply(this,arguments)}function ES(){return ES=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){yS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function SS(e,t){return xS.apply(this,arguments)}function xS(){return xS=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_S(t),kS(t)?(t.gu.hu(n),gS(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function TS(e,t,n){return CS.apply(this,arguments)}function CS(){return CS=nr(Mn().mark((function e(t,n,r){var i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Ew&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=nr(Mn().mark((function e(t,n){var r,i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Jn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,IS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _w?t.yu.Gt(n):n instanceof ww?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Lk.min())){e.next=29;break}return e.prev=14,e.next=17,FE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(sb.EMPTY_BYTE_STRING,n.snapshotVersion)),mS(e,t);var r=new cE(n.target,t,1,n.sequenceNumber);yS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,IS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),CS.apply(this,arguments)}function IS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=nr(Mn().mark((function e(t,n,r){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yk(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,hS(t);case 5:t.gu.set("Offline"),r||(r=function(){return FE(t.localStore)}),t.asyncQueue.enqueueRetryable(nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,lS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function AS(e,t){return t().catch((function(n){return IS(e,n,t)}))}function OS(e){return RS.apply(this,arguments)}function RS(){return RS=nr(Mn().mark((function e(t){var n,r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gk(t),r=$S(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!PS(n)){e.next=19;break}return e.prev=3,e.next=6,VE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,DS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,IS(n,e.t0);case 17:e.next=2;break;case 19:LS(n)&&ZS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),RS.apply(this,arguments)}function PS(e){return bS(e)&&e.fu.length<10}function DS(e,t){e.fu.push(t);var n=$S(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function LS(e){return bS(e)&&!$S(e).No()&&e.fu.length>0}function ZS(e){$S(e).start()}function MS(e){return FS.apply(this,arguments)}function FS(){return FS=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$S(t).eu();case 1:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(e){return jS.apply(this,arguments)}function jS(){return jS=nr(Mn().mark((function e(t){var n,r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$S(t),r=Jn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function VS(e,t,n){return zS.apply(this,arguments)}function zS(){return zS=nr(Mn().mark((function e(t,n,r){var i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=uE.from(i,n,r),e.next=3,AS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,OS(t);case 5:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function qS(e,t){return BS.apply(this,arguments)}function BS(){return BS=nr(Mn().mark((function e(t,n){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$S(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rw(i=n.code)||i===kk.ABORTED){e.next=7;break}return r=t.fu.shift(),$S(t).Mo(),e.next=5,AS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,OS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:LS(t)&&ZS(t);case 5:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function WS(e,t){return HS.apply(this,arguments)}function HS(){return HS=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gk(t)).asyncQueue.verifyOperationInProgress(),hk("RemoteStore","RemoteStore received new credentials"),i=bS(r),r._u.add(3),e.next=6,hS(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,lS(r);case 12:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function GS(e,t){return KS.apply(this,arguments)}function KS(){return KS=nr(Mn().mark((function e(t,n){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gk(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,lS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,hS(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function QS(e){return e.pu||(e.pu=function(e,t,n){var r=gk(e);return r.su(),new iS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:wS.bind(null,e),Zr:SS.bind(null,e),Wo:TS.bind(null,e)}),e.wu.push(function(){var t=nr(Mn().mark((function t(n){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),kS(e)?gS(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:_S(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function $S(e){return e.Iu||(e.Iu=function(e,t,n){var r=gk(e);return r.su(),new aS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:MS.bind(null,e),Zr:qS.bind(null,e),tu:US.bind(null,e),Zo:VS.bind(null,e)}),e.wu.push(function(){var t=nr(Mn().mark((function t(n){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,OS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(hk("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var YS=function(){function e(t,n,r,i,a){(0,rr.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _k,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,ir.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bk(kk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function XS(e,t){if(dk("AsyncQueue","".concat(t,": ").concat(e)),Yk(e))return new bk(kk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var JS=function(){function e(t){(0,rr.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||jk.comparator(e.key,n.key)}:function(e,t){return jk.comparator(e.key,t.key)},this.keyedMap=cw(),this.sortedSet=new nb(this.comparator)}return(0,ir.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ex=function(){function e(){(0,rr.Z)(this,e),this.Tu=new nb(jk.comparator)}return(0,ir.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):yk():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),tx=function(){function e(t,n,r,i,a,o,u,s,c){(0,rr.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return(0,ir.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&v_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,JS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),nx=(0,ir.Z)((function e(){(0,rr.Z)(this,e),this.Au=void 0,this.listeners=[]})),rx=(0,ir.Z)((function e(){(0,rr.Z)(this,e),this.queries=new aw((function(e){return y_(e)}),v_),this.onlineState="Unknown",this.Ru=new Set}));function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=nr(Mn().mark((function e(t,n){var r,i,a,o,u;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new nx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=XS(e.t0,"Initialization of query '".concat(m_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&lx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ax.apply(this,arguments)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=nr(Mn().mark((function e(t,n){var r,i,a,o,u;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t){var n,r=gk(e),i=!1,a=Jn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Jn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&lx(r)}function cx(e,t,n){var r=gk(e),i=r.queries.get(t);if(i){var a,o=Jn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function lx(e){e.Ru.forEach((function(e){e.next()}))}var fx=function(){function e(t,n,r){(0,rr.Z)(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return(0,ir.Z)(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Jn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new tx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=tx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var hx=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.key=t})),dx=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.key=t})),px=function(){function e(t,n){(0,rr.Z)(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=yw(),this.mutatedKeys=yw(),this.Gu=b_(t),this.Qu=new JS(this.Gu)}return(0,ir.Z)(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ex,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=g_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yk()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new tx(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ex,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=yw(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new dx(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new hx(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=yw();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return tx.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),vx=(0,ir.Z)((function e(t,n,r){(0,rr.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),yx=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this.key=t,this.nc=!1})),mx=function(){function e(t,n,r,i,a,o){(0,rr.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new aw((function(e){return y_(e)}),v_),this.rc=new Map,this.oc=new Set,this.uc=new nb(jk.comparator),this.cc=new Map,this.ac=new wE,this.hc={},this.lc=new Map,this.fc=yE.vn(),this.onlineState="Unknown",this.dc=void 0}return(0,ir.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=nr(Mn().mark((function e(t,n){var r,i,a,o,u,s;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gx(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,zE(r.localStore,d_(n));case 8:return u=e.sent,r.isPrimaryClient&&pS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,bx(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t,n,r,i){return _x.apply(this,arguments)}function _x(){return _x=nr(Mn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=nr(Mn().mark((function e(t,n,r,i){var a,o,u;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,WE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ux(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,WE(t.localStore,n,!0);case 3:return o=e.sent,u=new px(n,o.Hi),s=u.Wu(o.documents),c=bw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Ux(t,r,l.Xu),f=new vx(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function wx(e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=nr(Mn().mark((function e(t,n){var r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gk(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!v_(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,qE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),vS(r.remoteStore,i.targetId),Mx(r,i.targetId)})).catch(Kk);case 9:e.next=14;break;case 11:return Mx(r,i.targetId),e.next=14,qE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Sx(e,t,n){return xx.apply(this,arguments)}function xx(){return xx=nr(Mn().mark((function e(t,n,r){var i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gk(e),a=Dk.now(),o=t.reduce((function(e,t){return e.add(t.key)}),yw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=uw(),s=yw();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Jn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=W_(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new K_(c.key,l,Fb(l.value.mapValue),U_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:lw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new nb(Rk)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zx(i,a.changes);case 9:return e.next=11,OS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=XS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xx.apply(this,arguments)}function Tx(e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gk(t),e.prev=1,e.next=4,UE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(mk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?mk(n.nc):e.removedDocuments.size>0&&(mk(n.nc),n.nc=!1))})),e.next=8,zx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Kk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Cx.apply(this,arguments)}function Ix(e,t,n){var r=gk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Jn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&lx(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Nx(e,t,n){return Ax.apply(this,arguments)}function Ax(){return Ax=nr(Mn().mark((function e(t,n,r){var i,a,o,u,s,c;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new nb(jk.comparator)).insert(o,Ub.newNoDocument(o,Lk.min())),s=yw().add(o),c=new kw(Lk.min(),new Map,new ab(Rk),u,s),e.next=9,Tx(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Vx(i),e.next=16;break;case 14:return e.next=16,qE(i.localStore,n,!1).then((function(){return Mx(i,n,r)})).catch(Kk);case 16:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Ox(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=nr(Mn().mark((function e(t,n){var r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gk(t),i=n.batch.batchId,e.prev=1,e.next=4,ME(r.localStore,n);case 4:return a=e.sent,Zx(r,i,null),Lx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Kk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Rx.apply(this,arguments)}function Px(e,t,n){return Dx.apply(this,arguments)}function Dx(){return Dx=nr(Mn().mark((function e(t,n,r){var i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gk(t),e.prev=1,e.next=4,function(e,t){var n=gk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return mk(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Zx(i,n,r),Lx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Kk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dx.apply(this,arguments)}function Lx(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Zx(e,t,n){var r=gk(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Jn(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Fx(e,t)}))}function Fx(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(vS(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Vx(e))}function Ux(e,t,n){var r,i=Jn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof hx?(e.ac.addReference(a.key,t),jx(e,a)):a instanceof dx?(hk("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Fx(e,a.key)):yk()}}catch(o){i.e(o)}finally{i.f()}}function jx(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(hk("SyncEngine","New document in limbo: "+n),e.oc.add(r),Vx(e))}function Vx(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new jk(Mk.fromString(t)),r=e.fc.next();e.cc.set(r,new yx(n)),e.uc=e.uc.insert(n,r),pS(e.remoteStore,new cE(d_(u_(n.path)),r,2,Xk.at))}}function zx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=nr(Mn().mark((function e(t,n,r){var i,a,o,u;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gk(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=OE.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=nr(Mn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $k.forEach(n,(function(t){return $k.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $k.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Yk(e.t0)){e.next=10;break}throw e.t0;case 10:hk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Jn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Bx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gk(t)).currentUser.isEqual(n)){e.next=11;break}return hk("SyncEngine","User change. New user:",n.toKey()),e.next=5,LE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new bk(kk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zx(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Hx(e,t){var n=gk(e),r=n.cc.get(t);if(r&&r.nc)return yw().add(r.key);var i=yw(),a=n.rc.get(t);if(!a)return i;var o,u=Jn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Gx(e){var t=gk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nx.bind(null,t),t.sc.Wo=sx.bind(null,t.eventManager),t.sc.wc=cx.bind(null,t.eventManager),t}function Kx(e){var t=gk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ox.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Px.bind(null,t),t}var Qx=function(){function e(){(0,rr.Z)(this,e),this.synchronizeTabs=!1}return(0,ir.Z)(e,[{key:"initialize",value:function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=tS(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return DE(this.persistence,new RE,e.initialUser,this.It)}},{key:"yc",value:function(e){return new IE(AE.Bs,this.It)}},{key:"gc",value:function(e){return new KE}},{key:"terminate",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$x=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"initialize",value:function(){var e=nr(Mn().mark((function e(t,n){var r=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ix(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,this.syncEngine),e.next=12,GS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new rx}},{key:"createDatastore",value:function(e){var t,n=tS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new JE(t));return function(e,t,n,r){return new oS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ix(o.syncEngine,e,0)},a=$E.C()?new $E:new QE,new cS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new mx(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=nr(Mn().mark((function e(t){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gk(t),hk("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,hS(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Yx(e,t,n){if(!n)throw new bk(kk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xx(e){if(!jk.isDocumentKey(e))throw new bk(kk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jx(e){if(jk.isDocumentKey(e))throw new bk(kk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function eT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":yk()}function tT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bk(kk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eT(e);throw new bk(kk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function nT(e,t){if(t<=0)throw new bk(kk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var rT=new Map,iT=function(){function e(t){var n;if((0,rr.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new bk(kk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bk(kk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new bk(kk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,ir.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),aT=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1}return(0,ir.Z)(e,[{key:"app",get:function(){if(!this._app)throw new bk(kk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new bk(kk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ek;switch(e.type){case"gapi":var t=e.client;return new Ck(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bk(kk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rT.get(e);t&&(hk("ComponentProvider","Removing Datastore"),rT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function oT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=tT(e,aT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&pk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=sk.MOCK_USER;else{o=Nr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new bk(kk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sk(s)}e._authCredentials=new Sk(new wk(o,u))}}var uT=function(){function e(t,n,r){(0,rr.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,ir.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),sT=function(){function e(t,n,r){(0,rr.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,ir.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),cT=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this,e,r,u_(i)))._path=i,a.type="collection",a}return(0,ir.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uT(this.firestore,null,new jk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(sT);function lT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yr(e),Yx("collection","path",t),e instanceof aT){var a=Mk.fromString.apply(Mk,[t].concat(r));return Jx(a),new cT(e,null,a)}if(!(e instanceof uT||e instanceof cT))throw new bk(kk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mk.fromString.apply(Mk,[t].concat(r)));return Jx(o),new cT(e.firestore,null,o)}function fT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yr(e),1===arguments.length&&(t=Ok.R()),Yx("doc","path",t),e instanceof aT){var a=Mk.fromString.apply(Mk,[t].concat(r));return Xx(a),new uT(e,null,new jk(a))}if(!(e instanceof uT||e instanceof cT))throw new bk(kk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mk.fromString.apply(Mk,[t].concat(r)));return Xx(o),new uT(e.firestore,e instanceof cT?e.converter:null,new jk(o))}var hT=function(){function e(t){(0,rr.Z)(this,e),this.observer=t,this.muted=!1}return(0,ir.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):dk("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),dT=function(){function e(t,n){(0,rr.Z)(this,e),this._data=n,this.type="AggregateQuerySnapshot",this.query=t}return(0,ir.Z)(e,[{key:"data",value:function(){return this._data}}]),e}(),pT=function(){function e(t,n,r){(0,rr.Z)(this,e),this.query=t,this.datastore=n,this.userDataWriter=r}return(0,ir.Z)(e,[{key:"run",value:function(){var e=this;return function(e,t){return uS.apply(this,arguments)}(this.datastore,this.query._query).then((function(t){mk(void 0!==t[0]);var n=Object.entries(t[0]).filter((function(e){var t=(0,er.Z)(e,2),n=t[0];t[1];return"count_alias"===n})).map((function(t){var n=(0,er.Z)(t,2),r=(n[0],n[1]);return e.userDataWriter.convertValue(r)}))[0];return mk("number"==typeof n),Promise.resolve(new dT(e.query,{count:n}))}))}}]),e}(),vT=function(){function e(t,n,r,i){var a=this;(0,rr.Z)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sk.UNAUTHENTICATED,this.clientId=Ok.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,ir.Z)(e,[{key:"getConfiguration",value:function(){var e=nr(Mn().mark((function e(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new bk(kk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _k;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(nr(Mn().mark((function n(){var r;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=XS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yT(e,t){return mT.apply(this,arguments)}function mT(){return mT=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,LE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function gT(e,t){return kT.apply(this,arguments)}function kT(){return kT=nr(Mn().mark((function e(t,n){var r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bT(t);case 3:return r=e.sent,hk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return WS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return WS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e){return _T.apply(this,arguments)}function _T(){return _T=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yT(t,new Qx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function wT(e){return ET.apply(this,arguments)}function ET(){return ET=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,gT(t,new $x);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function ST(e){return wT(e).then((function(e){return e.remoteStore}))}function xT(e){return wT(e).then((function(e){return e.syncEngine}))}function TT(e){return wT(e).then((function(e){return e.datastore}))}function CT(e){return IT.apply(this,arguments)}function IT(){return IT=nr(Mn().mark((function e(t){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=gx.bind(null,n.syncEngine),r.onUnlisten=wx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function NT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _k;return e.asyncQueue.enqueueAndForget(nr(Mn().mark((function i(){return Mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hT({next:function(a){t.enqueueAndForget((function(){return ox(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new bk(kk.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new bk(kk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new fx(u_(n.path),a,{includeMetadataChanges:!0,Nu:!0});return ix(e,o)},i.next=3,CT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _k;return e.asyncQueue.enqueueAndForget(nr(Mn().mark((function i(){return Mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new hT({next:function(n){t.enqueueAndForget((function(){return ox(e,o)})),n.fromCache&&"server"===r.source?i.reject(new bk(kk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new fx(n,a,{includeMetadataChanges:!0,Nu:!0});return ix(e,o)},i.next=3,CT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var OT=function(){function e(){var t=this;(0,rr.Z)(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new nS(this,"async_queue_retry"),this.Wc=function(){var e=eS();e&&hk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=eS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return(0,ir.Z)(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=eS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new _k;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=nr(Mn().mark((function e(){var t=this;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Yk(e.t0)){e.next=12;break}throw e.t0;case 12:hk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=YS.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&yk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=nr(Mn().mark((function e(){var t;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Jn(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Jn(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function RT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Jn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var PT=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a){var o;return(0,rr.Z)(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new OT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,ir.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||LT(this),this._firestoreClient.terminate()}}]),n}(aT);function DT(e){return e._firestoreClient||LT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function LT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new yb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vT(e._authCredentials,e._appCheckCredentials,e._queue,r)}var ZT=function(){function e(t){(0,rr.Z)(this,e),this._byteString=t}return(0,ir.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sb.fromBase64String(t))}catch(t){throw new bk(kk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sb.fromUint8Array(t))}}]),e}(),MT=function(){function e(){(0,rr.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new bk(kk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uk(n)}return(0,ir.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FT=(0,ir.Z)((function e(t){(0,rr.Z)(this,e),this._methodName=t})),UT=function(){function e(t,n){if((0,rr.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new bk(kk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bk(kk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,ir.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Rk(this._lat,e._lat)||Rk(this._long,e._long)}}]),e}(),jT=/^__.*__$/,VT=function(){function e(t,n,r){(0,rr.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,ir.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new K_(e,this.data,this.fieldMask,t,this.fieldTransforms):new G_(e,this.data,t,this.fieldTransforms)}}]),e}(),zT=function(){function e(t,n,r){(0,rr.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,ir.Z)(e,[{key:"toMutation",value:function(e,t){return new K_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function qT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yk()}}var BT=function(){function e(t,n,r,i,a,o){(0,rr.Z)(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,ir.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return sC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(qT(this.sa)&&jT.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),WT=function(){function e(t,n,r){(0,rr.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||tS(t)}return(0,ir.Z)(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new BT({sa:e,methodName:t,fa:n,path:Uk.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function HT(e){var t=e._freezeSettings(),n=tS(e._databaseId);return new WT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);iC("Data must be an object, but it was:",o,r);var u,s,c=nC(r,o);if(a.merge)u=new ub(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Jn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=aC(t,d,n);if(!o.contains(p))throw new bk(kk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));cC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ub(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new VT(new Mb(c),u,s)}var KT=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FT);function QT(e,t,n){return new BT({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var $T=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"_toFieldTransform",value:function(e){return new M_(e.path,new N_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FT),YT=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this,e))._a=r,i}return(0,ir.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=QT(this,e,!0),n=this._a.map((function(e){return tC(e,t)})),r=new A_(n);return new M_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FT);function XT(e,t,n,r){var i=e.da(1,t,n);iC("Data must be an object, but it was:",i,r);var a=[],o=Mb.empty();eb(r,(function(e,r){var u=uC(t,e,n);r=Yr(r);var s=i.ca(u);if(r instanceof KT)a.push(u);else{var c=tC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ub(a);return new zT(o,u,i.fieldTransforms)}function JT(e,t,n,r,i,a){var o=e.da(1,t,n),u=[aC(t,r,n)],s=[i];if(a.length%2!=0)throw new bk(kk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(aC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Mb.empty(),h=u.length-1;h>=0;--h)if(!cC(l,u[h])){var d=u[h],p=s[h];p=Yr(p);var v=o.ca(d);if(p instanceof KT)l.push(d);else{var y=tC(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new ub(l);return new zT(f,m,o.fieldTransforms)}function eC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tC(n,e.da(r?4:3,t))}function tC(e,t){if(rC(e=Yr(e)))return iC("Unsupported field value:",t,e),nC(e,t);if(e instanceof FT)return function(e,t){if(!qT(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Jn(e);try{for(a.s();!(n=a.n()).done;){var o=tC(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Yr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return S_(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Dk.fromDate(e);return{timestampValue:Ow(t.It,n)}}if(e instanceof Dk){var r=new Dk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ow(t.It,r)}}if(e instanceof UT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZT)return{bytesValue:Rw(t.It,e._byteString)};if(e instanceof uT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(eT(e)))}(e,t)}function nC(e,t){var n={};return tb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eb(e,(function(e,r){var i=tC(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dk||e instanceof UT||e instanceof ZT||e instanceof uT||e instanceof FT)}function iC(e,t,n){if(!rC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=eT(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function aC(e,t,n){if((t=Yr(t))instanceof MT)return t._internalPath;if("string"==typeof t)return uC(e,t);throw sC("Field path arguments must be of type string or ",e,!1,void 0,n)}var oC=new RegExp("[~\\*/\\[\\]]");function uC(e,t,n){if(t.search(oC)>=0)throw sC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,rv.Z)(MT,(0,W.Z)(t.split(".")))._internalPath}catch(r){throw sC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new bk(kk.INVALID_ARGUMENT,u+e+s)}function cC(e,t){return e.some((function(e){return e.isEqual(t)}))}var lC=function(){function e(t,n,r,i,a){(0,rr.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,ir.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"data",value:function(){return Kn((0,Hn.Z)(n.prototype),"data",this).call(this)}}]),n}(lC);function hC(e,t){return"string"==typeof t?uC(e,t):t instanceof MT?t._internalPath:t._delegate._internalPath}function dC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bk(kk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pC=(0,ir.Z)((function e(){(0,rr.Z)(this,e)}));function vC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var yC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return(0,ir.Z)(n,[{key:"_apply",value:function(e){var t=HT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new bk(kk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){TC(o,a);var s,c=[],l=Jn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(xC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=xC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||TC(o,a),u=eC(n,"where",o,"in"===a||"not-in"===a);var h=Wb.create(i,a,u);return function(e,t){if(t.dt()){var n=l_(e);if(null!==n&&!n.isEqual(t.field))throw new bk(kk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=c_(e);null!==r&&CC(e,t.field,r)}var i=function(e,t){var n,r=Jn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new bk(kk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new bk(kk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new sT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new a_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(pC);function mC(e,t,n){var r=t,i=hC("where",e);return new yC(i,r,n)}var gC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r){var i;return(0,rr.Z)(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return(0,ir.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new bk(kk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bk(kk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new t_(t,n);return function(e,t){if(null===c_(e)){var n=l_(e);null!==n&&CC(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new sT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new a_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(pC);function kC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=hC("orderBy",e);return new gC(r,n)}var bC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return(0,ir.Z)(n,[{key:"_apply",value:function(e){return new sT(e.firestore,e.converter,p_(e._query,this.Ia,this.Ta))}}]),n}(pC);function _C(e){return nT("limit",e),new bC("limit",e,"F")}var wC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i){var a;return(0,rr.Z)(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return(0,ir.Z)(n,[{key:"_apply",value:function(e){var t=SC(e,this.type,this.Ea,this.Aa);return new sT(e.firestore,e.converter,function(e,t){return new a_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(pC);function EC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wC("startAfter",t,!1)}function SC(e,t,n,r){if(n[0]=Yr(n[0]),n[0]instanceof lC)return function(e,t,n,r,i){if(!r)throw new bk(kk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Jn(h_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Nb(t,r.key));else{var c=r.data.field(s.field);if(db(c))throw new bk(kk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new bk(kk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new e_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=HT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new bk(kk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new bk(kk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!f_(e)&&-1!==c.indexOf("/"))throw new bk(kk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mk.fromString(c));if(!jk.isDocumentKey(l))throw new bk(kk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new jk(l);u.push(Nb(t,f))}else{var h=eC(n,r,c);u.push(h)}}return new e_(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function xC(e,t,n){if("string"==typeof(n=Yr(n))){if(""===n)throw new bk(kk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f_(t)&&-1!==n.indexOf("/"))throw new bk(kk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mk.fromString(n));if(!jk.isDocumentKey(r))throw new bk(kk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Nb(e,new jk(r))}if(n instanceof uT)return Nb(e,n._key);throw new bk(kk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(eT(n),"."))}function TC(e,t){if(!Array.isArray(e)||0===e.length)throw new bk(kk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new bk(kk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function CC(e,t,n){if(!n.isEqual(t))throw new bk(kk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var IC=function(){function e(){(0,rr.Z)(this,e)}return(0,ir.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return eb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new UT(fb(e.latitude),fb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=pb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lb(e);return new Dk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mk.fromString(e);mk(nE(n));var r=new mb(n.get(1),n.get(3)),i=new jk(n.popFirst(5));return r.isEqual(t)||dk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function NC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AC=function(){function e(t,n){(0,rr.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,ir.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e,r,i,a,o,u){var s;return(0,rr.Z)(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,ir.Z)(n,[{key:"exists",value:function(){return Kn((0,Hn.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new RC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lC),RC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(){return(0,rr.Z)(this,n),t.apply(this,arguments)}return(0,ir.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kn((0,Hn.Z)(n.prototype),"data",this).call(this,e)}}]),n}(OC),PC=function(){function e(t,n,r,i){(0,rr.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AC(i.hasPendingWrites,i.fromCache),this.query=r}return(0,ir.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new RC(n._firestore,n._userDataWriter,r.key,r,new AC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bk(kk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new RC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new RC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:DC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function DC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yk()}}function LC(e){e=tT(e,uT);var t=tT(e.firestore,PT);return NT(DT(t),e._key).then((function(n){return qC(t,e,n)}))}var ZC=function(e){(0,$n.Z)(n,e);var t=(0,Yn.Z)(n);function n(e){var r;return(0,rr.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,ir.Z)(n,[{key:"convertBytes",value:function(e){return new ZT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uT(this.firestore,null,t)}}]),n}(IC);function MC(e){e=tT(e,sT);var t=tT(e.firestore,PT),n=DT(t),r=new ZC(t);return dC(e._query),AT(n,e._query).then((function(n){return new PC(t,r,e,n)}))}function FC(e,t,n){e=tT(e,uT);var r=tT(e.firestore,PT),i=NC(e.converter,t,n);return zC(r,[GT(HT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,U_.none())])}function UC(e,t,n){e=tT(e,uT);for(var r=tT(e.firestore,PT),i=HT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return zC(r,[("string"==typeof(t=Yr(t))||t instanceof MT?JT(i,"updateDoc",e._key,t,n,o):XT(i,"updateDoc",e._key,t)).toMutation(e._key,U_.exists(!0))])}function jC(e,t){var n=tT(e.firestore,PT),r=fT(e),i=NC(e.converter,t);return zC(n,[GT(HT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,U_.exists(!1))]).then((function(){return r}))}function VC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Yr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||RT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(RT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof uT)l=tT(e.firestore,PT),f=u_(e._key.path),c={next:function(t){n[s]&&n[s](qC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=tT(e,sT);l=tT(p.firestore,PT),f=p._query;var v=new ZC(l);c={next:function(e){n[s]&&n[s](new PC(l,v,p,e))},error:n[s+1],complete:n[s+2]},dC(e._query)}return function(e,t,n,r){var i=new hT(r),a=new fx(t,i,n);return e.asyncQueue.enqueueAndForget(nr(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ix,t.next=3,CT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(nr(Mn().mark((function t(){return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ox,t.next=3,CT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DT(l),f,h,c)}function zC(e,t){return function(e,t){var n=new _k;return e.asyncQueue.enqueueAndForget(nr(Mn().mark((function r(){return Mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Sx,r.next=3,xT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(DT(e),t)}function qC(e,t,n){var r=n.docs.get(t._key),i=new ZC(e);return new OC(e,i,t._key,r,new AC(n.hasPendingWrites,n.fromCache),t.converter)}function BC(e){var t=tT(e.firestore,PT);return function(e,t,n){var r=new _k;return e.asyncQueue.enqueueAndForget(nr(Mn().mark((function i(){var a,o;return Mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.t0=bS,i.next=4,ST(e);case 4:if(i.t1=i.sent,!(0,i.t0)(i.t1)){i.next=13;break}return i.next=8,TT(e);case 8:a=i.sent,o=new pT(t,a,n).run(),r.resolve(o),i.next=14;break;case 13:r.reject(new bk(kk.UNAVAILABLE,"Failed to get count result because the client is offline."));case 14:i.next=19;break;case 16:i.prev=16,i.t2=i.catch(0),r.reject(i.t2);case 19:case"end":return i.stop()}}),i,null,[[0,16]])})))),r.promise}(DT(t),e,new ZC(t))}function WC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YT("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ck="9.14.0",Mi(new Xr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new PT(new xk(e.getProvider("auth-internal")),new Nk(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bk(kk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Wi(uk,"3.7.3",e),Wi(uk,"3.7.3","esm2017")}();var HC=qi({apiKey:"AIzaSyBWLJ1l27SAbkfzVw2heEcSEY1eKdZUvLM",authDomain:"chat-990af.firebaseapp.com",databaseURL:"https://chat-990af-default-rtdb.firebaseio.com",projectId:"chat-990af",storageBucket:"chat-990af.appspot.com",messagingSenderId:"96310721043",appId:"1:96310721043:web:a286e5063f6c2c61641de6"}),GC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi(),t=Fi(e,"auth");if(t.isInitialized())return t.getImmediate();var n=wa(e,{popupRedirectResolver:fc,persistence:[cs,Fu,ju]}),r=Cr("authTokenSyncURL");if(r){var i=bc(r);Ru(n,i,(function(){return i(n.currentUser)})),Ou(n,(function(e){return i(e)}))}var a=Sr("auth");return a&&Po(n,"http://".concat(a)),n}(),KC=(ev(HC),function(e,t){var n="string"==typeof e?e:t||"(default)",r=Fi("object"==typeof e?e:Bi(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=xr("firestore");i&&oT.apply(void 0,[r].concat((0,W.Z)(i)))}return r}(HC)),QC=Mn().mark(YC),$C=Mn().mark(XC);function YC(){var e,t,n;return Mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=ev(),r.next=4,ut((function(e){return e.profile}));case 4:return t=r.sent,r.next=7,Nu(GC.currentUser,{displayName:t.name});case 7:return r.next=9,Wp(qp(e,"profile/"+GC.currentUser.uid),{status:t.infoUser.status,about:t.infoUser.about});case 9:return r.next=11,UC(fT(KC,"users",GC.currentUser.uid),{displayName:t.name});case 11:return r.next=13,tt((0,k.hf)());case 13:r.next=21;break;case 15:return r.prev=15,r.t0=r.catch(0),n="Error save data, please contact to administration (@toron2c)! Message:".concat(r.t0.message),console.error(n),r.next=21,tt((0,k.uy)(n));case 21:case"end":return r.stop()}}),QC,null,[[0,15]])}function XC(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.Hf,YC);case 2:case"end":return e.stop()}}),$C)}function JC(e,t){return function(){return e.apply(t,arguments)}}var eI,tI=Object.prototype.toString,nI=Object.getPrototypeOf,rI=(eI=Object.create(null),function(e){var t=tI.call(e);return eI[t]||(eI[t]=t.slice(8,-1).toLowerCase())}),iI=function(e){return e=e.toLowerCase(),function(t){return rI(t)===e}},aI=function(e){return function(t){return typeof t===e}},oI=Array.isArray,uI=aI("undefined");var sI=iI("ArrayBuffer");var cI=aI("string"),lI=aI("function"),fI=aI("number"),hI=function(e){return null!==e&&"object"===typeof e},dI=function(e){if("object"!==rI(e))return!1;var t=nI(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pI=iI("Date"),vI=iI("File"),yI=iI("Blob"),mI=iI("FileList"),gI=iI("URLSearchParams");function kI(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),oI(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var u,s=o?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)u=s[n],t.call(null,e[u],u,e)}}function bI(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var _I="undefined"===typeof self?"undefined"===typeof global?void 0:global:self,wI=function(e){return!uI(e)&&e!==_I};var EI,SI=(EI="undefined"!==typeof Uint8Array&&nI(Uint8Array),function(e){return EI&&e instanceof EI}),xI=iI("HTMLFormElement"),TI=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),CI=iI("RegExp"),II=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};kI(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},NI={isArray:oI,isArrayBuffer:sI,isBuffer:function(e){return null!==e&&!uI(e)&&null!==e.constructor&&!uI(e.constructor)&&lI(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||tI.call(e)===t||lI(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&sI(e.buffer)},isString:cI,isNumber:fI,isBoolean:function(e){return!0===e||!1===e},isObject:hI,isPlainObject:dI,isUndefined:uI,isDate:pI,isFile:vI,isBlob:yI,isRegExp:CI,isFunction:lI,isStream:function(e){return hI(e)&&lI(e.pipe)},isURLSearchParams:gI,isTypedArray:SI,isFileList:mI,forEach:kI,merge:function e(){for(var t=wI(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&bI(r,i)||i;dI(r[a])&&dI(t)?r[a]=e(r[a],t):dI(t)?r[a]=e({},t):oI(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&kI(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return kI(t,(function(t,r){n&&lI(t)?e[r]=JC(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&nI(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:rI,kindOfTest:iI,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(oI(e))return e;var t=e.length;if(!fI(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:xI,hasOwnProperty:TI,hasOwnProp:TI,reduceDescriptors:II,freezeMethods:function(e){II(e,(function(t,n){if(lI(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];lI(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return oI(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:bI,global:_I,isContextDefined:wI,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(hI(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=oI(n)?[]:{};return kI(n,(function(t,n){var a=e(t,r+1);!uI(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function AI(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}NI.inherits(AI,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:NI.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var OI=AI.prototype,RI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){RI[e]={value:e}})),Object.defineProperties(AI,RI),Object.defineProperty(OI,"isAxiosError",{value:!0}),AI.from=function(e,t,n,r,i,a){var o=Object.create(OI);return NI.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),AI.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var PI=AI,DI=n(7472);function LI(e){return NI.isPlainObject(e)||NI.isArray(e)}function ZI(e){return NI.endsWith(e,"[]")?e.slice(0,-2):e}function MI(e,t,n){return e?e.concat(t).map((function(e,t){return e=ZI(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var FI=NI.toFlatObject(NI,{},null,(function(e){return/^is[A-Z]/.test(e)}));var UI=function(e,t,n){if(!NI.isObject(e))throw new TypeError("target must be an object");t=t||new(DI||FormData);var r,i=(n=NI.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!NI.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,u=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&NI.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!NI.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(NI.isDate(e))return e.toISOString();if(!s&&NI.isBlob(e))throw new PI("Blob is not supported. Use a Buffer instead.");return NI.isArrayBuffer(e)||NI.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(NI.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(NI.isArray(e)&&function(e){return NI.isArray(e)&&!e.some(LI)}(e)||NI.isFileList(e)||NI.endsWith(n,"[]")&&(a=NI.toArray(e)))return n=ZI(n),a.forEach((function(e,r){!NI.isUndefined(e)&&null!==e&&t.append(!0===u?MI([n],r,o):null===u?n:n+"[]",c(e))})),!1;return!!LI(e)||(t.append(MI(r,n,o),c(e)),!1)}var f=[],h=Object.assign(FI,{defaultVisitor:l,convertValue:c,isVisitable:LI});if(!NI.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!NI.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),NI.forEach(n,(function(n,i){!0===(!(NI.isUndefined(n)||null===n)&&a.call(t,n,NI.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function jI(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function VI(e,t){this._pairs=[],e&&UI(e,this,t)}var zI=VI.prototype;zI.append=function(e,t){this._pairs.push([e,t])},zI.toString=function(e){var t=e?function(t){return e.call(this,t,jI)}:jI;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var qI=VI;function BI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WI(e,t,n){if(!t)return e;var r,i=n&&n.encode||BI,a=n&&n.serialize;if(r=a?a(t,n):NI.isURLSearchParams(t)?t.toString():new qI(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var HI=function(){function e(){(0,rr.Z)(this,e),this.handlers=[]}return(0,ir.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){NI.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),GI=HI,KI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QI="undefined"!==typeof URLSearchParams?URLSearchParams:qI,$I=FormData,YI=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),XI={isBrowser:!0,classes:{URLSearchParams:QI,FormData:$I,Blob:Blob},isStandardBrowserEnv:YI,protocols:["http","https","file","blob","url","data"]};var JI=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&NI.isArray(r)?r.length:a,u?(NI.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&NI.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&NI.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(NI.isFormData(e)&&NI.isFunction(e.entries)){var n={};return NI.forEachEntry(e,(function(e,r){t(function(e){return NI.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},eN={"Content-Type":void 0};var tN={transitional:KI,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=NI.isObject(e);if(a&&NI.isHTMLForm(e)&&(e=new FormData(e)),NI.isFormData(e))return i&&i?JSON.stringify(JI(e)):e;if(NI.isArrayBuffer(e)||NI.isBuffer(e)||NI.isStream(e)||NI.isFile(e)||NI.isBlob(e))return e;if(NI.isArrayBufferView(e))return e.buffer;if(NI.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return UI(e,new XI.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return XI.isNode&&NI.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=NI.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return UI(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(NI.isString(e))try{return(t||JSON.parse)(e),NI.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||tN.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&NI.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw PI.from(a,PI.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:XI.classes.FormData,Blob:XI.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};NI.forEach(["delete","get","head"],(function(e){tN.headers[e]={}})),NI.forEach(["post","put","patch"],(function(e){tN.headers[e]=NI.merge(eN)}));var nN=tN,rN=NI.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iN=Symbol("internals");function aN(e){return e&&String(e).trim().toLowerCase()}function oN(e){return!1===e||null==e?e:NI.isArray(e)?e.map(oN):String(e)}function uN(e,t,n,r){return NI.isFunction(r)?r.call(this,t,n):NI.isString(t)?NI.isString(r)?-1!==t.indexOf(r):NI.isRegExp(r)?r.test(t):void 0:void 0}var sN=function(e,t){function n(e){(0,rr.Z)(this,n),e&&this.set(e)}return(0,ir.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=aN(t);if(!i)throw new Error("header name must be a non-empty string");var a=NI.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=oN(e))}var a=function(e,t){return NI.forEach(e,(function(e,n){return i(e,n,t)}))};return NI.isPlainObject(e)||e instanceof this.constructor?a(e,t):NI.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&rN[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=aN(e)){var n=NI.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(NI.isFunction(t))return t.call(this,r,n);if(NI.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=aN(e)){var n=NI.findKey(this,e);return!(!n||t&&!uN(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=aN(e)){var i=NI.findKey(n,e);!i||t&&!uN(0,n[i],i,t)||(delete n[i],r=!0)}}return NI.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return NI.forEach(this,(function(r,i){var a=NI.findKey(n,i);if(a)return t[a]=oN(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=oN(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return NI.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&NI.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,er.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[iN]=this[iN]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=aN(e);t[r]||(!function(e,t){var n=NI.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return NI.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);sN.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),NI.freezeMethods(sN.prototype),NI.freezeMethods(sN);var cN=sN;function lN(e,t){var n=this||nN,r=t||n,i=cN.from(r.headers),a=r.data;return NI.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function fN(e){return!(!e||!e.__CANCEL__)}function hN(e,t,n){PI.call(this,null==e?"canceled":e,PI.ERR_CANCELED,t,n),this.name="CanceledError"}NI.inherits(hN,PI,{__CANCEL__:!0});var dN=hN;var pN=XI.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),NI.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),NI.isString(r)&&o.push("path="+r),NI.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function vN(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var yN=XI.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=NI.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var mN=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function gN(e,t){var n=0,r=mN(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var kN="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=cN.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}NI.isFormData(i)&&XI.isStandardBrowserEnv&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=vN(e.baseURL,e.url);function h(){if(s){var r=cN.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new PI("Request failed with status code "+n.status,[PI.ERR_BAD_REQUEST,PI.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),WI(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new PI("Request aborted",PI.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new PI("Network Error",PI.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||KI;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new PI(t,r.clarifyTimeoutError?PI.ETIMEDOUT:PI.ECONNABORTED,e,s)),s=null},XI.isStandardBrowserEnv){var d=(e.withCredentials||yN(f))&&e.xsrfCookieName&&pN.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&NI.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),NI.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",gN(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",gN(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new dN(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===XI.protocols.indexOf(p)?n(new PI("Unsupported protocol "+p+":",PI.ERR_BAD_REQUEST,e)):s.send(i||null)}))},bN={http:null,xhr:kN};NI.forEach(bN,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var _N=function(e){for(var t,n,r=(e=NI.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=NI.isString(t)?bN[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new PI("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(NI.hasOwnProp(bN,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!NI.isFunction(n))throw new TypeError("adapter is not a function");return n};function wN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dN}function EN(e){return wN(e),e.headers=cN.from(e.headers),e.data=lN.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_N(e.adapter||nN.adapter)(e).then((function(t){return wN(e),t.data=lN.call(e,e.transformResponse,t),t.headers=cN.from(t.headers),t}),(function(t){return fN(t)||(wN(e),t&&t.response&&(t.response.data=lN.call(e,e.transformResponse,t.response),t.response.headers=cN.from(t.response.headers))),Promise.reject(t)}))}var SN=function(e){return e instanceof cN?e.toJSON():e};function xN(e,t){t=t||{};var n={};function r(e,t,n){return NI.isPlainObject(e)&&NI.isPlainObject(t)?NI.merge.call({caseless:n},e,t):NI.isPlainObject(t)?NI.merge({},t):NI.isArray(t)?t.slice():t}function i(e,t,n){return NI.isUndefined(t)?NI.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!NI.isUndefined(t))return r(void 0,t)}function o(e,t){return NI.isUndefined(t)?NI.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(SN(e),SN(t),!0)}};return NI.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);NI.isUndefined(o)&&a!==u||(n[r]=o)})),n}var TN="1.2.0",CN={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){CN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var IN={};CN.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new PI(r(i," has been removed"+(t?" in "+t:"")),PI.ERR_DEPRECATED);return t&&!IN[i]&&(IN[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var NN={assertOptions:function(e,t,n){if("object"!==typeof e)throw new PI("options must be an object",PI.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new PI("option "+a+" must be "+s,PI.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new PI("Unknown option "+a,PI.ERR_BAD_OPTION)}},validators:CN},AN=NN.validators,ON=function(){function e(t){(0,rr.Z)(this,e),this.defaults=t,this.interceptors={request:new GI,response:new GI}}return(0,ir.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=xN(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&NN.assertOptions(i,{silentJSONParsing:AN.transitional(AN.boolean),forcedJSONParsing:AN.transitional(AN.boolean),clarifyTimeoutError:AN.transitional(AN.boolean)},!1),void 0!==a&&NN.assertOptions(a,{encode:AN.function,serialize:AN.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&NI.merge(o.common,o[t.method]))&&NI.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=cN.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[EN.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],y=u[h++];try{p=v(p)}catch(Fc){y.call(this,Fc);break}}try{c=EN.call(this,p)}catch(Fc){return Promise.reject(Fc)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return WI(vN((e=xN(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();NI.forEach(["delete","get","head","options"],(function(e){ON.prototype[e]=function(t,n){return this.request(xN(n||{},{method:e,url:t,data:(n||{}).data}))}})),NI.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(xN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ON.prototype[e]=t(),ON.prototype[e+"Form"]=t(!0)}));var RN=ON,PN=function(){function e(t){if((0,rr.Z)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new dN(e,t,i),n(r.reason))}))}return(0,ir.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),DN=PN;var LN=function e(t){var n=new RN(t),r=JC(RN.prototype.request,n);return NI.extend(r,RN.prototype,n,{allOwnKeys:!0}),NI.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(xN(t,n))},r}(nN);LN.Axios=RN,LN.CanceledError=dN,LN.CancelToken=DN,LN.isCancel=fN,LN.VERSION=TN,LN.toFormData=UI,LN.AxiosError=PI,LN.Cancel=LN.CanceledError,LN.all=function(e){return Promise.all(e)},LN.spread=function(e){return function(t){return e.apply(null,t)}},LN.isAxiosError=function(e){return NI.isObject(e)&&!0===e.isAxiosError},LN.AxiosHeaders=cN,LN.formToJSON=function(e){return JI(NI.isHTMLForm(e)?new FormData(e):e)},LN.default=LN;var ZN=LN.create({baseURL:"https://rickandmortyapi.com/api"}),MN=function(){var e=nr(Mn().mark((function e(t){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZN.get("/character?page=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),FN=Mn().mark(jN);function UN(e){var t=e.page;return Mn().mark((function e(){var n,r,i,a;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(MN,t);case 3:return n=e.sent,r=n.data,i=r.info.next?r.info.next.substring(r.info.next.search(/=/)+1):null,a=r.info.prev?r.info.prev.substring(r.info.next.search(/=/)+1):null,r={info:{prev:a,next:i},list:r.results.map((function(e){return{name:e.name,image:e.image,id:e.id}}))},e.next=10,tt((0,k.Dv)(r));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,tt((0,k.sT)(e.t0.message,t));case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))()}function jN(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(q.bD,UN);case 2:case"end":return e.stop()}}),FN)}var VN=Mn().mark($N),zN=Mn().mark(YN),qN=Mn().mark(XN),BN=Mn().mark(JN),WN=Mn().mark(eA),HN=Mn().mark(tA),GN=Mn().mark(nA),KN=Mn().mark(rA),QN=Mn().mark(iA);function $N(){var e,t;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ut((function(e){return e.auth}));case 3:if(""!==(e=n.sent).email&&""!==e.pass){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,it(Su,GC,e.email,e.pass);case 8:return n.next=10,st(1e3);case 10:return n.next=12,at(XN);case 12:return n.next=14,at(eA);case 14:return n.next=16,tt((0,k.vQ)());case 16:return n.next=18,tt((0,k.Oq)(!0));case 18:n.next=25;break;case 20:return n.prev=20,n.t0=n.catch(0),t=n.t0.message.substring(n.t0.message.search("Firebase:")+10),n.next=25,tt((0,k.x5)(!0,t));case 25:case"end":return n.stop()}}),VN,null,[[0,20]])}function YN(){var e,t;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ut((function(e){return e.auth}));case 3:if(""!==(e=n.sent).email&&""!==e.pass){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,it(Tu,GC,e.email,e.pass);case 8:return n.next=10,at(eA);case 10:return n.next=12,tt((0,k.Oq)(!0));case 12:return n.next=14,tt((0,k.vQ)());case 14:n.next=21;break;case 16:return n.prev=16,n.t0=n.catch(0),t=n.t0.message.substring(n.t0.message.search("Firebase:")+10),n.next=21,tt((0,k.x5)(!0,t));case 21:case"end":return n.stop()}}),zN,null,[[0,16]])}function XN(){var e;return Mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=ev(),t.next=4,Wp(qp(e,"profile/"+GC.currentUser.uid),{status:"",about:""});case 4:return t.next=6,FC(fT(KC,"users",GC.currentUser.uid),{uid:GC.currentUser.uid,displayName:GC.currentUser.displayName,email:GC.currentUser.email,dialogs:[],chats:[]});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error registration! Please contact to Administration Chat!(@toron2c) ErrorMessage: ".concat(t.t0.message));case 11:case"end":return t.stop()}}),qN,null,[[0,8]])}function JN(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(GC);case 2:return e.next=4,tt((0,k.Aq)());case 4:return e.next=6,tt((0,k.Sz)());case 6:case"end":return e.stop()}}),BN)}function eA(){var e,t,n;return Mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=qp(ev(),"profile/".concat(GC.currentUser.uid)),r.next=4,Hp(e);case 4:return t=r.sent,n={email:GC.currentUser.email,name:GC.currentUser.displayName,uid:GC.currentUser.uid,infoUser:t.val()},r.next=8,tt((0,k.Fv)(n));case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error("Error get datas profile. Please contact to administration Chat! (@toron2c) ErrorMessage: ".concat(r.t0.message));case 13:case"end":return r.stop()}}),WN,null,[[0,10]])}function tA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.Fg,$N);case 2:case"end":return e.stop()}}),HN)}function nA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.F6,YN);case 2:case"end":return e.stop()}}),GN)}function rA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.D_,JN);case 2:case"end":return e.stop()}}),KN)}function iA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt([tA(),nA(),rA()]);case 2:case"end":return e.stop()}}),QN)}var aA=Mn().mark(yA),oA=Mn().mark(mA),uA=Mn().mark(gA),sA=Mn().mark(kA),cA=Mn().mark(bA),lA=Mn().mark(_A),fA=Mn().mark(wA),hA=Mn().mark(SA),dA=Mn().mark(xA),pA=Mn().mark(TA),vA=Mn().mark(CA);function yA(){var e,t,n,r,i,a,o,u,s,c,l,f,h;return Mn().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,st(500);case 3:return e=[],t=fT(KC,"users",GC.currentUser.uid),d.next=7,LC(t);case 7:(n=d.sent).exists()&&(e=n.data().dialogs),r=[],i=Jn(e.entries()),d.prev=11,i.s();case 13:if((a=i.n()).done){d.next=24;break}return o=(0,er.Z)(a.value,2),u=o[0],s=o[1],d.next=17,mA(s.uidAnotherUser);case 17:d.t0=d.sent,d.t1=s.chatId,d.t2=u,c={nameDialog:d.t0,chatId:d.t1,linkToDialog:d.t2},r.push(c);case 22:d.next=13;break;case 24:d.next=29;break;case 26:d.prev=26,d.t3=d.catch(11),i.e(d.t3);case 29:return d.prev=29,i.f(),d.finish(29);case 32:if(!(r.length>0)){d.next=52;break}return d.next=35,tt((0,k.pO)(r));case 35:l=Jn(r),d.prev=36,l.s();case 38:if((f=l.n()).done){d.next=44;break}return h=f.value,d.next=42,tt((0,k.Bo)(h.chatId,h.linkToDialog));case 42:d.next=38;break;case 44:d.next=49;break;case 46:d.prev=46,d.t4=d.catch(36),l.e(d.t4);case 49:return d.prev=49,l.f(),d.finish(49);case 52:d.next=57;break;case 54:d.prev=54,d.t5=d.catch(0),console.error("error load chat's. please contact to administration (@toron2c)\n message: ".concat(d.t5.message));case 57:case"end":return d.stop()}}),aA,null,[[0,54],[11,26,29,32],[36,46,49,52]])}function mA(e){var t,n,r,i;return Mn().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=fT(KC,"users",e),n="",e!==GC.currentUser.uid){a.next=7;break}n="Saved messages",a.next=11;break;case 7:return a.next=9,LC(t);case 9:(r=a.sent).exists()&&(i=r.data(),n=i.displayName?i.displayName:i.email);case 11:return a.abrupt("return",n);case 14:a.prev=14,a.t0=a.catch(0),console.error("error load chat's. please contact to administration (@toron2c)\n message: ".concat(a.t0.message));case 17:case"end":return a.stop()}}),oA,null,[[0,14]])}function gA(){var e,t,n;return Mn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,st(500);case 3:return r.next=5,ut((function(e){return e.chats.nameNewChat}));case 5:return e=r.sent,r.next=8,it(kA,e);case 8:if(!(t=r.sent)){r.next=21;break}return r.next=12,it(bA,t);case 12:if(r.sent){r.next=18;break}return r.next=16,it(_A,t);case 16:r.next=19;break;case 18:throw new Error("sorry, but there is already a dialog with the current user");case 19:r.next=22;break;case 21:throw new Error('sorry, but user with this email "'.concat(e,'" not found'));case 22:r.next=30;break;case 24:return r.prev=24,r.t0=r.catch(0),n="error load data. please contact to administration (@toron2c)\n message: ".concat(r.t0.message),console.error(n),r.next=30,tt((0,k.S4)(n));case 30:case"end":return r.stop()}}),uA,null,[[0,24]])}function kA(e){var t,n,r;return Mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=null,n=lT(KC,"users"),i.next=5,Kp(n,mC("email","==",e));case 5:return r=i.sent,i.next=8,MC(r);case 8:return i.sent.forEach((function(e){t=e.data().uid})),i.abrupt("return",t);case 13:i.prev=13,i.t0=i.catch(0),console.error("error load data. please contact to administration (@toron2c)\n message: ".concat(i.t0.message));case 16:case"end":return i.stop()}}),sA,null,[[0,13]])}function bA(e){var t,n,r,i,a,o;return Mn().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=!1,n=[],r=fT(KC,"users",GC.currentUser.uid),u.next=6,LC(r);case 6:(i=u.sent).exists()&&(n=i.data().dialogs),a=Jn(n);try{for(a.s();!(o=a.n()).done;)o.value.uidAnotherUser===e&&(t=!0)}catch(s){a.e(s)}finally{a.f()}return u.abrupt("return",t);case 13:u.prev=13,u.t0=u.catch(0),console.error("error load data. please contact to administration (@toron2c)\n message: ".concat(u.t0.message));case 16:case"end":return u.stop()}}),cA,null,[[0,13]])}function _A(e){var t,n,r,i;return Mn().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=null,n=fT(KC,"users",e),a.next=5,LC(n);case 5:return t=(t=a.sent).data(),a.next=9,jC(lT(KC,"dialogs"),{});case 9:return r=a.sent,a.next=12,UC(fT(KC,"dialogs",r.id),{uidChat:r.id});case 12:return a.next=14,lT(r,"".concat(r.id,"_messages"));case 14:return i=a.sent,a.next=17,FC(fT(i),{});case 17:return a.next=19,UC(fT(KC,"users",GC.currentUser.uid),{dialogs:WC({chatId:r.id,emailAnotherUser:t.email,uidAnotherUser:t.uid,anotherName:t.displayName})});case 19:return a.next=21,UC(fT(KC,"users",t.uid),{dialogs:WC({chatId:r.id,emailAnotherUser:GC.currentUser.email,uidAnotherUser:GC.currentUser.uid,anotherName:GC.currentUser.displayName})});case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(0),console.error("error add dialog. please contact to administration (@toron2c)\n message: ".concat(a.t0.message));case 26:case"end":return a.stop()}}),lA,null,[[0,23]])}function wA(){var e,t;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,st(1e3);case 3:return n.next=5,it(EA);case 5:e=n.sent;case 6:return n.next=8,ut((function(e){return e.chats.subscribeActived}));case 8:if(!n.sent){n.next=21;break}return n.next=11,et(e);case 11:return t=n.sent,n.next=14,ut((function(e){return e.chats.subscribeActived}));case 14:if(!n.sent){n.next=18;break}return n.delegateYield(Mn().mark((function e(){var n,r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n={nameDialog:t.anotherName?t.anotherName:t.emailAnotherUser,chatId:t.chatId})){e.next=9;break}return e.next=4,tt((0,k._g)(n));case 4:return e.next=6,ut((function(e){return e.chats.chatList.find((function(e){return e.chatId===n.chatId}))}));case 6:return r=e.sent,e.next=9,tt((0,k.Bo)(r.chatId,r.linkToDialog));case 9:case"end":return e.stop()}}),e)}))(),"t0",16);case 16:n.next=19;break;case 18:e.close();case 19:n.next=6;break;case 21:n.next=26;break;case 23:n.prev=23,n.t1=n.catch(0),console.log("Error connection, please contact to administration (@toron2c)\n message: ".concat(n.t1.message));case 26:case"end":return n.stop()}}),fA,null,[[0,23]])}function EA(){return It((function(e){var t=VC(fT(KC,"users",GC.currentUser.uid),(function(t){var n,r,i=Jn(t.data().dialogs);try{for(i.s();!(r=i.n()).done;){n=r.value}}catch(a){i.e(a)}finally{i.f()}n&&e(n)}));return function(){t()}}))}function SA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.Bj,yA);case 2:case"end":return e.stop()}}),hA)}function xA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.c4,gA);case 2:case"end":return e.stop()}}),dA)}function TA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.z,wA);case 2:case"end":return e.stop()}}),pA)}function CA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt([SA(),xA(),TA()]);case 2:case"end":return e.stop()}}),vA)}var IA=Mn().mark(VA),NA=Mn().mark(zA),AA=Mn().mark(qA),OA=Mn().mark(BA),RA=Mn().mark(WA),PA=Mn().mark(HA);function DA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Mn().mark((function n(){var r,i,a,o,u,s,c,l;return Mn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=[],o=vC(lT(fT(lT(KC,"dialogs"),e),"".concat(e,"_messages")),kC("TimestampServer","desc"),_C(30)),n.next=5,MC(o);case 5:u=n.sent;case 6:if(!(t>0)){n.next=17;break}return r=u.docs[u.docs.length-1],n.next=10,vC(lT(fT(lT(KC,"dialogs"),e),"".concat(e,"_messages")),kC("TimestampServer","desc"),_C(12),EC(r));case 10:return i=n.sent,n.next=13,MC(i);case 13:u=n.sent,t--,n.next=6;break;case 17:for(u.forEach((function(e){a.unshift(L(L({},e.data()),{},{idMessage:e.id}))})),s=0,c=a;s<c.length;s++)(l=c[s]).TimestampServer=new Date(1e3*l.TimestampServer.seconds),delete l.TimestampUser,l.author=l.author===GC.currentUser.uid?"you":"notYou";return n.abrupt("return",a);case 22:n.prev=22,n.t0=n.catch(0),console.error("error load messages, please contact to administartion (@toron2c)\nmessage: ".concat(n.t0.message));case 25:case"end":return n.stop()}}),n,null,[[0,22]])}))()}function LA(e){var t=e.uid,n=e.link;return Mn().mark((function e(){var r;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(DA,t);case 3:return r=e.sent,e.next=6,tt((0,k._o)(t,n,r,1));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error load messages, please contact to administartion (@toron2c)\nmessage: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))()}function ZA(e){var t=e.uid;return Mn().mark((function e(){var n,r,i,a,o;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut((function(e){return e.messages.messageList[t].page}));case 3:return n=e.sent,e.next=6,ut((function(e){return e.messages.messageList[t].messages.length}));case 6:return r=e.sent,i=vC(lT(fT(lT(KC,"dialogs"),t),"".concat(t,"_messages")),kC("TimestampServer","desc")),e.next=10,BC(i);case 10:if(a=e.sent,r!==a.data().count){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,it(DA,t,n);case 15:return o=e.sent,e.next=18,tt((0,k.r)(t,o));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("error load messages, please contact to administartion (@toron2c)\nmessage: ".concat(e.t0.message));case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))()}function MA(e){var t=e.uid;return Mn().mark((function e(){var n,r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut((function(e){return e.messages.textNewMessage}));case 3:return n=e.sent,r={message:n,author:GC.currentUser.uid,TimestampUser:new Date},e.next=7,tt((0,k.bG)());case 7:return i=lT(fT(lT(KC,"dialogs"),t),"".concat(t,"_messages")),e.next=10,jC(i,L(L({},r),{},{TimestampServer:new $T("serverTimestamp")}));case 10:return void(e.next=12);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("error send message. please contact to administration (@toron2c)\nmessage: ".concat(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))()}function FA(e){var t=e.uid;return Mn().mark((function e(){var n,r,i;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(1e3);case 2:return e.next=4,it(UA,t);case 4:n=e.sent,e.prev=5;case 6:return e.next=8,ut((function(e){return e.messages.messageList[t].subscribe}));case 8:if(!e.sent){e.next=26;break}return e.next=11,st(1e3);case 11:return e.next=13,et(n);case 13:return r=e.sent,e.next=16,ut((function(e){return e.messages.messageList[t].subscribe}));case 16:if(!e.sent){e.next=23;break}if(!r){e.next=21;break}return i={TimeStamp:r.TimestampServer?new Date(1e3*r.TimestampServer.seconds):new Date(1e3*r.TimestampUser.seconds),author:r.author===GC.currentUser.uid?"you":"notYou",message:r.message,idMessage:r.id},e.next=21,tt((0,k.RC)(t,i));case 21:e.next=24;break;case 23:n.close();case 24:e.next=6;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(5),console.error("error load message! please contact to administration (@toron2c)\n message: ".concat(e.t0.message));case 31:case"end":return e.stop()}}),e,null,[[5,28]])}))()}function UA(e){return It((function(t){var n,r,i=VC(vC(lT(fT(lT(KC,"dialogs"),e),"".concat(e,"_messages")),kC("TimestampServer")),(function(e){e.docChanges().forEach((function(e){"added"===e.type&&(n=e.doc.data(),r=e.doc.id),n&&t(L(L({},n),{},{id:r}))}))}));return function(){i()}}))}function jA(e){var t=e.uid;return Mn().mark((function e(){var n;return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(DA,t);case 3:return n=e.sent,e.next=6,tt((0,k.m4)(t,n));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error load messages! please contact to administration (@toron2c)!\nMessage:".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))()}function VA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(q.CK,LA);case 2:case"end":return e.stop()}}),IA)}function zA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(q.zS,ZA);case 2:case"end":return e.stop()}}),NA)}function qA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(q.Dn,MA);case 2:case"end":return e.stop()}}),AA)}function BA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.nF,FA);case 2:case"end":return e.stop()}}),OA)}function WA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(q.UZ,jA);case 2:case"end":return e.stop()}}),RA)}function HA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt([VA(),zA(),qA(),BA(),WA()]);case 2:case"end":return e.stop()}}),PA)}var GA=Mn().mark(KA);function KA(){return Mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt([jN(),iA(),XC(),CA(),HA()]);case 2:case"end":return e.stop()}}),GA)}Sn.run(KA),t.createRoot(document.getElementById("root")).render((0,i.jsx)(e.StrictMode,{children:(0,i.jsx)(v.zt,{store:xn,children:(0,i.jsx)(Ln,{persistor:Tn,children:(0,i.jsx)(l.UT,{children:(0,i.jsx)(O,{})})})})})),R()}()}();
//# sourceMappingURL=main.1e7338b6.js.map
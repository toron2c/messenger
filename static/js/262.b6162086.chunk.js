"use strict";(self.webpackChunkmessenger2000=self.webpackChunkmessenger2000||[]).push([[262],{8262:function(e,s,t){t.r(s),t.d(s,{default:function(){return i}});var n=t(2478),a="ChatsMobileMessages_boxMessageMobile__6LuYL",r=t(184);function i(){return(0,r.jsx)("div",{className:a,children:(0,r.jsx)(n.Z,{})})}},2478:function(e,s,t){t.d(s,{Z:function(){return b}});var n={warning:"Messages_warning__IPlWp",box:"Messages_box__yA9Oi",messagesTitle:"Messages_messagesTitle__9Ixka",messages:"Messages_messages__NOyjG",messagesTitleName:"Messages_messagesTitleName__vJm3a",user:"Messages_user__xjqnt",bot:"Messages_bot__rKVlM",date:"Messages_date__9Yi9-",box__back:"Messages_box__back__AnfSn",avatar:"Messages_avatar__ZK9L8"},a=t(5048),r=t(7689),i=t(1087),u="MessageInputNewMessage_box__5elFE",c="MessageInputNewMessage_inputMessageArea__Bh0Xu",o="MessageInputNewMessage_buttonEnter__ePF2N",l=t(5122),g=t(184);function d(e){var s=e.uid,t=(0,a.I0)(),n=(0,a.v9)((function(e){return e.messages.textNewMessage}));return(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("textarea",{className:c,autoFocus:!0,id:"inputRef",value:n,onChange:function(e){e.preventDefault(),t((0,l.wm)(e.target.value))},placeholder:"text message"}),(0,g.jsx)("button",{className:o,onClick:function(e){e.preventDefault(),""!==n&&(t((0,l.kG)(s)),document.getElementById("inputRef").focus())},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}var m=t(2791),f="message_text__QgITz",_="message_time__HMD2P",h="message_user__XBjqZ",v="message_bot__OGAak",x=(0,m.forwardRef)((function(e,s){var t=e.el,n=new Date(t.TimestampServer?t.TimestampServer:new Date),a=window.innerWidth;return(0,m.useEffect)((function(){a<=600?s.current.scrollIntoView(!0):s.current.scrollIntoView({behavior:"smooth"})}),[s,a]),(0,g.jsx)("div",{className:"you"===t.author?h:v,children:(0,g.jsxs)("div",{className:f,children:[t.message,(0,g.jsxs)("div",{className:_,children:[n.getHours()," : ",(n.getMinutes()<10?"0":"")+n.getMinutes()]})]})})}));function M(e){var s,t,r=e.uid,i=(0,a.v9)((s=r,function(e){return e.messages.messageList[s].messages})),u=(0,a.I0)(),c=(0,m.useRef)();(0,m.useEffect)((function(){return u((0,l.L9)(r)),function(){u((0,l.qn)(r))}}),[r,u]);var o=i.map((function(e){var s=new Date(e.TimestampServer?e.TimestampServer:new Date);if(void 0===t||t.getDate()!==s.getDate()){var a=(t=s).toLocaleString("default",{month:"long"});return(0,g.jsxs)(m.Fragment,{children:[(0,g.jsxs)("div",{className:n.date,children:[a," ",t.getDate()]},"".concat(e.idMessage,"_date")),(0,g.jsx)(j,{ref:c,el:e},"".concat(e.idMessage,"_m"))]},e.idMessage)}return(0,g.jsx)(j,{ref:c,el:e},"".concat(e.idMessage,"_message"))}));return(0,g.jsxs)(g.Fragment,{children:[o&&o,(0,g.jsx)("div",{ref:c})]})}var j=m.memo(x),N=t(3398);function b(){var e=(0,r.UO)().id,s=(0,a.I0)(),t=(0,m.useMemo)((function(){return(0,N.iN)(e)}),[e]),u=(0,a.v9)(t),c=(0,m.useRef)(),o=window.innerWidth;(0,m.useEffect)((function(){u&&s((0,l.Lt)(u.chatId))}),[u,s]);return(0,g.jsx)(g.Fragment,{children:u?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:n.box,children:[(0,g.jsxs)("div",{className:n.messagesTitle,children:[(0,g.jsxs)("div",{className:n.messagesTitleName,children:[u.nameDialog,u.avatar&&(0,g.jsx)("img",{className:n.avatar,src:u.avatar,width:"24",heigth:"24",alt:"profile avatar"})]}),o<1024&&(0,g.jsx)("div",{children:(0,g.jsx)(i.rU,{class:n.box__back,to:"/chats",children:"\u2190"})})]}),(0,g.jsxs)("div",{onScroll:function(){Math.abs(c.current.getBoundingClientRect().top-c.current.offsetTop)<1&&s((0,l.Sq)(u.chatId))},className:n.messages,children:[(0,g.jsx)("div",{ref:c}),(0,g.jsx)(M,{uid:u.chatId})]}),(0,g.jsx)("div",{className:n.input,children:(0,g.jsx)(d,{uid:u.chatId})})]})}):(0,g.jsx)("p",{className:n.warning,children:"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0447\u0430\u0442"})})}},3398:function(e,s,t){function n(){return function(e){return e.chats.chatList}}function a(e){return function(s){return s.chats.chatList.find((function(s){return s.linkToDialog===Number(e)}))}}function r(){return function(e){return e.chats.toggleNewChat}}function i(){return function(e){return e.chats.error.isError}}function u(){return function(e){return e.chats.error.msg}}t.d(s,{VF:function(){return r},dO:function(){return u},dq:function(){return i},iN:function(){return a},vK:function(){return n}})}}]);
//# sourceMappingURL=262.b6162086.chunk.js.map